{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_src/app.js","_src/config.js","_src/payment-confirmation.js","_src/payment.js","_src/router.js","node_modules/classlist-polyfill/src/index.js","node_modules/domify/index.js","node_modules/es6-object-assign/src/index.js","node_modules/firebase/app.js","node_modules/firebase/auth.js","node_modules/firebase/database.js","node_modules/firebase/firebase-browser.js","node_modules/firebase/messaging.js","node_modules/firebase/storage.js","node_modules/form-serialize/index.js","node_modules/vex-dialog/dist/vex.dialog.js","node_modules/vex-js/dist/js/vex.js"],"names":[],"mappings":"AAAA;;;;;ACAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEM,G;AACF,iBAAY,IAAZ,EAAkB;AAAA;;AACd,wBAAI,cAAJ;AACA,wBAAI,cAAJ,CAAmB,SAAnB,GAA+B,iBAAO,QAAP,EAA/B;AACA,aAAK,GAAL;AACA,aAAK,QAAL,GAAgB,mBAAS,aAAT,CAAuB,iBAAO,QAAP,EAAvB,CAAhB;AACA,aAAK,UAAL,GAAkB,KAAK,QAAL,CAAc,OAAd,GAAwB,GAAxB,EAAlB;AACA,aAAK,GAAL,GAAW,KAAK,KAAL,CAAW,KAAK,GAAhB,CAAX;AACA,aAAK,IAAL,GAAY,KAAK,IAAjB;AACA,aAAK,MAAL,GAAc,sBAAd;AACA,YAAI,CAAC,KAAK,MAAL,CAAY,cAAZ,EAAL,EAAmC,KAAK,OAAL;AACtC;;;;yCAEgB,G,EAAK;AAClB,iBAAK,MAAL,CAAY,gBAAZ,CAA6B,GAA7B;AACH;;AAED;;;;;;;;kCAKU;AAAA;;AACN;AACA,iBAAK,QAAL,CAAc,IAAd,GAAqB,kBAArB,CAAwC,UAAC,IAAD,EAAU;AAC9C,oBAAI,kBAAJ,EAAwB;AACpB,wBAAI,YAAY,SAAS,cAAT,CAAwB,oBAAxB,EAA8C,KAA9D;AACA,wBAAI,WAAW,SAAS,cAAT,CAAwB,mBAAxB,EAA6C,KAA5D;AACA,wBAAI,gBAAgB,SAAS,cAAT,CAAwB,wBAAxB,EAAkD,KAAtE;AACA,wBAAI,iBAAiB,SAAS,cAAT,CAAwB,yBAAxB,EAAmD,KAAxE;AACA,0BAAK,QAAL,CAAc,QAAd,GAAyB,GAAzB,CAA6B,WAAW,KAAK,GAA7C,EAAkD,GAAlD,CAAsD;AAClD,mCAAW,SADuC;AAElD,kCAAU,QAFwC;AAGlD,uCAAe,aAHmC;AAIlD,wCAAgB,cAJkC;AAKlD,iCAAS;AALyC,qBAAtD;AAOA,yCAAqB,KAArB;AACH;AACD,sBAAK,GAAL,CAAS,OAAT,CAAiB,UAAC,UAAD,EAAgB;AAC7B,wBAAI,WAAW,IAAX,IAAmB,MAAK,IAA5B,EAAkC;;AAElC,wBAAI,IAAJ,EAAU;AACN,8BAAK,MAAL,CAAY,OAAZ,CAAoB,IAApB;;AAEA;AACA,iCAAS,cAAT,CAAwB,cAAxB,EAAwC,WAAxC,GAAsD,WAAW,MAAjE;AACA,iCAAS,cAAT,CAAwB,SAAxB,EAAmC,KAAnC,CAAyC,OAAzC,GAAmD,QAAnD;;AAEA;AACA,4BAAI,iBAAiB,SAAS,sBAAT,CAAgC,cAAhC,CAArB;AAAA,4BAAsE,CAAtE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,eAAe,MAAnC,EAA2C,GAA3C;AACI,2CAAe,CAAf,EAAkB,KAAlB,CAAwB,OAAxB,GAAkC,OAAlC;AADJ,yBATM,CAWN;AACA,4BAAI,oBAAoB,SAAS,sBAAT,CAAgC,aAAhC,CAAxB;AAAA,4BAAwE,CAAxE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,kBAAkB,MAAtC,EAA8C,GAA9C;AACI,8CAAkB,CAAlB,EAAqB,KAArB,CAA2B,OAA3B,GAAqC,MAArC;AADJ,yBAbM,CAeN;AACA,4BAAI,gBAAgB,SAAS,sBAAT,CAAgC,WAAhC,CAApB;AAAA,4BAAkE,CAAlE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,cAAc,MAAlC,EAA0C,GAA1C;AACI,0CAAc,CAAd,EAAiB,QAAjB,GAA4B,KAA5B;AADJ,yBAjBM,CAmBN;AACA,8BAAK,QAAL,CAAc,QAAd,GAAyB,GAAzB,CAA6B,YAAY,KAAK,GAA9C,EAAmD,IAAnD,CAAwD,OAAxD,EAAiE,IAAjE,CAAsE,UAAU,QAAV,EAAoB;AACtF,gCAAI,SAAS,GAAT,GAAe,OAAf,KAA2B,IAA/B,EAAqC;AACjC,oCAAI,gBAAgB,SAAS,sBAAT,CAAgC,YAAhC,CAApB;AAAA,oCAAmE,CAAnE;AACA,qCAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,cAAc,MAAlC,EAA0C,GAA1C;AACI,kDAAc,CAAd,EAAiB,KAAjB,CAAuB,OAAvB,GAAiC,OAAjC;AADJ;AAEH;AACJ,yBAND;AAOA;AACA,4BAAI,gBAAgB,SAAS,sBAAT,CAAgC,WAAhC,CAApB;AAAA,4BAAkE,CAAlE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,cAAc,MAAlC,EAA0C,GAA1C,EAA+C;AAC3C,0CAAc,CAAd,EAAiB,gBAAjB,CAAkC,QAAlC,EAA4C,gBAA5C,EAA8D,KAA9D;AACH;AACJ,qBAhCD,MAiCK;AACD;AACA,iCAAS,cAAT,CAAwB,cAAxB,EAAwC,WAAxC,GAAsD,WAAW,KAAjE;AACA,iCAAS,cAAT,CAAwB,SAAxB,EAAmC,KAAnC,CAAyC,OAAzC,GAAmD,MAAnD;;AAEA;AACA,4BAAI,iBAAiB,SAAS,sBAAT,CAAgC,cAAhC,CAArB;AAAA,4BAAsE,CAAtE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,eAAe,MAAnC,EAA2C,GAA3C;AACI,2CAAe,CAAf,EAAkB,KAAlB,CAAwB,OAAxB,GAAkC,MAAlC;AADJ,yBAPC,CASD;AACA,4BAAI,oBAAoB,SAAS,sBAAT,CAAgC,aAAhC,CAAxB;AAAA,4BAAwE,CAAxE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,kBAAkB,MAAtC,EAA8C,GAA9C;AACI,8CAAkB,CAAlB,EAAqB,KAArB,CAA2B,OAA3B,GAAqC,OAArC;AADJ,yBAXC,CAaD;AACA,4BAAI,gBAAgB,SAAS,sBAAT,CAAgC,WAAhC,CAApB;AAAA,4BAAkE,CAAlE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,cAAc,MAAlC,EAA0C,GAA1C,EAA+C;AAC3C,0CAAc,CAAd,EAAiB,QAAjB,GAA4B,IAA5B;AACA,oCAAQ,cAAc,CAAd,EAAiB,kBAAzB;AACA,kCAAM,aAAN,CAAoB,MAApB,EAA4B,SAA5B,GAAwC,uBAAxC;AACA,qCAAS,cAAT,CAAwB,cAAc,CAAd,EAAiB,EAAjB,GAAsB,OAA9C,EAAuD,SAAvD,GAAmE,EAAnE;AACH;AACD;AACA,4BAAI,gBAAgB,SAAS,sBAAT,CAAgC,YAAhC,CAApB;AAAA,4BAAmE,CAAnE;AACA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,cAAc,MAAlC,EAA0C,GAA1C;AACI,0CAAc,CAAd,EAAiB,KAAjB,CAAuB,OAAvB,GAAiC,MAAjC;AADJ;AAEH;AACJ,iBA9DD;;AAiEA;AACA,oBAAI,OAAO,QAAP,CAAgB,QAAhB,IAA4B,WAA5B,IACG,OAAO,QAAP,CAAgB,QAAhB,IAA4B,kDADnC,EACuF;AACnF,wBAAI,IAAJ,EAAU;AACN,8BAAK,QAAL,CAAc,QAAd,GAAyB,GAAzB,CAA6B,YAAY,KAAK,GAA9C,EAAmD,IAAnD,CAAwD,OAAxD,EAAiE,IAAjE,CAAsE,UAAU,QAAV,EAAoB;AACtF,gCAAI,YAAY,SAAS,GAAT,GAAe,SAA/B;AACA,gCAAI,WAAW,SAAS,GAAT,GAAe,QAA9B;AACA,qCAAS,cAAT,CAAwB,cAAxB,EAAwC,WAAxC,GAAsD,YAAY,GAAZ,GAAkB,QAAxE;AACA,qCAAS,cAAT,CAAwB,gBAAxB,EAA0C,WAA1C,GAAwD,SAAS,GAAT,GAAe,aAAvE;AACA,qCAAS,cAAT,CAAwB,mBAAxB,EAA6C,WAA7C,GAA2D,SAAS,GAAT,GAAe,cAA1E;AACA,gCAAI,eAAe,SAAS,cAAT,CAAwB,eAAxB,CAAnB;AACA,yCAAa,WAAb,GAA2B,KAAK,KAAhC;AACA,yCAAa,IAAb,GAAoB,YAAY,KAAK,KAArC;AACH,yBATD;AAUH,qBAXD,MAYK;AACD,iCAAS,cAAT,CAAwB,cAAxB,EAAwC,WAAxC,GAAsD,EAAtD;AACA,iCAAS,cAAT,CAAwB,gBAAxB,EAA0C,WAA1C,GAAwD,EAAxD;AACA,iCAAS,cAAT,CAAwB,mBAAxB,EAA6C,WAA7C,GAA2D,EAA3D;AACA,4BAAI,eAAe,SAAS,cAAT,CAAwB,eAAxB,CAAnB;AACA,qCAAa,WAAb,GAA2B,EAA3B;AACA,qCAAa,IAAb,GAAoB,EAApB;AACH;AACJ;;AAED;AACA,oBAAI,QAAQ,OAAO,QAAP,CAAgB,QAAhB,IAA4B,kDAAxC,EAA4F;;AAExF;AACA,wBAAI,UAAU,sBAAsB,mCAApC;AACA,0BAAK,QAAL,CAAc,QAAd,GAAyB,GAAzB,CAA6B,OAA7B,EAAsC,IAAtC,CAA2C,OAA3C,EAAoD,IAApD,CAAyD,UAAU,QAAV,EAAoB;AACzE;AACA,4BAAI,SAAS,KAAT,CAAe,KAAK,GAApB,EAAyB,MAAzB,EAAJ,EAAuC;AACnC,gCAAI,cAAc,SAAS,KAAT,CAAe,KAAK,GAApB,CAAlB;AACA;AACA,gCAAI,YAAY,KAAZ,CAAkB,WAAlB,EAA+B,MAA/B,EAAJ,EAA6C;AACzC;AACH;AACD;AAHA,iCAIK;AACD,8CAAU,UAAU,GAAV,GAAgB,KAAK,GAA/B;AACA,wCAAI,YAAY,KAAZ,CAAkB,mBAAlB,EAAuC,MAAvC,EAAJ,EACI,aAAa,OAAb,EAAsB,oBAAtB,EAA4C,YAAY,GAAZ,GAAkB,iBAA9D;AACJ,wCAAI,YAAY,KAAZ,CAAkB,iBAAlB,EAAqC,MAArC,EAAJ,EACI,aAAa,OAAb,EAAsB,kBAAtB,EAA0C,YAAY,GAAZ,GAAkB,eAA5D;AACJ,wCAAI,YAAY,KAAZ,CAAkB,oBAAlB,EAAwC,MAAxC,EAAJ,EACI,aAAa,OAAb,EAAsB,sBAAtB,EAA8C,YAAY,GAAZ,GAAkB,kBAAhE;AACJ,wCAAI,YAAY,KAAZ,CAAkB,YAAlB,EAAgC,MAAhC,EAAJ,EACI,aAAa,OAAb,EAAsB,aAAtB,EAAqC,YAAY,GAAZ,GAAkB,UAAvD;AACJ,wCAAI,YAAY,KAAZ,CAAkB,YAAlB,EAAgC,MAAhC,EAAJ,EACI,aAAa,OAAb,EAAsB,aAAtB,EAAqC,YAAY,GAAZ,GAAkB,UAAvD;;AAEJ,wCAAI,2BAA2B,SAAS,sBAAT,CAAgC,mBAAhC,CAA/B;AAAA,wCAAqF,CAArF;AACA,yCAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,yBAAyB,MAA7C,EAAqD,GAArD;AACI,iEAAyB,CAAzB,EAA4B,KAA5B,CAAkC,OAAlC,GAA4C,OAA5C;AADJ,qCAEA,IAAI,0BAA0B,SAAS,sBAAT,CAAgC,kBAAhC,CAA9B;AAAA,wCAAmF,CAAnF;AACA,yCAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,wBAAwB,MAA5C,EAAoD,GAApD;AACI,gEAAwB,CAAxB,EAA2B,KAA3B,CAAiC,OAAjC,GAA2C,MAA3C;AADJ;AAEH;AACJ,yBA3BD,MA4BK;AACD,gCAAI,2BAA2B,SAAS,sBAAT,CAAgC,mBAAhC,CAA/B;AAAA,gCAAqF,CAArF;AACA,iCAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,yBAAyB,MAA7C,EAAqD,GAArD;AACI,yDAAyB,CAAzB,EAA4B,KAA5B,CAAkC,OAAlC,GAA4C,OAA5C;AADJ,6BAEA,IAAI,0BAA0B,SAAS,sBAAT,CAAgC,kBAAhC,CAA9B;AAAA,gCAAmF,CAAnF;AACA,iCAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,wBAAwB,MAA5C,EAAoD,GAApD;AACI,wDAAwB,CAAxB,EAA2B,KAA3B,CAAiC,OAAjC,GAA2C,MAA3C;AADJ;AAEH;AACJ,qBAtCD;AAuCH;;AAED;AACA,oBAAI,QAAQ,OAAO,QAAP,CAAgB,QAAhB,IAA4B,wDAAxC,EAAkG;;AAE9F;AACA,0BAAK,QAAL,CAAc,QAAd,GAAyB,GAAzB,CAA6B,YAAY,KAAK,GAA9C,EAAmD,IAAnD,CAAwD,OAAxD,EAAiE,IAAjE,CAAsE,UAAU,QAAV,EAAoB;AACtF,4BAAI,SAAS,GAAT,GAAe,OAAf,KAA2B,IAA/B,EAAqC;;AAEjC;AACA,qCAAS,cAAT,CAAwB,gBAAxB,EAA0C,KAA1C,CAAgD,OAAhD,GAA0D,MAA1D;;AAEA;AACA,gCAAI,QAAQ,KAAK,QAAL,CAAc,QAAd,GAAyB,GAAzB,CAA6B,sBAAsB,oCAAnD,EAAyF,UAAzF,EAAZ;AACA;AACA,kCAAM,IAAN,CAAW,OAAX,EAAoB,IAApB,CAAyB,UAAU,QAAV,EAAoB;AACzC,oCAAI,mBAAmB,EAAvB;AACA,oCAAI,eAAe,CAAnB;AACA,yCAAS,OAAT,CAAiB,UAAU,aAAV,EAAyB;AACtC;;AAEA;AACA,wCAAI,cAAc,KAAd,CAAoB,WAApB,EAAiC,MAAjC,EAAJ,EAA+C;AAC3C,4CAAI,aAAa,aAAjB;AACA,4DAAoB,yIAApB;AACA,4DAAoB,oDAApB;AACA,4DAAoB,WAAW,GAAX,GAAiB,IAAjB,GAAwB,QAA5C;AACA,4DAAoB,8DAApB;AACA,4DAAoB,WAAW,GAAX,GAAiB,aAAjB,GAAiC,QAArD;AACA,4DAAoB,+DAApB;AACA,4DAAoB,WAAW,GAAX,GAAiB,cAAjB,GAAkC,QAAtD;AACA,4DAAoB,6DAApB;AACA,4DAAoB,WAAW,GAAX,GAAiB,YAAjB,GAAgC,QAApD;AACA,4DAAoB,iEAApB;AACA,4DAAoB,WAAW,GAAX,GAAiB,eAAjB,GAAmC,QAAvD;AACA,4DAAoB,8DAApB;AACA,4CAAI,gBAAgB,WAAW,GAAX,GAAiB,aAArC;AACA,4CAAI,kBAAkB,EAAtB,EACI,oBAAoB,iBAApB,CADJ,KAGI,oBAAoB,kCAAkC,cAAc,SAAd,CAAwB,CAAxB,CAAlC,GAA+D,oBAA/D,GAAsF,aAAtF,GAAsG,YAA1H;AACJ,4DAAoB,uEAApB;AACA,4DAAoB,WAAW,GAAX,GAAiB,iBAAjB,GAAqC,QAAzD;AACA,4DAAoB,iGAApB;AACA,4DAAoB,kBAAkB,WAAW,GAAX,GAAiB,qBAAnC,GAA2D,+CAA/E;AACA,4DAAoB,kBAAkB,WAAW,GAAX,GAAiB,mBAAnC,GAAyD,oDAA7E;AACA,4DAAoB,kBAAkB,WAAW,GAAX,GAAiB,sBAAnC,GAA4D,mDAAhF;AACA,4DAAoB,kBAAkB,WAAW,GAAX,GAAiB,cAAnC,GAAoD,gDAAxE;AACA,4DAAoB,kBAAkB,WAAW,GAAX,GAAiB,cAAnC,GAAoD,gDAAxE;AACA,4DAAoB,+CAApB;AACA,4DAAoB,+DAA+D,WAAW,GAAX,GAAiB,aAAhF,GAAgG,QAApH;AACA,4DAAoB,gCAApB;AACH;AACJ,iCAnCD;AAoCA;AACA,oCAAI,iBAAiB,CAArB,EACI,SAAS,cAAT,CAAwB,6BAAxB,EAAuD,SAAvD,GAAmE,gBAAnE,CADJ,KAGI,SAAS,cAAT,CAAwB,6BAAxB,EAAuD,SAAvD,GAAmE,gIAAnE;AACP,6BA5CD;AA6CA;AACH;AACJ,qBAxDD;AAyDH;AACJ,aArND;AAwNH;;;;;;AACJ;;AAED,OAAO,GAAP,GAAa,GAAb;;;;;;;;;;;;;ICzPqB,M;;;;;;;mCACC;AACd,mBAAO;AACH,wBAAQ,yCADL;AAEH,4BAAY,iCAFT;AAGH,6BAAa,wCAHV;AAIH,+BAAe,6BAJZ;AAKH,mCAAmB;AALhB,aAAP;AAOH;;;mCAEiB;AACd,mBAAO,mBAAP;AACH;;;;;;kBAbgB,M;;;;;;;;;;;;;ICCA,mB;AACjB,iCAAY,IAAZ,EAAkB,aAAlB,EAAiC;AAAA;;AAC7B,aAAK,IAAL,GAAY,IAAZ;AACA,aAAK,QAAL,GAAgB,cAAc,GAAd,CAAkB,MAAlB,CAAhB;AACA,aAAK,QAAL,GAAgB,QAAQ,SAAS,cAAc,GAAd,CAAkB,aAAlB,CAAT,CAAR,CAAhB;AACA,YAAI,KAAK,QAAT,EAAmB,OAAO,GAAP,CAAW,GAAX,CAAe,MAAf,CAAsB,KAAtB,CAA4B,eAA5B;AACnB,aAAK,UAAL;AACH;;;;qCAEY;AACT,gBAAI,MAAM,SAAS,cAAT,CAAwB,aAAxB,CAAV;AACA,gBAAI,SAAJ,qBAAgC,KAAK,QAArC;AACA,mBAAO,4BAA4B,KAAK,QAAxC;AACH;;;;;;kBAbgB,mB;;;;;;;;;;;;;ICDA,O;AACjB,qBAAY,IAAZ,EAAkB,aAAlB,EAAiC;AAAA;;AAC7B,aAAK,IAAL,GAAY,IAAZ;AACA,aAAK,GAAL,GAAW,aAAX;AACA,aAAK,eAAL;AACH;;;;0CAEiB;AACd,gBAAI,OAAO,SAAS,aAAT,CAAuB,QAAvB,CAAX;AACA,iBAAK,YAAL,CAAkB,IAAlB,EAAwB,cAAxB,EAFc,CAE2B;AACzC,gBAAI,KAAK,SAAS,cAAT,CAAwB,mBAAxB,CAAT;AACA,eAAG,UAAH,CAAc,YAAd,CAA2B,IAA3B,EAAiC,EAAjC,EAJc,CAIwB;AACtC,iBAAK,YAAL,CAAkB,KAAlB,EAAyB,KAAK,GAAL,GAAW,8EAAX,GAA4F,KAAK,IAAL,CAAU,GAA/H;AACH;;;;;;kBAbgB,O;;;;;;;;;;;ACArB;;;;AACA;;;;;;;;IAEqB,M;AACjB,sBAAc;AAAA;;AACV,aAAK,IAAL;AACA,aAAK,OAAL;AACA,aAAK,QAAL,GAAgB,KAAhB;AACA,aAAK,aAAL;AACA,aAAK,MAAL;AACH;;;;iCAEQ;AACL,gBAAI,KAAK,IAAT,EAAe;AACX,oBAAI,IAAI,MAAJ,CAAW,yBAAX,EAAsC,IAAtC,CAA2C,OAAO,QAAP,CAAgB,QAA3D,KAAwE,KAAK,aAAjF,EAAgG;AAC5F,2BAAO,KAAK,iBAAL,EAAP;AACH;AACJ;;AAED,oBAAQ,OAAO,QAAP,CAAgB,QAAxB;AACI,qBAAK,qCAAL;AACI,yBAAK,yBAAL;AACA;AACJ;AACI,4BAAQ,GAAR,CAAY,OAAZ;AALR;AAOH;;;4CAEmB;AAChB,gBAAI,CAAC,KAAK,OAAV,EAAmB,KAAK,OAAL,GAAe,sBAAY,KAAK,IAAjB,EAAuB,KAAK,aAA5B,CAAf;AACtB;;;yCAEgB,G,EAAK;AAClB,iBAAK,aAAL,GAAqB,GAArB;AACA,iBAAK,MAAL;AACH;;;oDAE2B;AACxB,iBAAK,QAAL,GAAgB,IAAhB;AACA,gBAAI,YAAY,IAAI,eAAJ,CAAoB,OAAO,QAAP,CAAgB,MAApC,CAAhB;AACA,8CAAwB,KAAK,IAA7B,EAAmC,SAAnC;AACH;;;yCAEgB;AACb,mBAAO,KAAK,QAAZ;AACH;;;gCAEO,I,EAAM;AACV,iBAAK,IAAL,GAAY,IAAZ;AACA,iBAAK,MAAL;AACH;;;;;;kBA/CgB,M;;;ACHrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC3NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACzlBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Firebase from 'firebase';\r\nimport Config from './config';\r\nimport Router from './router';\r\nimport Vex from 'vex-js';\r\nimport VexDialog from 'vex-dialog';\r\n\r\nclass App {\r\n    constructor(data) {\r\n        Vex.registerPlugin(VexDialog);\r\n        Vex.defaultOptions.className = Config.vexTheme();\r\n        this.vex = Vex;\r\n        this.firebase = Firebase.initializeApp(Config.firebase());\r\n        this.storageRef = this.firebase.storage().ref();\r\n        this.nav = JSON.parse(data.nav);\r\n        this.lang = data.lang;\r\n        this.router = new Router();\r\n        if (!this.router.shouldSkipInit()) this.initApp();\r\n    }\r\n\r\n    setBeanstreamURL(url) {\r\n        this.router.setBeanstreamURL(url);\r\n    }\r\n\r\n    /**\r\n     * initApp handles setting up UI event listeners and registering Firebase auth listeners:\r\n     *  - firebase.auth().onAuthStateChanged: This listener is called when the user is signed in or\r\n     *    out, and that is where we update the UI.\r\n     */\r\n    initApp() {\r\n        // Listening for auth state changes.\r\n        this.firebase.auth().onAuthStateChanged((user) => {\r\n            if (accountJustCreated) {\r\n                var firstName = document.getElementById('account-first-name').value;\r\n                var lastName = document.getElementById('account-last-name').value;\r\n                var medicalSchool = document.getElementById('account-medical-school').value;\r\n                var graduationYear = document.getElementById('account-graduation-year').value;\r\n                this.firebase.database().ref('users/' + user.uid).set({\r\n                    firstName: firstName,\r\n                    lastName: lastName,\r\n                    medicalSchool: medicalSchool,\r\n                    graduationYear: graduationYear,\r\n                    isAdmin: false\r\n                })\r\n                accountJustCreated = false;\r\n            }\r\n            this.nav.forEach((navigation) => {\r\n                if (navigation.lang != this.lang) return;\r\n\r\n                if (user) {\r\n                    this.router.setUser(user);\r\n\r\n                    // User is signed in.\r\n                    document.getElementById('login-button').textContent = navigation.logout;\r\n                    document.getElementById('members').style.display = 'inline';\r\n\r\n                    //Show all member-only elements\r\n                    var memberElements = document.getElementsByClassName('members-only'), i;\r\n                    for (var i = 0; i < memberElements.length; i++)\r\n                        memberElements[i].style.display = 'block';\r\n                    //Hide all non-member elements\r\n                    var nonMemberElements = document.getElementsByClassName('non-members'), i;\r\n                    for (var i = 0; i < nonMemberElements.length; i++)\r\n                        nonMemberElements[i].style.display = 'none';\r\n                    //Enable file uploads\r\n                    var fileUploaders = document.getElementsByClassName('inputfile'), i;\r\n                    for (var i = 0; i < fileUploaders.length; i++)\r\n                        fileUploaders[i].disabled = false;\r\n                    //Show admin elements if is admin\r\n                    this.firebase.database().ref('/users/' + user.uid).once('value').then(function (snapshot) {\r\n                        if (snapshot.val().isAdmin === true) {\r\n                            var adminElements = document.getElementsByClassName('admin-only'), i;\r\n                            for (var i = 0; i < adminElements.length; i++)\r\n                                adminElements[i].style.display = 'block';\r\n                        }\r\n                    });\r\n                    //File upload support\r\n                    var fileUploaders = document.getElementsByClassName('inputfile'), i;\r\n                    for (var i = 0; i < fileUploaders.length; i++) {\r\n                        fileUploaders[i].addEventListener('change', handleFileSelect, false);\r\n                    }\r\n                }\r\n                else {\r\n                    // User is signed out.\r\n                    document.getElementById('login-button').textContent = navigation.login;\r\n                    document.getElementById('members').style.display = 'none';\r\n\r\n                    //Hide all member-only elements\r\n                    var memberElements = document.getElementsByClassName('members-only'), i;\r\n                    for (var i = 0; i < memberElements.length; i++)\r\n                        memberElements[i].style.display = 'none';\r\n                    //Show all non-member elements\r\n                    var nonMemberElements = document.getElementsByClassName('non-members'), i;\r\n                    for (var i = 0; i < nonMemberElements.length; i++)\r\n                        nonMemberElements[i].style.display = 'block';\r\n                    //Disable file uploads\r\n                    var fileUploaders = document.getElementsByClassName('inputfile'), i;\r\n                    for (var i = 0; i < fileUploaders.length; i++) {\r\n                        fileUploaders[i].disabled = true;\r\n                        label = fileUploaders[i].nextElementSibling;\r\n                        label.querySelector('span').innerHTML = \"Choose a file&hellip;\";\r\n                        document.getElementById(fileUploaders[i].id + '-link').innerHTML = '';\r\n                    }\r\n                    //Hide Admin Elements\r\n                    var adminElements = document.getElementsByClassName('admin-only'), i;\r\n                    for (var i = 0; i < adminElements.length; i++)\r\n                        adminElements[i].style.display = 'none';\r\n                }\r\n            });\r\n\r\n\r\n            //Shows Member Account Information on the Members Page\r\n            if (window.location.pathname == '/members/'\r\n                || window.location.pathname == '/resources/md-leadership-awards-application.html') {\r\n                if (user) {\r\n                    this.firebase.database().ref('/users/' + user.uid).once('value').then(function (snapshot) {\r\n                        var firstName = snapshot.val().firstName;\r\n                        var lastName = snapshot.val().lastName;\r\n                        document.getElementById('account-name').textContent = firstName + ' ' + lastName;\r\n                        document.getElementById('account-school').textContent = snapshot.val().medicalSchool;\r\n                        document.getElementById('account-grad-year').textContent = snapshot.val().graduationYear;\r\n                        var accountEmail = document.getElementById('account-email');\r\n                        accountEmail.textContent = user.email;\r\n                        accountEmail.href = 'mailto:' + user.email;\r\n                    });\r\n                }\r\n                else {\r\n                    document.getElementById('account-name').textContent = '';\r\n                    document.getElementById('account-school').textContent = '';\r\n                    document.getElementById('account-grad-year').textContent = ''\r\n                    var accountEmail = document.getElementById('account-email');\r\n                    accountEmail.textContent = '';\r\n                    accountEmail.href = '';\r\n                }\r\n            }\r\n\r\n            //Loads previous MD Leadership Award Files if uploaded\r\n            if (user && window.location.pathname == '/resources/md-leadership-awards-application.html') {\r\n\r\n                //Have they even saved any files?\r\n                var refPath = 'leadership-award/' + '{{ site.leadership_award_years }}';\r\n                this.firebase.database().ref(refPath).once('value').then(function (snapshot) {\r\n                    //If they have, load information.\r\n                    if (snapshot.child(user.uid).exists()) {\r\n                        var application = snapshot.child(user.uid);\r\n                        //Loads the submitted application if one exists\r\n                        if (application.child('submitted').exists()) {\r\n                            loadSubmission();\r\n                        }\r\n                        //Otherwise displays saved files\r\n                        else {\r\n                            refPath = refPath + '/' + user.uid;\r\n                            if (application.child('personalStatement').exists())\r\n                                loadPrevFile(refPath, 'personal-statement', application.val().personalStatement);\r\n                            if (application.child('curriculumVitae').exists())\r\n                                loadPrevFile(refPath, 'curriculum-vitae', application.val().curriculumVitae);\r\n                            if (application.child('letterGoodStanding').exists())\r\n                                loadPrevFile(refPath, 'letter-good-standing', application.val().letterGoodStanding);\r\n                            if (application.child('reference1').exists())\r\n                                loadPrevFile(refPath, 'reference-1', application.val().reference1);\r\n                            if (application.child('reference2').exists())\r\n                                loadPrevFile(refPath, 'reference-2', application.val().reference2);\r\n\r\n                            var beforeSubmissionElements = document.getElementsByClassName('before-submission'), i;\r\n                            for (var i = 0; i < beforeSubmissionElements.length; i++)\r\n                                beforeSubmissionElements[i].style.display = 'block';\r\n                            var afterSubmissionElements = document.getElementsByClassName('after-submission'), i;\r\n                            for (var i = 0; i < afterSubmissionElements.length; i++)\r\n                                afterSubmissionElements[i].style.display = 'none';\r\n                        }\r\n                    }\r\n                    else {\r\n                        var beforeSubmissionElements = document.getElementsByClassName('before-submission'), i;\r\n                        for (var i = 0; i < beforeSubmissionElements.length; i++)\r\n                            beforeSubmissionElements[i].style.display = 'block';\r\n                        var afterSubmissionElements = document.getElementsByClassName('after-submission'), i;\r\n                        for (var i = 0; i < afterSubmissionElements.length; i++)\r\n                            afterSubmissionElements[i].style.display = 'none';\r\n                    }\r\n                });\r\n            }\r\n\r\n            //Loads Submitted Applications\r\n            if (user && window.location.pathname == '/resources/md-leadership-awards-view-applications.html') {\r\n\r\n                //Confirm that present user is an admin.\r\n                this.firebase.database().ref('/users/' + user.uid).once('value').then(function (snapshot) {\r\n                    if (snapshot.val().isAdmin === true) {\r\n\r\n                        //Hide the not-authorized sign.\r\n                        document.getElementById('not-authorized').style.display = 'none';\r\n\r\n                        //Iterates through each submitted application\r\n                        var query = this.firebase.database().ref('leadership-award/' + '{{ site.leadership_award_years }}/').orderByKey();\r\n                        //[!- START QUERY]\r\n                        query.once(\"value\").then(function (snapshot) {\r\n                            var applicationsHTML = '';\r\n                            var noApplicants = 0;\r\n                            snapshot.forEach(function (childSnapshot) {\r\n                                noApplicants++;\r\n\r\n                                //If a member has submitted an application\r\n                                if (childSnapshot.child('submitted').exists()) {\r\n                                    var submission = childSnapshot;\r\n                                    applicationsHTML += '<blockquote><div class=\"flex-wrapper award-application\"><div class=\"left-col\"><h4 class=\"review-header\"><strong>Applicant</strong></h4>';\r\n                                    applicationsHTML += '<label>Name</label><div class=\"review-text-field\">';\r\n                                    applicationsHTML += submission.val().name + '</div>';\r\n                                    applicationsHTML += '<label>Medical School</label><div class=\"review-text-field\">';\r\n                                    applicationsHTML += submission.val().medicalSchool + '</div>';\r\n                                    applicationsHTML += '<label>Graduating Year</label><div class=\"review-text-field\">';\r\n                                    applicationsHTML += submission.val().graduationYear + '</div>';\r\n                                    applicationsHTML += '<label>Email Address</label><div class=\"review-text-field\">';\r\n                                    applicationsHTML += submission.val().emailAddress + '</div>';\r\n                                    applicationsHTML += '<label>CMA Membership ID</label><div class=\"review-text-field\">';\r\n                                    applicationsHTML += submission.val().cmaMembershipID + '</div>';\r\n                                    applicationsHTML += '<label>Twitter Handle</label><div class=\"review-text-field\">';\r\n                                    var twitterHandle = submission.val().twitterHandle;\r\n                                    if (twitterHandle === '')\r\n                                        applicationsHTML += 'Not given</div>';\r\n                                    else\r\n                                        applicationsHTML += '<a href=\"https://twitter.com/' + twitterHandle.substring(1) + '\" target=\"_blank\">' + twitterHandle + '</a></div>';\r\n                                    applicationsHTML += '<label>Attending the CFMS SGM?</label><div class=\"review-text-field\">';\r\n                                    applicationsHTML += submission.val().meetingAttendance + '</div>';\r\n                                    applicationsHTML += '</div><div class=\"right-col\"><h4 class=\"review-header\"><strong>Attached Files</strong></h4><ul>';\r\n                                    applicationsHTML += '<li><a href=\"' + submission.val().linkPersonalStatement + '\" target=\"_blank\">Personal Statement</a></li>';\r\n                                    applicationsHTML += '<li><a href=\"' + submission.val().linkCurriculumVitae + '\" target=\"_blank\">Resume/Curriculum Vitae</a></li>';\r\n                                    applicationsHTML += '<li><a href=\"' + submission.val().linkLetterGoodStanding + '\" target=\"_blank\">Proof of Good Standing</a></li>';\r\n                                    applicationsHTML += '<li><a href=\"' + submission.val().linkReference1 + '\" target=\"_blank\">Reference Letter #1</a></li>';\r\n                                    applicationsHTML += '<li><a href=\"' + submission.val().linkReference2 + '\" target=\"_blank\">Reference Letter #2</a></li>';\r\n                                    applicationsHTML += '</ul><h4><strong>Date Submitted</strong></h4>';\r\n                                    applicationsHTML += '<div class=\"review-text-field\" style=\"font-weight:normal\">' + submission.val().dateSubmitted + '</div>';\r\n                                    applicationsHTML += '</ul></div></div></blockquote>';\r\n                                }\r\n                            });\r\n                            //Write the HTML for the submissions\r\n                            if (noApplicants !== 0)\r\n                                document.getElementById('submitted-applications-list').innerHTML = applicationsHTML;\r\n                            else\r\n                                document.getElementById('submitted-applications-list').innerHTML = '<blockquote><h3><strong>No Submitted Applications Yet</strong></h3><ul><li>It\\'s only a matter of time!</li></ul></blockquote>'\r\n                        });\r\n                        //[!- END QUERY]\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n};\r\n\r\nwindow.App = App;","export default class Config {\r\n    static firebase() {\r\n        return {\r\n            apiKey: \"AIzaSyCRaJStQDuZ0nrn0b59kzYphlAkJ62flo8\",\r\n            authDomain: \"amber-heat-9132.firebaseapp.com\",\r\n            databaseURL: \"https://amber-heat-9132.firebaseio.com\",\r\n            storageBucket: \"amber-heat-9132.appspot.com\",\r\n            messagingSenderId: \"466232039218\"\r\n        };\r\n    }\r\n\r\n    static vexTheme() {\r\n        return 'vex-theme-default';\r\n    }\r\n}","\r\nexport default class PaymentConfirmation {\r\n    constructor(user, urlParameters) {\r\n        this.user = user;\r\n        this.username = urlParameters.get('ref1');\r\n        this.approved = Boolean(parseInt(urlParameters.get('trnApproved')));\r\n        if (this.approved) window.app.vex.dialog.alert('Hello, World!');\r\n        this.updateForm();\r\n    }\r\n\r\n    updateForm() {\r\n        let div = document.getElementById('description');\r\n        div.innerHTML = `The user is: ${this.username}`;\r\n        return 'Payment confirmed for: ' + this.username;\r\n    }\r\n}","export default class Payment {\r\n    constructor(user, beanstreamURL) {\r\n        this.user = user;\r\n        this.url = beanstreamURL;\r\n        this.initPaymentForm();\r\n    }\r\n\r\n    initPaymentForm() {\r\n        let ifrm = document.createElement('iframe');\r\n        ifrm.setAttribute('id', 'payment-form'); // assign an id \r\n        let el = document.getElementById('new-account-right');\r\n        el.parentNode.insertBefore(ifrm, el); // assign\r\n        ifrm.setAttribute('src', this.url + '&approvedPage=http://127.0.0.1:4000/members/payments/confirmation.html&ref1=' + this.user.uid);\r\n    }\r\n}","import Payment from './payment';\r\nimport PaymentConfirmation from './payment-confirmation';\r\n\r\nexport default class Router {\r\n    constructor() {\r\n        this.user;\r\n        this.payment;\r\n        this.skipInit = false;\r\n        this.beanstreamURL;\r\n        this.update();\r\n    }\r\n\r\n    update() {\r\n        if (this.user) {\r\n            if (new RegExp('\\/members\\/payments\\/.+').test(window.location.pathname) && this.beanstreamURL) {\r\n                return this.handlePaymentInit();\r\n            }\r\n        }\r\n\r\n        switch (window.location.pathname) {\r\n            case '/members/payments/confirmation.html':\r\n                this.handlePaymentConfirmation();\r\n                break;\r\n            default:\r\n                console.log('Other');\r\n        }\r\n    }\r\n\r\n    handlePaymentInit() {\r\n        if (!this.payment) this.payment = new Payment(this.user, this.beanstreamURL);\r\n    }\r\n\r\n    setBeanstreamURL(url) {\r\n        this.beanstreamURL = url;\r\n        this.update();\r\n    }\r\n\r\n    handlePaymentConfirmation() {\r\n        this.skipInit = true;\r\n        let urlParams = new URLSearchParams(window.location.search);\r\n        new PaymentConfirmation(this.user, urlParams);\r\n    }\r\n\r\n    shouldSkipInit() {\r\n        return this.skipInit;\r\n    }\r\n\r\n    setUser(user) {\r\n        this.user = user;\r\n        this.update();\r\n    }\r\n}","/*\n * classList.js: Cross-browser full element.classList implementation.\n * 2014-07-23\n *\n * By Eli Grey, http://eligrey.com\n * Public Domain.\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/\n\n/* Copied from MDN:\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\n */\n\nif (\"document\" in window.self) {\n\n  // Full polyfill for browsers with no classList support\n  // Including IE < Edge missing SVGElement.classList\n  if (!(\"classList\" in document.createElement(\"_\"))\n    || document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\"))) {\n\n  (function (view) {\n\n    \"use strict\";\n\n    if (!('Element' in view)) return;\n\n    var\n        classListProp = \"classList\"\n      , protoProp = \"prototype\"\n      , elemCtrProto = view.Element[protoProp]\n      , objCtr = Object\n      , strTrim = String[protoProp].trim || function () {\n        return this.replace(/^\\s+|\\s+$/g, \"\");\n      }\n      , arrIndexOf = Array[protoProp].indexOf || function (item) {\n        var\n            i = 0\n          , len = this.length\n        ;\n        for (; i < len; i++) {\n          if (i in this && this[i] === item) {\n            return i;\n          }\n        }\n        return -1;\n      }\n      // Vendors: please allow content code to instantiate DOMExceptions\n      , DOMEx = function (type, message) {\n        this.name = type;\n        this.code = DOMException[type];\n        this.message = message;\n      }\n      , checkTokenAndGetIndex = function (classList, token) {\n        if (token === \"\") {\n          throw new DOMEx(\n              \"SYNTAX_ERR\"\n            , \"An invalid or illegal string was specified\"\n          );\n        }\n        if (/\\s/.test(token)) {\n          throw new DOMEx(\n              \"INVALID_CHARACTER_ERR\"\n            , \"String contains an invalid character\"\n          );\n        }\n        return arrIndexOf.call(classList, token);\n      }\n      , ClassList = function (elem) {\n        var\n            trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n          , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n          , i = 0\n          , len = classes.length\n        ;\n        for (; i < len; i++) {\n          this.push(classes[i]);\n        }\n        this._updateClassName = function () {\n          elem.setAttribute(\"class\", this.toString());\n        };\n      }\n      , classListProto = ClassList[protoProp] = []\n      , classListGetter = function () {\n        return new ClassList(this);\n      }\n    ;\n    // Most DOMException implementations don't allow calling DOMException's toString()\n    // on non-DOMExceptions. Error's toString() is sufficient here.\n    DOMEx[protoProp] = Error[protoProp];\n    classListProto.item = function (i) {\n      return this[i] || null;\n    };\n    classListProto.contains = function (token) {\n      token += \"\";\n      return checkTokenAndGetIndex(this, token) !== -1;\n    };\n    classListProto.add = function () {\n      var\n          tokens = arguments\n        , i = 0\n        , l = tokens.length\n        , token\n        , updated = false\n      ;\n      do {\n        token = tokens[i] + \"\";\n        if (checkTokenAndGetIndex(this, token) === -1) {\n          this.push(token);\n          updated = true;\n        }\n      }\n      while (++i < l);\n\n      if (updated) {\n        this._updateClassName();\n      }\n    };\n    classListProto.remove = function () {\n      var\n          tokens = arguments\n        , i = 0\n        , l = tokens.length\n        , token\n        , updated = false\n        , index\n      ;\n      do {\n        token = tokens[i] + \"\";\n        index = checkTokenAndGetIndex(this, token);\n        while (index !== -1) {\n          this.splice(index, 1);\n          updated = true;\n          index = checkTokenAndGetIndex(this, token);\n        }\n      }\n      while (++i < l);\n\n      if (updated) {\n        this._updateClassName();\n      }\n    };\n    classListProto.toggle = function (token, force) {\n      token += \"\";\n\n      var\n          result = this.contains(token)\n        , method = result ?\n          force !== true && \"remove\"\n        :\n          force !== false && \"add\"\n      ;\n\n      if (method) {\n        this[method](token);\n      }\n\n      if (force === true || force === false) {\n        return force;\n      } else {\n        return !result;\n      }\n    };\n    classListProto.toString = function () {\n      return this.join(\" \");\n    };\n\n    if (objCtr.defineProperty) {\n      var classListPropDesc = {\n          get: classListGetter\n        , enumerable: true\n        , configurable: true\n      };\n      try {\n        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n      } catch (ex) { // IE 8 doesn't support enumerable:true\n        if (ex.number === -0x7FF5EC54) {\n          classListPropDesc.enumerable = false;\n          objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n        }\n      }\n    } else if (objCtr[protoProp].__defineGetter__) {\n      elemCtrProto.__defineGetter__(classListProp, classListGetter);\n    }\n\n    }(window.self));\n\n    } else {\n    // There is full or partial native classList support, so just check if we need\n    // to normalize the add/remove and toggle APIs.\n\n    (function () {\n      \"use strict\";\n\n      var testElement = document.createElement(\"_\");\n\n      testElement.classList.add(\"c1\", \"c2\");\n\n      // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n      // classList.remove exist but support only one argument at a time.\n      if (!testElement.classList.contains(\"c2\")) {\n        var createMethod = function(method) {\n          var original = DOMTokenList.prototype[method];\n\n          DOMTokenList.prototype[method] = function(token) {\n            var i, len = arguments.length;\n\n            for (i = 0; i < len; i++) {\n              token = arguments[i];\n              original.call(this, token);\n            }\n          };\n        };\n        createMethod('add');\n        createMethod('remove');\n      }\n\n      testElement.classList.toggle(\"c3\", false);\n\n      // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n      // support the second argument.\n      if (testElement.classList.contains(\"c3\")) {\n        var _toggle = DOMTokenList.prototype.toggle;\n\n        DOMTokenList.prototype.toggle = function(token, force) {\n          if (1 in arguments && !this.contains(token) === !force) {\n            return force;\n          } else {\n            return _toggle.call(this, token);\n          }\n        };\n\n      }\n\n      testElement = null;\n    }());\n  }\n}\n","\n/**\n * Expose `parse`.\n */\n\nmodule.exports = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n","/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n","var firebase = (function(){\n/*! @license Firebase v3.6.3\n    Build: 3.6.3-rc.6\n    Terms: https://firebase.google.com/terms/ */\nvar firebase = null; (function() { var aa=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError(\"ES3 does not support getters and setters.\");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},h=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof global&&null!=global?global:this,l=function(){l=function(){};h.Symbol||(h.Symbol=ba)},ca=0,ba=function(a){return\"jscomp_symbol_\"+(a||\"\")+ca++},n=function(){l();var a=h.Symbol.iterator;a||(a=h.Symbol.iterator=\nh.Symbol(\"iterator\"));\"function\"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return m(this)}});n=function(){}},m=function(a){var b=0;return da(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},da=function(a){n();a={next:a};a[h.Symbol.iterator]=function(){return this};return a},q=this,r=function(){},t=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);\nif(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},v=function(a){return\"function\"==t(a)},ea=function(a,\nb,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ea:fa;return w.apply(null,arguments)},x=function(a,b){var c=Array.prototype.slice.call(arguments,\n1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},y=function(a,b){function c(){}c.prototype=b.prototype;a.ba=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.aa=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var z;z=\"undefined\"!==typeof window?window:\"undefined\"!==typeof self?self:global;function __extends(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}\nfunction __decorate(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,g;g=z.Reflect;if(\"object\"===typeof g&&\"function\"===typeof g.decorate)f=g.decorate(a,b,c,d);else for(var k=a.length-1;0<=k;k--)if(g=a[k])f=(3>e?g(f):3<e?g(b,c,f):g(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f}function __metadata(a,b){var c=z.Reflect;if(\"object\"===typeof c&&\"function\"===typeof c.metadata)return c.metadata(a,b)}\nvar __param=function(a,b){return function(c,d){b(c,d,a)}},__awaiter=function(a,b,c,d){return new (c||(c=Promise))(function(e,f){function g(a){try{p(d.next(a))}catch(u){f(u)}}function k(a){try{p(d.throw(a))}catch(u){f(u)}}function p(a){a.done?e(a.value):(new c(function(b){b(a.value)})).then(g,k)}p((d=d.apply(a,b)).next())})};\"undefined\"!==typeof z.M&&z.M||(z.__extends=__extends,z.__decorate=__decorate,z.__metadata=__metadata,z.__param=__param,z.__awaiter=__awaiter);var A=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};y(A,Error);A.prototype.name=\"CustomError\";var ga=function(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")};var B=function(a,b){b.unshift(a);A.call(this,ga.apply(null,b));b.shift()};y(B,A);B.prototype.name=\"AssertionError\";var ha=function(a,b,c,d){var e=\"Assertion failed\";if(c)var e=e+(\": \"+c),f=d;else a&&(e+=\": \"+a,f=b);throw new B(\"\"+e,f||[]);},C=function(a,b,c){a||ha(\"\",null,b,Array.prototype.slice.call(arguments,2))},D=function(a,b,c){v(a)||ha(\"Expected function but got %s: %s.\",[t(a),a],b,Array.prototype.slice.call(arguments,2))};var E=function(a,b,c){this.T=c;this.N=a;this.U=b;this.s=0;this.o=null};E.prototype.get=function(){var a;0<this.s?(this.s--,a=this.o,this.o=a.next,a.next=null):a=this.N();return a};E.prototype.put=function(a){this.U(a);this.s<this.T&&(this.s++,a.next=this.o,this.o=a)};var F;a:{var ia=q.navigator;if(ia){var ja=ia.userAgent;if(ja){F=ja;break a}}F=\"\"};var ka=function(a){q.setTimeout(function(){throw a;},0)},G,la=function(){var a=q.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&-1==F.indexOf(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\n\"//\"+b.location.host,a=w(function(a){if((\"*\"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&-1==F.indexOf(\"Trident\")&&-1==F.indexOf(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.G;c.G=null;a()}};return function(a){d.next={G:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in\ndocument.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};var H=function(){this.v=this.f=null},ma=new E(function(){return new I},function(a){a.reset()},100);H.prototype.add=function(a,b){var c=ma.get();c.set(a,b);this.v?this.v.next=c:(C(!this.f),this.f=c);this.v=c};H.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.v=null),a.next=null);return a};var I=function(){this.next=this.scope=this.B=null};I.prototype.set=function(a,b){this.B=a;this.scope=b;this.next=null};\nI.prototype.reset=function(){this.next=this.scope=this.B=null};var M=function(a,b){J||na();L||(J(),L=!0);oa.add(a,b)},J,na=function(){var a=q.Promise;if(-1!=String(a).indexOf(\"[native code]\")){var b=a.resolve(void 0);J=function(){b.then(pa)}}else J=function(){var a=pa;!v(q.setImmediate)||q.Window&&q.Window.prototype&&-1==F.indexOf(\"Edge\")&&q.Window.prototype.setImmediate==q.setImmediate?(G||(G=la()),G(a)):q.setImmediate(a)}},L=!1,oa=new H,pa=function(){for(var a;a=oa.remove();){try{a.B.call(a.scope)}catch(b){ka(b)}ma.put(a)}L=!1};var O=function(a,b){this.b=0;this.L=void 0;this.j=this.g=this.u=null;this.m=this.A=!1;if(a!=r)try{var c=this;a.call(b,function(a){N(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(e){}N(c,3,a)})}catch(d){N(this,3,d)}},qa=function(){this.next=this.context=this.h=this.c=this.child=null;this.w=!1};qa.prototype.reset=function(){this.context=this.h=this.c=this.child=null;this.w=!1};\nvar ra=new E(function(){return new qa},function(a){a.reset()},100),sa=function(a,b,c){var d=ra.get();d.c=a;d.h=b;d.context=c;return d},ua=function(a,b,c){ta(a,b,c,null)||M(x(b,a))};O.prototype.then=function(a,b,c){null!=a&&D(a,\"opt_onFulfilled should be a function.\");null!=b&&D(b,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");return va(this,v(a)?a:null,v(b)?b:null,c)};O.prototype.then=O.prototype.then;O.prototype.$goog_Thenable=!0;\nO.prototype.X=function(a,b){return va(this,null,a,b)};var xa=function(a,b){a.g||2!=a.b&&3!=a.b||wa(a);C(null!=b.c);a.j?a.j.next=b:a.g=b;a.j=b},va=function(a,b,c,d){var e=sa(null,null,null);e.child=new O(function(a,g){e.c=b?function(c){try{var e=b.call(d,c);a(e)}catch(K){g(K)}}:a;e.h=c?function(b){try{var e=c.call(d,b);a(e)}catch(K){g(K)}}:g});e.child.u=a;xa(a,e);return e.child};O.prototype.Y=function(a){C(1==this.b);this.b=0;N(this,2,a)};O.prototype.Z=function(a){C(1==this.b);this.b=0;N(this,3,a)};\nvar N=function(a,b,c){0==a.b&&(a===c&&(b=3,c=new TypeError(\"Promise cannot resolve to itself\")),a.b=1,ta(c,a.Y,a.Z,a)||(a.L=c,a.b=b,a.u=null,wa(a),3!=b||ya(a,c)))},ta=function(a,b,c,d){if(a instanceof O)return null!=b&&D(b,\"opt_onFulfilled should be a function.\"),null!=c&&D(c,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\"),xa(a,sa(b||r,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),\n!0;e=typeof a;if(\"object\"==e&&null!=a||\"function\"==e)try{var f=a.then;if(v(f))return za(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},za=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(p){k(p)}},wa=function(a){a.A||(a.A=!0,M(a.P,a))},Aa=function(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);null!=b&&C(null!=b.c);return b};\nO.prototype.P=function(){for(var a;a=Aa(this);){var b=this.b,c=this.L;if(3==b&&a.h&&!a.w){var d;for(d=this;d&&d.m;d=d.u)d.m=!1}if(a.child)a.child.u=null,Ba(a,b,c);else try{a.w?a.c.call(a.context):Ba(a,b,c)}catch(e){Ca.call(null,e)}ra.put(a)}this.A=!1};var Ba=function(a,b,c){2==b?a.c.call(a.context,c):a.h&&a.h.call(a.context,c)},ya=function(a,b){a.m=!0;M(function(){a.m&&Ca.call(null,b)})},Ca=ka;function P(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var c in b)b.hasOwnProperty(c)&&(a[c]=P(a[c],b[c]));return a};O.all=function(a){return new O(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},k=0,p;k<a.length;k++)p=a[k],ua(p,x(f,k),g);else b(e)})};O.resolve=function(a){if(a instanceof O)return a;var b=new O(r);N(b,2,a);return b};O.reject=function(a){return new O(function(b,c){c(a)})};O.prototype[\"catch\"]=O.prototype.X;var Q=O;\"undefined\"!==typeof Promise&&(Q=Promise);var Da=Q;function Ea(a,b){a=new R(a,b);return a.subscribe.bind(a)}var R=function(a,b){var c=this;this.a=[];this.K=0;this.task=Da.resolve();this.l=!1;this.D=b;this.task.then(function(){a(c)}).catch(function(a){c.error(a)})};R.prototype.next=function(a){S(this,function(b){b.next(a)})};R.prototype.error=function(a){S(this,function(b){b.error(a)});this.close(a)};R.prototype.complete=function(){S(this,function(a){a.complete()});this.close()};\nR.prototype.subscribe=function(a,b,c){var d=this,e;if(void 0===a&&void 0===b&&void 0===c)throw Error(\"Missing Observer.\");e=Fa(a)?a:{next:a,error:b,complete:c};void 0===e.next&&(e.next=T);void 0===e.error&&(e.error=T);void 0===e.complete&&(e.complete=T);a=this.$.bind(this,this.a.length);this.l&&this.task.then(function(){try{d.H?e.error(d.H):e.complete()}catch(f){}});this.a.push(e);return a};\nR.prototype.$=function(a){void 0!==this.a&&void 0!==this.a[a]&&(delete this.a[a],--this.K,0===this.K&&void 0!==this.D&&this.D(this))};var S=function(a,b){if(!a.l)for(var c=0;c<a.a.length;c++)Ga(a,c,b)},Ga=function(a,b,c){a.task.then(function(){if(void 0!==a.a&&void 0!==a.a[b])try{c(a.a[b])}catch(d){\"undefined\"!==typeof console&&console.error&&console.error(d)}})};R.prototype.close=function(a){var b=this;this.l||(this.l=!0,void 0!==a&&(this.H=a),this.task.then(function(){b.a=void 0;b.D=void 0}))};\nfunction Fa(a){if(\"object\"!==typeof a||null===a)return!1;var b;b=[\"next\",\"error\",\"complete\"];n();var c=b[Symbol.iterator];b=c?c.call(b):m(b);for(c=b.next();!c.done;c=b.next())if(c=c.value,c in a&&\"function\"===typeof a[c])return!0;return!1}function T(){};var Ha=Error.captureStackTrace,V=function(a,b){this.code=a;this.message=b;if(Ha)Ha(this,U.prototype.create);else{var c=Error.apply(this,arguments);this.name=\"FirebaseError\";Object.defineProperty(this,\"stack\",{get:function(){return c.stack}})}};V.prototype=Object.create(Error.prototype);V.prototype.constructor=V;V.prototype.name=\"FirebaseError\";var U=function(a,b,c){this.V=a;this.W=b;this.O=c;this.pattern=/\\{\\$([^}]+)}/g};\nU.prototype.create=function(a,b){void 0===b&&(b={});var c=this.O[a];a=this.V+\"/\"+a;var c=void 0===c?\"Error\":c.replace(this.pattern,function(a,c){a=b[c];return void 0!==a?a.toString():\"<\"+c+\"?>\"}),c=this.W+\": \"+c+\" (\"+a+\").\",c=new V(a,c),d;for(d in b)b.hasOwnProperty(d)&&\"_\"!==d.slice(-1)&&(c[d]=b[d]);return c};var W=Q,X=function(a,b,c){var d=this;this.I=c;this.J=!1;this.i={};this.C=b;this.F=P(void 0,a);a=\"serviceAccount\"in this.F;(\"credential\"in this.F||a)&&\"undefined\"!==typeof console&&console.log(\"The '\"+(a?\"serviceAccount\":\"credential\")+\"' property specified in the first argument to initializeApp() is deprecated and will be removed in the next major version. You should instead use the 'firebase-admin' package. See https://firebase.google.com/docs/admin/setup for details on how to get started.\");Object.keys(c.INTERNAL.factories).forEach(function(a){var b=\nc.INTERNAL.useAsService(d,a);null!==b&&(b=d.S.bind(d,b),d[a]=b)})};X.prototype.delete=function(){var a=this;return(new W(function(b){Y(a);b()})).then(function(){a.I.INTERNAL.removeApp(a.C);return W.all(Object.keys(a.i).map(function(b){return a.i[b].INTERNAL.delete()}))}).then(function(){a.J=!0;a.i={}})};X.prototype.S=function(a){Y(this);void 0===this.i[a]&&(this.i[a]=this.I.INTERNAL.factories[a](this,this.R.bind(this)));return this.i[a]};X.prototype.R=function(a){P(this,a)};\nvar Y=function(a){a.J&&Z(Ia(\"deleted\",{name:a.C}))};h.Object.defineProperties(X.prototype,{name:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.C}},options:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.F}}});X.prototype.name&&X.prototype.options||X.prototype.delete||console.log(\"dc\");\nfunction Ja(){function a(a){a=a||\"[DEFAULT]\";var b=d[a];void 0===b&&Z(\"noApp\",{name:a});return b}function b(a,b){Object.keys(e).forEach(function(d){d=c(a,d);if(null!==d&&f[d])f[d](b,a)})}function c(a,b){if(\"serverAuth\"===b)return null;var c=b;a=a.options;\"auth\"===b&&(a.serviceAccount||a.credential)&&(c=\"serverAuth\",\"serverAuth\"in e||Z(\"serverAuthMissing\"));return c}var d={},e={},f={},g={__esModule:!0,initializeApp:function(a,c){void 0===c?c=\"[DEFAULT]\":\"string\"===typeof c&&\"\"!==c||Z(\"bad-app-name\",\n{name:c+\"\"});void 0!==d[c]&&Z(\"dupApp\",{name:c});a=new X(a,c,g);d[c]=a;b(a,\"create\");void 0!=a.INTERNAL&&void 0!=a.INTERNAL.getToken||P(a,{INTERNAL:{getToken:function(){return W.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}});return a},app:a,apps:null,Promise:W,SDK_VERSION:\"0.0.0\",INTERNAL:{registerService:function(b,c,d,u){e[b]&&Z(\"dupService\",{name:b});e[b]=c;u&&(f[b]=u);c=function(c){void 0===c&&(c=a());return c[b]()};void 0!==d&&P(c,d);return g[b]=c},createFirebaseNamespace:Ja,\nextendNamespace:function(a){P(g,a)},createSubscribe:Ea,ErrorFactory:U,removeApp:function(a){b(d[a],\"delete\");delete d[a]},factories:e,useAsService:c,Promise:O,deepExtend:P}};g[\"default\"]=g;Object.defineProperty(g,\"apps\",{get:function(){return Object.keys(d).map(function(a){return d[a]})}});a.App=X;return g}function Z(a,b){throw Error(Ia(a,b));}\nfunction Ia(a,b){b=b||{};b={noApp:\"No Firebase App '\"+b.name+\"' has been created - call Firebase App.initializeApp().\",\"bad-app-name\":\"Illegal App name: '\"+b.name+\"'.\",dupApp:\"Firebase App named '\"+b.name+\"' already exists.\",deleted:\"Firebase App named '\"+b.name+\"' already deleted.\",dupService:\"Firebase Service named '\"+b.name+\"' already registered.\",serverAuthMissing:\"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain.\"}[a];\nreturn void 0===b?\"Application Error: (\"+a+\")\":b};\"undefined\"!==typeof firebase&&(firebase=Ja()); }).call(this);\nfirebase.SDK_VERSION = \"3.6.3\";\nreturn firebase;}).call(global);\nmodule.exports = firebase;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.3\n    Build: 3.6.3-rc.6\n    Terms: https://firebase.google.com/terms/ */\n(function(){var h,aa=aa||{},l=this,ba=function(){},m=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&\n!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},ca=function(a){return null===a},da=function(a){return\"array\"==m(a)},ea=function(a){var b=m(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length},n=function(a){return\"string\"==typeof a},fa=function(a){return\"number\"==typeof a},p=function(a){return\"function\"==m(a)},ga=function(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b},ha=function(a,b,\nc){return a.call.apply(a.bind,arguments)},ia=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ha:ia;return q.apply(null,arguments)},ja=function(a,b){var c=Array.prototype.slice.call(arguments,\n1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ka=Date.now||function(){return+new Date},r=function(a,b){function c(){}c.prototype=b.prototype;a.Uc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.bf=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var u=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};r(u,Error);u.prototype.name=\"CustomError\";var la=function(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")},ma=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},na=/&/g,oa=/</g,qa=/>/g,ra=/\"/g,sa=/'/g,ta=/\\x00/g,ua=/[\\x00&<>\"']/,v=function(a,b){return-1!=a.indexOf(b)},va=function(a,b){return a<b?-1:a>b?1:0};var wa=function(a,b){b.unshift(a);u.call(this,la.apply(null,b));b.shift()};r(wa,u);wa.prototype.name=\"AssertionError\";\nvar xa=function(a,b,c,d){var e=\"Assertion failed\";if(c)var e=e+(\": \"+c),f=d;else a&&(e+=\": \"+a,f=b);throw new wa(\"\"+e,f||[]);},w=function(a,b,c){a||xa(\"\",null,b,Array.prototype.slice.call(arguments,2))},ya=function(a,b){throw new wa(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));},za=function(a,b,c){fa(a)||xa(\"Expected number but got %s: %s.\",[m(a),a],b,Array.prototype.slice.call(arguments,2));return a},Aa=function(a,b,c){n(a)||xa(\"Expected string but got %s: %s.\",[m(a),a],b,Array.prototype.slice.call(arguments,\n2))},Ba=function(a,b,c){p(a)||xa(\"Expected function but got %s: %s.\",[m(a),a],b,Array.prototype.slice.call(arguments,2))};var Ca=Array.prototype.indexOf?function(a,b,c){w(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=Array.prototype.forEach?function(a,b,c){w(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Da=function(a,b){for(var c=n(a)?\na.split(\"\"):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},Ea=Array.prototype.map?function(a,b,c){w(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Fa=Array.prototype.some?function(a,b,c){w(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},\nHa=function(a){var b;a:{b=Ga;for(var c=a.length,d=n(a)?a.split(\"\"):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:n(a)?a.charAt(b):a[b]},Ia=function(a,b){return 0<=Ca(a,b)},Ka=function(a,b){b=Ca(a,b);var c;(c=0<=b)&&Ja(a,b);return c},Ja=function(a,b){w(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},La=function(a,b){var c=0;Da(a,function(d,e){b.call(void 0,d,e,a)&&Ja(a,e)&&c++})},Ma=function(a){return Array.prototype.concat.apply(Array.prototype,\narguments)},Na=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Oa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Pa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Qa=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ra=function(a){for(var b in a)return!1;return!0},Sa=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},Ta=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Ua=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),\nVa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ua.length;f++)c=Ua[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Wa;a:{var Xa=l.navigator;if(Xa){var Ya=Xa.userAgent;if(Ya){Wa=Ya;break a}}Wa=\"\"}var y=function(a){return v(Wa,a)};var Za=function(a){Za[\" \"](a);return a};Za[\" \"]=ba;var ab=function(a,b){var c=$a;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var bb=y(\"Opera\"),z=y(\"Trident\")||y(\"MSIE\"),cb=y(\"Edge\"),db=cb||z,eb=y(\"Gecko\")&&!(v(Wa.toLowerCase(),\"webkit\")&&!y(\"Edge\"))&&!(y(\"Trident\")||y(\"MSIE\"))&&!y(\"Edge\"),fb=v(Wa.toLowerCase(),\"webkit\")&&!y(\"Edge\"),gb=function(){var a=l.document;return a?a.documentMode:void 0},hb;\na:{var ib=\"\",jb=function(){var a=Wa;if(eb)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(cb)return/Edge\\/([\\d\\.]+)/.exec(a);if(z)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(fb)return/WebKit\\/(\\S+)/.exec(a);if(bb)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();jb&&(ib=jb?jb[1]:\"\");if(z){var kb=gb();if(null!=kb&&kb>parseFloat(ib)){hb=String(kb);break a}}hb=ib}\nvar lb=hb,$a={},A=function(a){return ab(a,function(){for(var b=0,c=ma(String(lb)).split(\".\"),d=ma(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",k=d[f]||\"\";do{g=/(\\d*)(\\D*)(.*)/.exec(g)||[\"\",\"\",\"\",\"\"];k=/(\\d*)(\\D*)(.*)/.exec(k)||[\"\",\"\",\"\",\"\"];if(0==g[0].length&&0==k[0].length)break;b=va(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||va(0==g[2].length,0==k[2].length)||va(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},mb;var nb=l.document;\nmb=nb&&z?gb()||(\"CSS1Compat\"==nb.compatMode?parseInt(lb,10):5):void 0;var ob=null,pb=null,rb=function(a){var b=\"\";qb(a,function(a){b+=String.fromCharCode(a)});return b},qb=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=pb[c];if(null!=e)return e;if(!/^[\\s\\xa0]*$/.test(c))throw Error(\"Unknown base64 encoding at char: \"+c);}return b}sb();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}},sb=function(){if(!ob){ob={};pb={};for(var a=0;65>a;a++)ob[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a),\npb[ob[a]]=a,62<=a&&(pb[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(a)]=a)}};var tb=!z||9<=Number(mb),ub=z&&!A(\"9\");!fb||A(\"528\");eb&&A(\"1.9b\")||z&&A(\"8\")||bb&&A(\"9.5\")||fb&&A(\"528\");eb&&!A(\"8\")||z&&A(\"9\");var vb=function(){this.ya=this.ya;this.Ub=this.Ub};vb.prototype.ya=!1;vb.prototype.isDisposed=function(){return this.ya};vb.prototype.Na=function(){if(this.Ub)for(;this.Ub.length;)this.Ub.shift()()};var wb=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Va=!1;this.vd=!0};wb.prototype.preventDefault=function(){this.defaultPrevented=!0;this.vd=!1};var xb=function(a,b){wb.call(this,a?a.type:\"\");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.lb=this.state=null;a&&this.init(a,b)};r(xb,wb);\nxb.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(eb){var e;a:{try{Za(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else\"mouseover\"==c?b=a.fromElement:\"mouseout\"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=fb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=fb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:\na.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(\"keypress\"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.lb=a;a.defaultPrevented&&\nthis.preventDefault()};xb.prototype.preventDefault=function(){xb.Uc.preventDefault.call(this);var a=this.lb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ub)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};xb.prototype.ge=function(){return this.lb};var yb=\"closure_listenable_\"+(1E6*Math.random()|0),zb=0;var Ab=function(a,b,c,d,e){this.listener=a;this.ac=null;this.src=b;this.type=c;this.capture=!!d;this.Lb=e;this.key=++zb;this.Za=this.Eb=!1},Bb=function(a){a.Za=!0;a.listener=null;a.ac=null;a.src=null;a.Lb=null};var Cb=function(a){this.src=a;this.v={};this.Ab=0};Cb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.v[f];a||(a=this.v[f]=[],this.Ab++);var g=Db(a,b,d,e);-1<g?(b=a[g],c||(b.Eb=!1)):(b=new Ab(b,this.src,f,!!d,e),b.Eb=c,a.push(b));return b};Cb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.v))return!1;var e=this.v[a];b=Db(e,b,c,d);return-1<b?(Bb(e[b]),Ja(e,b),0==e.length&&(delete this.v[a],this.Ab--),!0):!1};\nvar Eb=function(a,b){var c=b.type;c in a.v&&Ka(a.v[c],b)&&(Bb(b),0==a.v[c].length&&(delete a.v[c],a.Ab--))};Cb.prototype.Ac=function(a,b,c,d){a=this.v[a.toString()];var e=-1;a&&(e=Db(a,b,c,d));return-1<e?a[e]:null};var Db=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Za&&f.listener==b&&f.capture==!!c&&f.Lb==d)return e}return-1};var Fb=\"closure_lm_\"+(1E6*Math.random()|0),Gb={},Hb=0,Ib=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Ib(a,b[f],c,d,e);else c=Jb(c),a&&a[yb]?a.listen(b,c,d,e):Kb(a,b,c,!1,d,e)},Kb=function(a,b,c,d,e,f){if(!b)throw Error(\"Invalid event type\");var g=!!e,k=Lb(a);k||(a[Fb]=k=new Cb(a));c=k.add(b,c,d,e,f);if(!c.ac){d=Mb();c.ac=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Nb(b.toString()),d);else throw Error(\"addEventListener and attachEvent are unavailable.\");\nHb++}},Mb=function(){var a=Ob,b=tb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Pb=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Pb(a,b[f],c,d,e);else c=Jb(c),a&&a[yb]?Qb(a,b,c,d,e):Kb(a,b,c,!0,d,e)},Rb=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Rb(a,b[f],c,d,e);else c=Jb(c),a&&a[yb]?a.Z.remove(String(b),c,d,e):a&&(a=Lb(a))&&(b=a.Ac(b,c,!!d,e))&&Sb(b)},Sb=function(a){if(!fa(a)&&a&&!a.Za){var b=a.src;if(b&&\nb[yb])Eb(b.Z,a);else{var c=a.type,d=a.ac;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Nb(c),d);Hb--;(c=Lb(b))?(Eb(c,a),0==c.Ab&&(c.src=null,b[Fb]=null)):Bb(a)}}},Nb=function(a){return a in Gb?Gb[a]:Gb[a]=\"on\"+a},Ub=function(a,b,c,d){var e=!0;if(a=Lb(a))if(b=a.v[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Za&&(f=Tb(f,d),e=e&&!1!==f)}return e},Tb=function(a,b){var c=a.listener,d=a.Lb||a.src;a.Eb&&Sb(a);return c.call(d,\nb)},Ob=function(a,b){if(a.Za)return!0;if(!tb){if(!b)a:{b=[\"window\",\"event\"];for(var c=l,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new xb(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Va&&0<=e;e--){b.currentTarget=d[e];var f=Ub(d[e],a,!0,b),c=c&&f}for(e=0;!b.Va&&e<d.length;e++)b.currentTarget=\nd[e],f=Ub(d[e],a,!1,b),c=c&&f}return c}return Tb(a,new xb(b,this))},Lb=function(a){a=a[Fb];return a instanceof Cb?a:null},Vb=\"__closure_events_fn_\"+(1E9*Math.random()>>>0),Jb=function(a){w(a,\"Listener can not be null.\");if(p(a))return a;w(a.handleEvent,\"An object listener must have handleEvent method.\");a[Vb]||(a[Vb]=function(b){return a.handleEvent(b)});return a[Vb]};var Wb=/^[+a-zA-Z0-9_.!#$%&'*\\/=?^`{|}~-]+@([a-zA-Z0-9-]+\\.)+[a-zA-Z0-9]{2,63}$/;var Yb=function(){this.jc=\"\";this.Nd=Xb};Yb.prototype.Pb=!0;Yb.prototype.Jb=function(){return this.jc};Yb.prototype.toString=function(){return\"Const{\"+this.jc+\"}\"};var Zb=function(a){if(a instanceof Yb&&a.constructor===Yb&&a.Nd===Xb)return a.jc;ya(\"expected object of type Const, got '\"+a+\"'\");return\"type_error:Const\"},Xb={},$b=function(a){var b=new Yb;b.jc=a;return b};$b(\"\");var B=function(){this.ja=\"\";this.Md=ac};B.prototype.Pb=!0;B.prototype.Jb=function(){return this.ja};B.prototype.toString=function(){return\"SafeUrl{\"+this.ja+\"}\"};\nvar bc=function(a){if(a instanceof B&&a.constructor===B&&a.Md===ac)return a.ja;ya(\"expected object of type SafeUrl, got '\"+a+\"' of type \"+m(a));return\"type_error:SafeUrl\"},cc=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,ec=function(a){if(a instanceof B)return a;a=a.Pb?a.Jb():String(a);cc.test(a)||(a=\"about:invalid#zClosurez\");return dc(a)},ac={},dc=function(a){var b=new B;b.ja=a;return b};dc(\"about:blank\");var fc=function(a){return/^\\s*$/.test(a)?!1:/^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/(?:\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\"))},gc=function(a){a=String(a);if(fc(a))try{return eval(\"(\"+a+\")\")}catch(b){}throw Error(\"Invalid JSON string: \"+a);},jc=function(a){var b=[];hc(new ic,a,b);return b.join(\"\")},ic=function(){this.cc=void 0},\nhc=function(a,b,c){if(null==b)c.push(\"null\");else{if(\"object\"==typeof b){if(da(b)){var d=b;b=d.length;c.push(\"[\");for(var e=\"\",f=0;f<b;f++)c.push(e),e=d[f],hc(a,a.cc?a.cc.call(d,String(f),e):e,c),e=\",\";c.push(\"]\");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push(\"{\");f=\"\";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],\"function\"!=typeof e&&(c.push(f),kc(d,c),c.push(\":\"),hc(a,a.cc?a.cc.call(b,d,e):e,c),f=\",\"));c.push(\"}\");return}}switch(typeof b){case \"string\":kc(b,\nc);break;case \"number\":c.push(isFinite(b)&&!isNaN(b)?String(b):\"null\");break;case \"boolean\":c.push(String(b));break;case \"function\":c.push(\"null\");break;default:throw Error(\"Unknown type: \"+typeof b);}}},lc={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},mc=/\\uffff/.test(\"\\uffff\")?/[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g,kc=function(a,b){b.push('\"',a.replace(mc,function(a){var b=lc[a];b||(b=\"\\\\u\"+(a.charCodeAt(0)|65536).toString(16).substr(1),\nlc[a]=b);return b}),'\"')};var nc=function(){};nc.prototype.Xc=null;var oc=function(a){return a.Xc||(a.Xc=a.Dc())};var pc,qc=function(){};r(qc,nc);qc.prototype.Fb=function(){var a=rc(this);return a?new ActiveXObject(a):new XMLHttpRequest};qc.prototype.Dc=function(){var a={};rc(this)&&(a[0]=!0,a[1]=!0);return a};\nvar rc=function(a){if(!a.kd&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.kd=d}catch(e){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}return a.kd};pc=new qc;var sc=function(){};r(sc,nc);sc.prototype.Fb=function(){var a=new XMLHttpRequest;if(\"withCredentials\"in a)return a;if(\"undefined\"!=typeof XDomainRequest)return new tc;throw Error(\"Unsupported browser\");};sc.prototype.Dc=function(){return{}};\nvar tc=function(){this.na=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseText=\"\";this.status=-1;this.statusText=this.responseXML=null;this.na.onload=q(this.ke,this);this.na.onerror=q(this.hd,this);this.na.onprogress=q(this.le,this);this.na.ontimeout=q(this.me,this)};h=tc.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error(\"Only async requests are supported.\");this.na.open(a,b)};\nh.send=function(a){if(a)if(\"string\"==typeof a)this.na.send(a);else throw Error(\"Only string data is supported\");else this.na.send()};h.abort=function(){this.na.abort()};h.setRequestHeader=function(){};h.ke=function(){this.status=200;this.responseText=this.na.responseText;uc(this,4)};h.hd=function(){this.status=500;this.responseText=\"\";uc(this,4)};h.me=function(){this.hd()};h.le=function(){this.status=200;uc(this,1)};var uc=function(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()};var wc=function(){this.Xb=\"\";this.Od=vc};wc.prototype.Pb=!0;wc.prototype.Jb=function(){return this.Xb};wc.prototype.toString=function(){return\"TrustedResourceUrl{\"+this.Xb+\"}\"};var vc={};var yc=function(){this.ja=\"\";this.Ld=xc};yc.prototype.Pb=!0;yc.prototype.Jb=function(){return this.ja};yc.prototype.toString=function(){return\"SafeHtml{\"+this.ja+\"}\"};var zc=function(a){if(a instanceof yc&&a.constructor===yc&&a.Ld===xc)return a.ja;ya(\"expected object of type SafeHtml, got '\"+a+\"' of type \"+m(a));return\"type_error:SafeHtml\"},xc={};yc.prototype.te=function(a){this.ja=a;return this};!eb&&!z||z&&9<=Number(mb)||eb&&A(\"1.9.1\");z&&A(\"9\");var Bc=function(a,b){Oa(b,function(b,d){\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:Ac.hasOwnProperty(d)?a.setAttribute(Ac[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})},Ac={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",nonce:\"nonce\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};var Cc=function(a,b,c){this.we=c;this.Vd=a;this.Ie=b;this.Tb=0;this.Mb=null};Cc.prototype.get=function(){var a;0<this.Tb?(this.Tb--,a=this.Mb,this.Mb=a.next,a.next=null):a=this.Vd();return a};Cc.prototype.put=function(a){this.Ie(a);this.Tb<this.we&&(this.Tb++,a.next=this.Mb,this.Mb=a)};var Dc=function(a){l.setTimeout(function(){throw a;},0)},Ec,Fc=function(){var a=l.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!y(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,\na=q(function(a){if((\"*\"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!y(\"Trident\")&&!y(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.$c;c.$c=null;a()}};return function(a){d.next={$c:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?\nfunction(a){var b=document.createElement(\"SCRIPT\");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var Gc=function(){this.oc=this.Ia=null},Ic=new Cc(function(){return new Hc},function(a){a.reset()},100);Gc.prototype.add=function(a,b){var c=Ic.get();c.set(a,b);this.oc?this.oc.next=c:(w(!this.Ia),this.Ia=c);this.oc=c};Gc.prototype.remove=function(){var a=null;this.Ia&&(a=this.Ia,this.Ia=this.Ia.next,this.Ia||(this.oc=null),a.next=null);return a};var Hc=function(){this.next=this.scope=this.zc=null};Hc.prototype.set=function(a,b){this.zc=a;this.scope=b;this.next=null};\nHc.prototype.reset=function(){this.next=this.scope=this.zc=null};var Nc=function(a,b){Jc||Kc();Lc||(Jc(),Lc=!0);Mc.add(a,b)},Jc,Kc=function(){var a=l.Promise;if(-1!=String(a).indexOf(\"[native code]\")){var b=a.resolve(void 0);Jc=function(){b.then(Oc)}}else Jc=function(){var a=Oc;!p(l.setImmediate)||l.Window&&l.Window.prototype&&!y(\"Edge\")&&l.Window.prototype.setImmediate==l.setImmediate?(Ec||(Ec=Fc()),Ec(a)):l.setImmediate(a)}},Lc=!1,Mc=new Gc,Oc=function(){for(var a;a=Mc.remove();){try{a.zc.call(a.scope)}catch(b){Dc(b)}Ic.put(a)}Lc=!1};var Pc=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},Qc=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var C=function(a,b){this.F=0;this.la=void 0;this.La=this.ga=this.m=null;this.Kb=this.yc=!1;if(a!=ba)try{var c=this;a.call(b,function(a){Rc(c,2,a)},function(a){if(!(a instanceof Sc))try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(e){}Rc(c,3,a)})}catch(d){Rc(this,3,d)}},Tc=function(){this.next=this.context=this.Sa=this.Ca=this.child=null;this.hb=!1};Tc.prototype.reset=function(){this.context=this.Sa=this.Ca=this.child=null;this.hb=!1};\nvar Uc=new Cc(function(){return new Tc},function(a){a.reset()},100),Vc=function(a,b,c){var d=Uc.get();d.Ca=a;d.Sa=b;d.context=c;return d},D=function(a){if(a instanceof C)return a;var b=new C(ba);Rc(b,2,a);return b},E=function(a){return new C(function(b,c){c(a)})},Xc=function(a,b,c){Wc(a,b,c,null)||Nc(ja(b,a))},Yc=function(a){return new C(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{ee:!0,value:f}:{ee:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],Xc(g,ja(e,f,!0),\nja(e,f,!1));else b(d)})};C.prototype.then=function(a,b,c){null!=a&&Ba(a,\"opt_onFulfilled should be a function.\");null!=b&&Ba(b,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");return Zc(this,p(a)?a:null,p(b)?b:null,c)};Pc(C);var ad=function(a,b){b=Vc(b,b,void 0);b.hb=!0;$c(a,b);return a};C.prototype.g=function(a,b){return Zc(this,null,a,b)};C.prototype.cancel=function(a){0==this.F&&Nc(function(){var b=new Sc(a);bd(this,b)},this)};\nvar bd=function(a,b){if(0==a.F)if(a.m){var c=a.m;if(c.ga){for(var d=0,e=null,f=null,g=c.ga;g&&(g.hb||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.F&&1==d?bd(c,b):(f?(d=f,w(c.ga),w(null!=d),d.next==c.La&&(c.La=d),d.next=d.next.next):cd(c),dd(c,e,3,b)))}a.m=null}else Rc(a,3,b)},$c=function(a,b){a.ga||2!=a.F&&3!=a.F||ed(a);w(null!=b.Ca);a.La?a.La.next=b:a.ga=b;a.La=b},Zc=function(a,b,c,d){var e=Vc(null,null,null);e.child=new C(function(a,g){e.Ca=b?function(c){try{var e=b.call(d,c);a(e)}catch(pa){g(pa)}}:\na;e.Sa=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Sc?g(b):a(e)}catch(pa){g(pa)}}:g});e.child.m=a;$c(a,e);return e.child};C.prototype.Se=function(a){w(1==this.F);this.F=0;Rc(this,2,a)};C.prototype.Te=function(a){w(1==this.F);this.F=0;Rc(this,3,a)};\nvar Rc=function(a,b,c){0==a.F&&(a===c&&(b=3,c=new TypeError(\"Promise cannot resolve to itself\")),a.F=1,Wc(c,a.Se,a.Te,a)||(a.la=c,a.F=b,a.m=null,ed(a),3!=b||c instanceof Sc||fd(a,c)))},Wc=function(a,b,c,d){if(a instanceof C)return null!=b&&Ba(b,\"opt_onFulfilled should be a function.\"),null!=c&&Ba(c,\"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\"),$c(a,Vc(b||ba,c||null,d)),!0;if(Qc(a))return a.then(b,c,d),!0;if(ga(a))try{var e=a.then;if(p(e))return gd(a,\ne,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},gd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(t){k(t)}},ed=function(a){a.yc||(a.yc=!0,Nc(a.$d,a))},cd=function(a){var b=null;a.ga&&(b=a.ga,a.ga=b.next,b.next=null);a.ga||(a.La=null);null!=b&&w(null!=b.Ca);return b};C.prototype.$d=function(){for(var a;a=cd(this);)dd(this,a,this.F,this.la);this.yc=!1};\nvar dd=function(a,b,c,d){if(3==c&&b.Sa&&!b.hb)for(;a&&a.Kb;a=a.m)a.Kb=!1;if(b.child)b.child.m=null,hd(b,c,d);else try{b.hb?b.Ca.call(b.context):hd(b,c,d)}catch(e){id.call(null,e)}Uc.put(b)},hd=function(a,b,c){2==b?a.Ca.call(a.context,c):a.Sa&&a.Sa.call(a.context,c)},fd=function(a,b){a.Kb=!0;Nc(function(){a.Kb&&id.call(null,b)})},id=Dc,Sc=function(a){u.call(this,a)};r(Sc,u);Sc.prototype.name=\"cancel\";/*\n Portions of this code are from MochiKit, received by\n The Closure Authors under the MIT license. All other code is Copyright\n 2005-2009 The Closure Authors. All Rights Reserved.\n*/\nvar F=function(a,b){this.ec=[];this.pd=a;this.cd=b||null;this.nb=this.Pa=!1;this.la=void 0;this.Sc=this.Wc=this.tc=!1;this.mc=0;this.m=null;this.uc=0};F.prototype.cancel=function(a){if(this.Pa)this.la instanceof F&&this.la.cancel();else{if(this.m){var b=this.m;delete this.m;a?b.cancel(a):(b.uc--,0>=b.uc&&b.cancel())}this.pd?this.pd.call(this.cd,this):this.Sc=!0;this.Pa||jd(this,new kd)}};F.prototype.ad=function(a,b){this.tc=!1;ld(this,a,b)};\nvar ld=function(a,b,c){a.Pa=!0;a.la=c;a.nb=!b;md(a)},od=function(a){if(a.Pa){if(!a.Sc)throw new nd;a.Sc=!1}};F.prototype.callback=function(a){od(this);pd(a);ld(this,!0,a)};\nvar jd=function(a,b){od(a);pd(b);ld(a,!1,b)},pd=function(a){w(!(a instanceof F),\"An execution sequence may not be initiated with a blocking Deferred.\")},td=function(a){var b=qd(\"https://apis.google.com/js/client.js?onload=\"+rd);sd(b,null,a,void 0)},sd=function(a,b,c,d){w(!a.Wc,\"Blocking Deferreds can not be re-used\");a.ec.push([b,c,d]);a.Pa&&md(a)};F.prototype.then=function(a,b,c){var d,e,f=new C(function(a,b){d=a;e=b});sd(this,d,function(a){a instanceof kd?f.cancel():e(a)});return f.then(a,b,c)};\nPc(F);\nvar ud=function(a){return Fa(a.ec,function(a){return p(a[1])})},md=function(a){if(a.mc&&a.Pa&&ud(a)){var b=a.mc,c=vd[b];c&&(l.clearTimeout(c.ob),delete vd[b]);a.mc=0}a.m&&(a.m.uc--,delete a.m);for(var b=a.la,d=c=!1;a.ec.length&&!a.tc;){var e=a.ec.shift(),f=e[0],g=e[1],e=e[2];if(f=a.nb?g:f)try{var k=f.call(e||a.cd,b);void 0!==k&&(a.nb=a.nb&&(k==b||k instanceof Error),a.la=b=k);if(Qc(b)||\"function\"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.tc=!0}catch(t){b=t,a.nb=!0,ud(a)||(c=!0)}}a.la=b;d&&\n(k=q(a.ad,a,!0),d=q(a.ad,a,!1),b instanceof F?(sd(b,k,d),b.Wc=!0):b.then(k,d));c&&(b=new wd(b),vd[b.ob]=b,a.mc=b.ob)},nd=function(){u.call(this)};r(nd,u);nd.prototype.message=\"Deferred has already fired\";nd.prototype.name=\"AlreadyCalledError\";var kd=function(){u.call(this)};r(kd,u);kd.prototype.message=\"Deferred was canceled\";kd.prototype.name=\"CanceledError\";var wd=function(a){this.ob=l.setTimeout(q(this.Re,this),0);this.J=a};\nwd.prototype.Re=function(){w(vd[this.ob],\"Cannot throw an error that is not scheduled.\");delete vd[this.ob];throw this.J;};var vd={};var qd=function(a){var b=new wc;b.Xb=a;return xd(b)},xd=function(a){var b={},c=b.document||document,d;a instanceof wc&&a.constructor===wc&&a.Od===vc?d=a.Xb:(ya(\"expected object of type TrustedResourceUrl, got '\"+a+\"' of type \"+m(a)),d=\"type_error:TrustedResourceUrl\");var e=document.createElement(\"SCRIPT\");a={wd:e,zb:void 0};var f=new F(yd,a),g=null,k=null!=b.timeout?b.timeout:5E3;0<k&&(g=window.setTimeout(function(){zd(e,!0);jd(f,new Ad(1,\"Timeout reached for loading script \"+d))},k),a.zb=g);e.onload=\ne.onreadystatechange=function(){e.readyState&&\"loaded\"!=e.readyState&&\"complete\"!=e.readyState||(zd(e,b.cf||!1,g),f.callback(null))};e.onerror=function(){zd(e,!0,g);jd(f,new Ad(0,\"Error while loading script \"+d))};a=b.attributes||{};Va(a,{type:\"text/javascript\",charset:\"UTF-8\",src:d});Bc(e,a);Bd(c).appendChild(e);return f},Bd=function(a){var b;return(b=(a||document).getElementsByTagName(\"HEAD\"))&&0!=b.length?b[0]:a.documentElement},yd=function(){if(this&&this.wd){var a=this.wd;a&&\"SCRIPT\"==a.tagName&&\nzd(a,!0,this.zb)}},zd=function(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)},Ad=function(a,b){var c=\"Jsloader error (code #\"+a+\")\";b&&(c+=\": \"+b);u.call(this,c);this.code=a};r(Ad,u);var G=function(){vb.call(this);this.Z=new Cb(this);this.Rd=this;this.Ic=null};r(G,vb);G.prototype[yb]=!0;h=G.prototype;h.addEventListener=function(a,b,c,d){Ib(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Rb(this,a,b,c,d)};\nh.dispatchEvent=function(a){Cd(this);var b,c=this.Ic;if(c){b=[];for(var d=1;c;c=c.Ic)b.push(c),w(1E3>++d,\"infinite loop\")}c=this.Rd;d=a.type||a;if(n(a))a=new wb(a,c);else if(a instanceof wb)a.target=a.target||c;else{var e=a;a=new wb(d,c);Va(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Va&&0<=g;g--)f=a.currentTarget=b[g],e=Dd(f,d,!0,a)&&e;a.Va||(f=a.currentTarget=c,e=Dd(f,d,!0,a)&&e,a.Va||(e=Dd(f,d,!1,a)&&e));if(b)for(g=0;!a.Va&&g<b.length;g++)f=a.currentTarget=b[g],e=Dd(f,d,!1,a)&&e;return e};\nh.Na=function(){G.Uc.Na.call(this);if(this.Z){var a=this.Z,b=0,c;for(c in a.v){for(var d=a.v[c],e=0;e<d.length;e++)++b,Bb(d[e]);delete a.v[c];a.Ab--}}this.Ic=null};h.listen=function(a,b,c,d){Cd(this);return this.Z.add(String(a),b,!1,c,d)};\nvar Qb=function(a,b,c,d,e){a.Z.add(String(b),c,!0,d,e)},Dd=function(a,b,c,d){b=a.Z.v[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Za&&g.capture==c){var k=g.listener,t=g.Lb||g.src;g.Eb&&Eb(a.Z,g);e=!1!==k.call(t,d)&&e}}return e&&0!=d.vd};G.prototype.Ac=function(a,b,c,d){return this.Z.Ac(String(a),b,c,d)};var Cd=function(a){w(a.Z,\"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?\")};var Ed=\"StopIteration\"in l?l.StopIteration:{message:\"StopIteration\",stack:\"\"},Fd=function(){};Fd.prototype.next=function(){throw Ed;};Fd.prototype.Qd=function(){return this};var Gd=function(a,b){this.$={};this.o=[];this.gb=this.l=0;var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};Gd.prototype.V=function(){Hd(this);for(var a=[],b=0;b<this.o.length;b++)a.push(this.$[this.o[b]]);return a};Gd.prototype.ha=function(){Hd(this);return this.o.concat()};Gd.prototype.kb=function(a){return Id(this.$,a)};\nGd.prototype.remove=function(a){return Id(this.$,a)?(delete this.$[a],this.l--,this.gb++,this.o.length>2*this.l&&Hd(this),!0):!1};var Hd=function(a){if(a.l!=a.o.length){for(var b=0,c=0;b<a.o.length;){var d=a.o[b];Id(a.$,d)&&(a.o[c++]=d);b++}a.o.length=c}if(a.l!=a.o.length){for(var e={},c=b=0;b<a.o.length;)d=a.o[b],Id(e,d)||(a.o[c++]=d,e[d]=1),b++;a.o.length=c}};h=Gd.prototype;h.get=function(a,b){return Id(this.$,a)?this.$[a]:b};\nh.set=function(a,b){Id(this.$,a)||(this.l++,this.o.push(a),this.gb++);this.$[a]=b};h.addAll=function(a){var b;a instanceof Gd?(b=a.ha(),a=a.V()):(b=Qa(a),a=Pa(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};h.forEach=function(a,b){for(var c=this.ha(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Gd(this)};\nh.Qd=function(a){Hd(this);var b=0,c=this.gb,d=this,e=new Fd;e.next=function(){if(c!=d.gb)throw Error(\"The map has changed since the iterator was created\");if(b>=d.o.length)throw Ed;var e=d.o[b++];return a?e:d.$[e]};return e};var Id=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Jd=function(a){if(a.V&&\"function\"==typeof a.V)return a.V();if(n(a))return a.split(\"\");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Pa(a)},Kd=function(a){if(a.ha&&\"function\"==typeof a.ha)return a.ha();if(!a.V||\"function\"!=typeof a.V){if(ea(a)||n(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Qa(a)}},Ld=function(a,b){if(a.forEach&&\"function\"==typeof a.forEach)a.forEach(b,void 0);else if(ea(a)||n(a))x(a,b,void 0);else for(var c=Kd(a),d=Jd(a),e=\nd.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};var Md=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Md.prototype.ed=null;var Nd=0;Md.prototype.reset=function(a,b,c,d,e){\"number\"==typeof e||Nd++;d||ka();this.rb=a;this.Be=b;delete this.ed};Md.prototype.zd=function(a){this.rb=a};var Od=function(a){this.Ce=a;this.jd=this.vc=this.rb=this.m=null},Pd=function(a,b){this.name=a;this.value=b};Pd.prototype.toString=function(){return this.name};var Qd=new Pd(\"SEVERE\",1E3),Rd=new Pd(\"CONFIG\",700),Sd=new Pd(\"FINE\",500);Od.prototype.getParent=function(){return this.m};Od.prototype.zd=function(a){this.rb=a};var Td=function(a){if(a.rb)return a.rb;if(a.m)return Td(a.m);ya(\"Root logger has no level set.\");return null};\nOd.prototype.log=function(a,b,c){if(a.value>=Td(this).value)for(p(b)&&(b=b()),a=new Md(a,String(b),this.Ce),c&&(a.ed=c),c=\"log:\"+a.Be,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){var d=c,e=a;if(d.jd)for(var f=0;b=d.jd[f];f++)b(e);c=c.getParent()}};\nvar Ud={},Vd=null,Wd=function(a){Vd||(Vd=new Od(\"\"),Ud[\"\"]=Vd,Vd.zd(Rd));var b;if(!(b=Ud[a])){b=new Od(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1),c=Wd(a.substr(0,c));c.vc||(c.vc={});c.vc[d]=b;b.m=c;Ud[a]=b}return b};var H=function(a,b){a&&a.log(Sd,b,void 0)};var Xd=function(a,b,c){if(p(a))c&&(a=q(a,c));else if(a&&\"function\"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error(\"Invalid listener argument\");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},Yd=function(a){var b=null;return(new C(function(c,d){b=Xd(function(){c(void 0)},a);-1==b&&d(Error(\"Failed to schedule timer.\"))})).g(function(a){l.clearTimeout(b);throw a;})};var Zd=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/,$d=function(a,b){if(a){a=a.split(\"&\");for(var c=0;c<a.length;c++){var d=a[c].indexOf(\"=\"),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\\+/g,\" \")):\"\")}}};var I=function(a){G.call(this);this.headers=new Gd;this.qc=a||null;this.oa=!1;this.pc=this.b=null;this.qb=this.nd=this.Sb=\"\";this.Aa=this.Cc=this.Qb=this.xc=!1;this.cb=0;this.lc=null;this.ud=\"\";this.nc=this.He=this.Hd=!1};r(I,G);var ae=I.prototype,be=Wd(\"goog.net.XhrIo\");ae.P=be;var ce=/^https?$/i,de=[\"POST\",\"PUT\"];\nI.prototype.send=function(a,b,c,d){if(this.b)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+this.Sb+\"; newUri=\"+a);b=b?b.toUpperCase():\"GET\";this.Sb=a;this.qb=\"\";this.nd=b;this.xc=!1;this.oa=!0;this.b=this.qc?this.qc.Fb():pc.Fb();this.pc=this.qc?oc(this.qc):oc(pc);this.b.onreadystatechange=q(this.rd,this);this.He&&\"onprogress\"in this.b&&(this.b.onprogress=q(function(a){this.qd(a,!0)},this),this.b.upload&&(this.b.upload.onprogress=q(this.qd,this)));try{H(this.P,ee(this,\"Opening Xhr\")),\nthis.Cc=!0,this.b.open(b,String(a),!0),this.Cc=!1}catch(f){H(this.P,ee(this,\"Error opening Xhr: \"+f.message));this.J(5,f);return}a=c||\"\";var e=this.headers.clone();d&&Ld(d,function(a,b){e.set(b,a)});d=Ha(e.ha());c=l.FormData&&a instanceof l.FormData;!Ia(de,b)||d||c||e.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");e.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.ud&&(this.b.responseType=this.ud);\"withCredentials\"in this.b&&this.b.withCredentials!==this.Hd&&(this.b.withCredentials=\nthis.Hd);try{fe(this),0<this.cb&&(this.nc=ge(this.b),H(this.P,ee(this,\"Will abort after \"+this.cb+\"ms if incomplete, xhr2 \"+this.nc)),this.nc?(this.b.timeout=this.cb,this.b.ontimeout=q(this.zb,this)):this.lc=Xd(this.zb,this.cb,this)),H(this.P,ee(this,\"Sending request\")),this.Qb=!0,this.b.send(a),this.Qb=!1}catch(f){H(this.P,ee(this,\"Send error: \"+f.message)),this.J(5,f)}};var ge=function(a){return z&&A(9)&&fa(a.timeout)&&void 0!==a.ontimeout},Ga=function(a){return\"content-type\"==a.toLowerCase()};\nI.prototype.zb=function(){\"undefined\"!=typeof aa&&this.b&&(this.qb=\"Timed out after \"+this.cb+\"ms, aborting\",H(this.P,ee(this,this.qb)),this.dispatchEvent(\"timeout\"),this.abort(8))};I.prototype.J=function(a,b){this.oa=!1;this.b&&(this.Aa=!0,this.b.abort(),this.Aa=!1);this.qb=b;he(this);ie(this)};var he=function(a){a.xc||(a.xc=!0,a.dispatchEvent(\"complete\"),a.dispatchEvent(\"error\"))};\nI.prototype.abort=function(){this.b&&this.oa&&(H(this.P,ee(this,\"Aborting\")),this.oa=!1,this.Aa=!0,this.b.abort(),this.Aa=!1,this.dispatchEvent(\"complete\"),this.dispatchEvent(\"abort\"),ie(this))};I.prototype.Na=function(){this.b&&(this.oa&&(this.oa=!1,this.Aa=!0,this.b.abort(),this.Aa=!1),ie(this,!0));I.Uc.Na.call(this)};I.prototype.rd=function(){this.isDisposed()||(this.Cc||this.Qb||this.Aa?je(this):this.Fe())};I.prototype.Fe=function(){je(this)};\nvar je=function(a){if(a.oa&&\"undefined\"!=typeof aa)if(a.pc[1]&&4==ke(a)&&2==le(a))H(a.P,ee(a,\"Local request error detected and ignored\"));else if(a.Qb&&4==ke(a))Xd(a.rd,0,a);else if(a.dispatchEvent(\"readystatechange\"),4==ke(a)){H(a.P,ee(a,\"Request complete\"));a.oa=!1;try{var b=le(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Sb).match(Zd)[1]||null;if(!f&&l.self&&l.self.location)var g=l.self.location.protocol,\nf=g.substr(0,g.length-1);e=!ce.test(f?f.toLowerCase():\"\")}d=e}if(d)a.dispatchEvent(\"complete\"),a.dispatchEvent(\"success\");else{var k;try{k=2<ke(a)?a.b.statusText:\"\"}catch(t){H(a.P,\"Can not get status: \"+t.message),k=\"\"}a.qb=k+\" [\"+le(a)+\"]\";he(a)}}finally{ie(a)}}};I.prototype.qd=function(a,b){w(\"progress\"===a.type,\"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.\");this.dispatchEvent(me(a,\"progress\"));this.dispatchEvent(me(a,b?\"downloadprogress\":\"uploadprogress\"))};\nvar me=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},ie=function(a,b){if(a.b){fe(a);var c=a.b,d=a.pc[0]?ba:null;a.b=null;a.pc=null;b||a.dispatchEvent(\"ready\");try{c.onreadystatechange=d}catch(e){(a=a.P)&&a.log(Qd,\"Problem encountered resetting onreadystatechange: \"+e.message,void 0)}}},fe=function(a){a.b&&a.nc&&(a.b.ontimeout=null);fa(a.lc)&&(l.clearTimeout(a.lc),a.lc=null)},ke=function(a){return a.b?a.b.readyState:0},le=function(a){try{return 2<ke(a)?\na.b.status:-1}catch(b){return-1}},ne=function(a){try{return a.b?a.b.responseText:\"\"}catch(b){return H(a.P,\"Can not get responseText: \"+b.message),\"\"}},ee=function(a,b){return b+\" [\"+a.nd+\" \"+a.Sb+\" \"+le(a)+\"]\"};var oe=function(a,b){this.Y=this.Ga=this.ca=\"\";this.Ua=null;this.za=this.qa=\"\";this.M=this.ve=!1;var c;a instanceof oe?(this.M=void 0!==b?b:a.M,pe(this,a.ca),c=a.Ga,J(this),this.Ga=c,qe(this,a.Y),re(this,a.Ua),se(this,a.qa),te(this,a.S.clone()),a=a.za,J(this),this.za=a):a&&(c=String(a).match(Zd))?(this.M=!!b,pe(this,c[1]||\"\",!0),a=c[2]||\"\",J(this),this.Ga=ue(a),qe(this,c[3]||\"\",!0),re(this,c[4]),se(this,c[5]||\"\",!0),te(this,c[6]||\"\",!0),a=c[7]||\"\",J(this),this.za=ue(a)):(this.M=!!b,this.S=new K(null,\n0,this.M))};oe.prototype.toString=function(){var a=[],b=this.ca;b&&a.push(ve(b,we,!0),\":\");var c=this.Y;if(c||\"file\"==b)a.push(\"//\"),(b=this.Ga)&&a.push(ve(b,we,!0),\"@\"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),c=this.Ua,null!=c&&a.push(\":\",String(c));if(c=this.qa)this.Y&&\"/\"!=c.charAt(0)&&a.push(\"/\"),a.push(ve(c,\"/\"==c.charAt(0)?xe:ye,!0));(c=this.S.toString())&&a.push(\"?\",c);(c=this.za)&&a.push(\"#\",ve(c,ze));return a.join(\"\")};\noe.prototype.resolve=function(a){var b=this.clone(),c=!!a.ca;c?pe(b,a.ca):c=!!a.Ga;if(c){var d=a.Ga;J(b);b.Ga=d}else c=!!a.Y;c?qe(b,a.Y):c=null!=a.Ua;d=a.qa;if(c)re(b,a.Ua);else if(c=!!a.qa){if(\"/\"!=d.charAt(0))if(this.Y&&!this.qa)d=\"/\"+d;else{var e=b.qa.lastIndexOf(\"/\");-1!=e&&(d=b.qa.substr(0,e+1)+d)}e=d;if(\"..\"==e||\".\"==e)d=\"\";else if(v(e,\"./\")||v(e,\"/.\")){for(var d=0==e.lastIndexOf(\"/\",0),e=e.split(\"/\"),f=[],g=0;g<e.length;){var k=e[g++];\".\"==k?d&&g==e.length&&f.push(\"\"):\"..\"==k?((1<f.length||\n1==f.length&&\"\"!=f[0])&&f.pop(),d&&g==e.length&&f.push(\"\")):(f.push(k),d=!0)}d=f.join(\"/\")}else d=e}c?se(b,d):c=\"\"!==a.S.toString();c?te(b,a.S.clone()):c=!!a.za;c&&(a=a.za,J(b),b.za=a);return b};oe.prototype.clone=function(){return new oe(this)};\nvar pe=function(a,b,c){J(a);a.ca=c?ue(b,!0):b;a.ca&&(a.ca=a.ca.replace(/:$/,\"\"))},qe=function(a,b,c){J(a);a.Y=c?ue(b,!0):b},re=function(a,b){J(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error(\"Bad port number \"+b);a.Ua=b}else a.Ua=null},se=function(a,b,c){J(a);a.qa=c?ue(b,!0):b},te=function(a,b,c){J(a);b instanceof K?(a.S=b,a.S.Rc(a.M)):(c||(b=ve(b,Ae)),a.S=new K(b,0,a.M))},L=function(a,b,c){J(a);a.S.set(b,c)},Be=function(a,b){J(a);a.S.remove(b)},J=function(a){if(a.ve)throw Error(\"Tried to modify a read-only Uri\");\n};oe.prototype.Rc=function(a){this.M=a;this.S&&this.S.Rc(a);return this};\nvar Ce=function(a){return a instanceof oe?a.clone():new oe(a,void 0)},De=function(a,b){var c=new oe(null,void 0);pe(c,\"https\");a&&qe(c,a);b&&se(c,b);return c},ue=function(a,b){return a?b?decodeURI(a.replace(/%25/g,\"%2525\")):decodeURIComponent(a):\"\"},ve=function(a,b,c){return n(a)?(a=encodeURI(a).replace(b,Ee),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),a):null},Ee=function(a){a=a.charCodeAt(0);return\"%\"+(a>>4&15).toString(16)+(a&15).toString(16)},we=/[#\\/\\?@]/g,ye=/[\\#\\?:]/g,xe=/[\\#\\?]/g,Ae=/[\\#\\?@]/g,\nze=/#/g,K=function(a,b,c){this.l=this.h=null;this.I=a||null;this.M=!!c},Fe=function(a){a.h||(a.h=new Gd,a.l=0,a.I&&$d(a.I,function(b,c){a.add(decodeURIComponent(b.replace(/\\+/g,\" \")),c)}))},He=function(a){var b=Kd(a);if(\"undefined\"==typeof b)throw Error(\"Keys are undefined\");var c=new K(null,0,void 0);a=Jd(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];da(f)?Ge(c,e,f):c.add(e,f)}return c};h=K.prototype;\nh.add=function(a,b){Fe(this);this.I=null;a=this.K(a);var c=this.h.get(a);c||this.h.set(a,c=[]);c.push(b);this.l=za(this.l)+1;return this};h.remove=function(a){Fe(this);a=this.K(a);return this.h.kb(a)?(this.I=null,this.l=za(this.l)-this.h.get(a).length,this.h.remove(a)):!1};h.kb=function(a){Fe(this);a=this.K(a);return this.h.kb(a)};h.ha=function(){Fe(this);for(var a=this.h.V(),b=this.h.ha(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};\nh.V=function(a){Fe(this);var b=[];if(n(a))this.kb(a)&&(b=Ma(b,this.h.get(this.K(a))));else{a=this.h.V();for(var c=0;c<a.length;c++)b=Ma(b,a[c])}return b};h.set=function(a,b){Fe(this);this.I=null;a=this.K(a);this.kb(a)&&(this.l=za(this.l)-this.h.get(a).length);this.h.set(a,[b]);this.l=za(this.l)+1;return this};h.get=function(a,b){a=a?this.V(a):[];return 0<a.length?String(a[0]):b};var Ge=function(a,b,c){a.remove(b);0<c.length&&(a.I=null,a.h.set(a.K(b),Na(c)),a.l=za(a.l)+c.length)};\nK.prototype.toString=function(){if(this.I)return this.I;if(!this.h)return\"\";for(var a=[],b=this.h.ha(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.V(d),f=0;f<d.length;f++){var g=e;\"\"!==d[f]&&(g+=\"=\"+encodeURIComponent(String(d[f])));a.push(g)}return this.I=a.join(\"&\")};K.prototype.clone=function(){var a=new K;a.I=this.I;this.h&&(a.h=this.h.clone(),a.l=this.l);return a};K.prototype.K=function(a){a=String(a);this.M&&(a=a.toLowerCase());return a};\nK.prototype.Rc=function(a){a&&!this.M&&(Fe(this),this.I=null,this.h.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),Ge(this,b,a))},this));this.M=a};var Ie=function(){var a=M();return z&&!!mb&&11==mb||/Edge\\/\\d+/.test(a)},Je=function(){return l.window&&l.window.location.href||\"\"},Ke=function(a,b){var c=[],d;for(d in a)d in b?typeof a[d]!=typeof b[d]?c.push(d):da(a[d])?Sa(a[d],b[d])||c.push(d):\"object\"==typeof a[d]&&null!=a[d]&&null!=b[d]?0<Ke(a[d],b[d]).length&&c.push(d):a[d]!==b[d]&&c.push(d):c.push(d);for(d in b)d in a||c.push(d);return c},Me=function(){var a;a=M();a=\"Chrome\"!=Le(a)?null:(a=a.match(/\\sChrome\\/(\\d+)/i))&&2==a.length?parseInt(a[1],\n10):null;return a&&30>a?!1:!z||!mb||9<mb},Ne=function(a){a=(a||M()).toLowerCase();return a.match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/)?!0:!1},Oe=function(a){a=a||l.window;try{a.close()}catch(b){}},Pe=function(a,b,c){var d=Math.floor(1E9*Math.random()).toString();b=b||500;c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-b)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,\nstatusbar:!0,toolbar:!1};c=M().toLowerCase();d&&(b.target=d,v(c,\"crios/\")&&(b.target=\"_blank\"));\"Firefox\"==Le(M())&&(a=a||\"http://localhost\",b.scrollbars=!0);var g;c=a||\"about:blank\";(d=b)||(d={});a=window;b=c instanceof B?c:ec(\"undefined\"!=typeof c.href?c.href:String(c));c=d.target||c.target;e=[];for(g in d)switch(g){case \"width\":case \"height\":case \"top\":case \"left\":e.push(g+\"=\"+d[g]);break;case \"target\":case \"noreferrer\":break;default:e.push(g+\"=\"+(d[g]?1:0))}g=e.join(\",\");(y(\"iPhone\")&&!y(\"iPod\")&&\n!y(\"iPad\")||y(\"iPad\")||y(\"iPod\"))&&a.navigator&&a.navigator.standalone&&c&&\"_self\"!=c?(g=a.document.createElement(\"A\"),\"undefined\"!=typeof HTMLAnchorElement&&\"undefined\"!=typeof Location&&\"undefined\"!=typeof Element&&(e=g&&(g instanceof HTMLAnchorElement||!(g instanceof Location||g instanceof Element)),f=ga(g)?g.constructor.displayName||g.constructor.name||Object.prototype.toString.call(g):void 0===g?\"undefined\":null===g?\"null\":typeof g,w(e,\"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s\",\nf)),b=b instanceof B?b:ec(b),g.href=bc(b),g.setAttribute(\"target\",c),d.noreferrer&&g.setAttribute(\"rel\",\"noreferrer\"),d=document.createEvent(\"MouseEvent\"),d.initMouseEvent(\"click\",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?(g=a.open(\"\",c,g),d=bc(b),g&&(db&&v(d,\";\")&&(d=\"'\"+d.replace(/'/g,\"%27\")+\"'\"),g.opener=null,a=$b(\"b/12014412, meta tag with sanitized URL\"),ua.test(d)&&(-1!=d.indexOf(\"&\")&&(d=d.replace(na,\"&amp;\")),-1!=d.indexOf(\"<\")&&(d=d.replace(oa,\"&lt;\")),-1!=d.indexOf(\">\")&&(d=d.replace(qa,\n\"&gt;\")),-1!=d.indexOf('\"')&&(d=d.replace(ra,\"&quot;\")),-1!=d.indexOf(\"'\")&&(d=d.replace(sa,\"&#39;\")),-1!=d.indexOf(\"\\x00\")&&(d=d.replace(ta,\"&#0;\"))),d='<META HTTP-EQUIV=\"refresh\" content=\"0; url='+d+'\">',Aa(Zb(a),\"must provide justification\"),w(!/^[\\s\\xa0]*$/.test(Zb(a)),\"must provide non-empty justification\"),g.document.write(zc((new yc).te(d))),g.document.close())):g=a.open(bc(b),c,g);if(g)try{g.focus()}catch(k){}return g},Qe=function(a){return new C(function(b){var c=function(){Yd(2E3).then(function(){if(!a||\na.closed)b();else return c()})};return c()})},Re=/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/,Se=function(){var a=null;return(new C(function(b){\"complete\"==l.document.readyState?b():(a=function(){b()},Pb(window,\"load\",a))})).g(function(b){Rb(window,\"load\",a);throw b;})},N=function(){return firebase.INTERNAL.hasOwnProperty(\"reactNative\")?\"ReactNative\":l.hasOwnProperty(\"process\")?\"Node\":\"Browser\"},Te=function(){var a=N();return\"ReactNative\"===a||\"Node\"===a},Le=function(a){var b=a.toLowerCase();if(v(b,\"opera/\")||\nv(b,\"opr/\")||v(b,\"opios/\"))return\"Opera\";if(v(b,\"iemobile\"))return\"IEMobile\";if(v(b,\"msie\")||v(b,\"trident/\"))return\"IE\";if(v(b,\"edge/\"))return\"Edge\";if(v(b,\"firefox/\"))return\"Firefox\";if(v(b,\"silk/\"))return\"Silk\";if(v(b,\"blackberry\"))return\"Blackberry\";if(v(b,\"webos\"))return\"Webos\";if(!v(b,\"safari/\")||v(b,\"chrome/\")||v(b,\"crios/\")||v(b,\"android\"))if(!v(b,\"chrome/\")&&!v(b,\"crios/\")||v(b,\"edge/\")){if(v(b,\"android\"))return\"Android\";if((a=a.match(/([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/))&&2==a.length)return a[1]}else return\"Chrome\";\nelse return\"Safari\";return\"Other\"},Ue=function(a){var b=N();return(\"Browser\"===b?Le(M()):b)+\"/JsCore/\"+a},M=function(){return l.navigator&&l.navigator.userAgent||\"\"},Ve=function(a){a=a.split(\".\");for(var b=l,c=0;c<a.length&&\"object\"==typeof b&&null!=b;c++)b=b[a[c]];c!=a.length&&(b=void 0);return b},Ye=function(){var a;if(a=(\"http:\"===We()||\"https:\"===We())&&!Te())a:{try{var b=l.localStorage,c=Xe();if(b){b.setItem(c,\"1\");b.removeItem(c);a=Ie()?!!l.indexedDB:!0;break a}}catch(d){}a=!1}return a},We=\nfunction(){return l.location&&l.location.protocol||null},Ze=function(a){a=a||M();return Ne(a)||\"Firefox\"==Le(a)?!1:!0},$e=function(a){return\"undefined\"===typeof a?null:jc(a)},af=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&null!==a[c]&&void 0!==a[c]&&(b[c]=a[c]);return b},bf=function(a){if(null!==a){var b;try{b=gc(a)}catch(c){try{b=JSON.parse(a)}catch(d){throw c;}}return b}},Xe=function(a){return a?a:\"\"+Math.floor(1E9*Math.random()).toString()},cf=function(a){a=a||M();return\"Safari\"==Le(a)||\na.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0},df=function(){var a=l.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++)a.CP[c]=null},ef=function(a,b,c,d){if(a>b)throw Error(\"Short delay should be less than long delay!\");this.Oe=a;this.Ae=b;a=c||M();d=d||N();this.ue=Ne(a)||\"ReactNative\"===d};ef.prototype.get=function(){return this.ue?this.Ae:this.Oe};var ff;try{var gf={};Object.defineProperty(gf,\"abcd\",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(gf,\"abcd\",{configurable:!0,enumerable:!0,value:2});ff=2==gf.abcd}catch(a){ff=!1}\nvar O=function(a,b,c){ff?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c},hf=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&O(a,c,b[c])},jf=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},kf=function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(void 0===d||null===d||\"\"===d)return!1}return!0},lf=function(a){var b=a;if(\"object\"==typeof a&&null!=a){var b=\"length\"in a?[]:{},c;for(c in a)O(b,c,\nlf(a[c]))}return b};var mf=[\"client_id\",\"response_type\",\"scope\",\"redirect_uri\",\"state\"],nf={Id:{ub:500,tb:600,providerId:\"facebook.com\",dc:mf},Jd:{ub:500,tb:620,providerId:\"github.com\",dc:mf},Kd:{ub:515,tb:680,providerId:\"google.com\",dc:mf},Pd:{ub:485,tb:705,providerId:\"twitter.com\",dc:\"oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version\".split(\" \")}},of=function(a){for(var b in nf)if(nf[b].providerId==a)return nf[b];return null},pf=function(a){return(a=of(a))&&\na.dc||[]};var P=function(a,b){this.code=\"auth/\"+a;this.message=b||qf[a]||\"\"};r(P,Error);P.prototype.G=function(){return{name:this.code,code:this.code,message:this.message}};\nvar qf={\"argument-error\":\"\",\"app-not-authorized\":\"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.\",\"app-not-installed\":\"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.\",\"cors-unsupported\":\"This browser is not supported.\",\"credential-already-in-use\":\"This credential is already associated with a different user account.\",\n\"custom-token-mismatch\":\"The custom token corresponds to a different audience.\",\"requires-recent-login\":\"This operation is sensitive and requires recent authentication. Log in again before retrying this request.\",\"dynamic-link-not-activated\":\"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.\",\"email-already-in-use\":\"The email address is already in use by another account.\",\"expired-action-code\":\"The action code has expired. \",\"cancelled-popup-request\":\"This operation has been cancelled due to another conflicting popup being opened.\",\n\"internal-error\":\"An internal error has occurred.\",\"invalid-user-token\":\"The user's credential is no longer valid. The user must sign in again.\",\"invalid-auth-event\":\"An internal error has occurred.\",\"invalid-cordova-configuration\":\"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin and cordova-plugin-browsertab\",\"invalid-custom-token\":\"The custom token format is incorrect. Please check the documentation.\",\"invalid-email\":\"The email address is badly formatted.\",\n\"invalid-api-key\":\"Your API key is invalid, please check you have copied it correctly.\",\"invalid-credential\":\"The supplied auth credential is malformed or has expired.\",\"invalid-oauth-provider\":\"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.\",\"unauthorized-domain\":\"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.\",\"invalid-action-code\":\"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.\",\n\"wrong-password\":\"The password is invalid or the user does not have a password.\",\"missing-iframe-start\":\"An internal error has occurred.\",\"auth-domain-config-required\":\"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.\",\"app-deleted\":\"This instance of FirebaseApp has been deleted.\",\"account-exists-with-different-credential\":\"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.\",\n\"network-request-failed\":\"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\",\"no-auth-event\":\"An internal error has occurred.\",\"no-such-provider\":\"User was not linked to an account with the given provider.\",\"operation-not-allowed\":\"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.\",\"operation-not-supported-in-this-environment\":'This operation is not supported in the environment this application is running on. \"location.protocol\" must be http or https and web storage must be enabled.',\n\"popup-blocked\":\"Unable to establish a connection with the popup. It may have been blocked by the browser.\",\"popup-closed-by-user\":\"The popup has been closed by the user before finalizing the operation.\",\"provider-already-linked\":\"User can only be linked to one identity for the given provider.\",timeout:\"The operation has timed out.\",\"user-token-expired\":\"The user's credential is no longer valid. The user must sign in again.\",\"too-many-requests\":\"We have blocked all requests from this device due to unusual activity. Try again later.\",\n\"user-cancelled\":\"User did not grant your application the permissions it requested.\",\"user-not-found\":\"There is no user record corresponding to this identifier. The user may have been deleted.\",\"user-disabled\":\"The user account has been disabled by an administrator.\",\"user-mismatch\":\"The supplied credentials do not correspond to the previously signed in user.\",\"user-signed-out\":\"\",\"weak-password\":\"The password must be 6 characters long or more.\",\"web-storage-unsupported\":\"This browser is not supported or 3rd party cookies and data may be disabled.\"};var rf=function(a,b,c,d,e){this.wa=a;this.U=b||null;this.fb=c||null;this.fc=d||null;this.J=e||null;if(this.fb||this.J){if(this.fb&&this.J)throw new P(\"invalid-auth-event\");if(this.fb&&!this.fc)throw new P(\"invalid-auth-event\");}else throw new P(\"invalid-auth-event\");};rf.prototype.getError=function(){return this.J};rf.prototype.G=function(){return{type:this.wa,eventId:this.U,urlResponse:this.fb,sessionId:this.fc,error:this.J&&this.J.G()}};var sf=function(a){var b=\"unauthorized-domain\",c=void 0,d=Ce(a);a=d.Y;d=d.ca;\"http\"!=d&&\"https\"!=d?b=\"operation-not-supported-in-this-environment\":c=la(\"This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\",a);P.call(this,b,c)};r(sf,P);var tf=function(a){this.ze=a.sub;ka();this.Gb=a.email||null};var uf=function(a,b,c,d){var e={};ga(c)?e=c:b&&n(c)&&n(d)?e={oauthToken:c,oauthTokenSecret:d}:!b&&n(c)&&(e={accessToken:c});if(b||!e.idToken&&!e.accessToken)if(b&&e.oauthToken&&e.oauthTokenSecret)O(this,\"accessToken\",e.oauthToken),O(this,\"secret\",e.oauthTokenSecret);else{if(b)throw new P(\"argument-error\",\"credential failed: expected 2 arguments (the OAuth access token and secret).\");throw new P(\"argument-error\",\"credential failed: expected 1 argument (the OAuth access token).\");}else e.idToken&&O(this,\n\"idToken\",e.idToken),e.accessToken&&O(this,\"accessToken\",e.accessToken);O(this,\"provider\",a)};uf.prototype.Ib=function(a){return vf(a,wf(this))};uf.prototype.od=function(a,b){var c=wf(this);c.idToken=b;return xf(a,c)};var wf=function(a){var b={};a.idToken&&(b.id_token=a.idToken);a.accessToken&&(b.access_token=a.accessToken);a.secret&&(b.oauth_token_secret=a.secret);b.providerId=a.provider;return{postBody:He(b).toString(),requestUri:Ye()?Je():\"http://localhost\"}};\nuf.prototype.G=function(){var a={provider:this.provider};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);this.secret&&(a.oauthTokenSecret=this.secret);return a};\nvar yf=function(a,b,c){var d=!!b,e=c||[];b=function(){hf(this,{providerId:a,isOAuthProvider:!0});this.Qc=[];this.bd={};\"google.com\"==a&&this.addScope(\"profile\")};d||(b.prototype.addScope=function(a){Ia(this.Qc,a)||this.Qc.push(a)});b.prototype.setCustomParameters=function(a){this.bd=Ta(a)};b.prototype.he=function(){var a=af(this.bd),b;for(b in a)a[b]=a[b].toString();a=Ta(a);for(b=0;b<e.length;b++){var c=e[b];c in a&&delete a[c]}return a};b.prototype.ie=function(){return Na(this.Qc)};b.credential=\nfunction(b,c){return new uf(a,d,b,c)};hf(b,{PROVIDER_ID:a});return b},zf=yf(\"facebook.com\",!1,pf(\"facebook.com\"));zf.prototype.addScope=zf.prototype.addScope||void 0;var Af=yf(\"github.com\",!1,pf(\"github.com\"));Af.prototype.addScope=Af.prototype.addScope||void 0;var Bf=yf(\"google.com\",!1,pf(\"google.com\"));Bf.prototype.addScope=Bf.prototype.addScope||void 0;\nBf.credential=function(a,b){if(!a&&!b)throw new P(\"argument-error\",\"credential failed: must provide the ID token and/or the access token.\");return new uf(\"google.com\",!1,ga(a)?a:{idToken:a||null,accessToken:b||null})};var Cf=yf(\"twitter.com\",!0,pf(\"twitter.com\")),Df=function(a,b){this.Gb=a;this.Jc=b;O(this,\"provider\",\"password\")};Df.prototype.Ib=function(a){return Q(a,Ef,{email:this.Gb,password:this.Jc})};Df.prototype.od=function(a,b){return Q(a,Ff,{idToken:b,email:this.Gb,password:this.Jc})};\nDf.prototype.G=function(){return{email:this.Gb,password:this.Jc}};var Gf=function(){hf(this,{providerId:\"password\",isOAuthProvider:!1})};hf(Gf,{PROVIDER_ID:\"password\"});\nvar Hf={af:Gf,Id:zf,Kd:Bf,Jd:Af,Pd:Cf},If=function(a){var b=a&&a.providerId;if(!b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;for(var e in Hf)if(Hf[e].PROVIDER_ID==b)try{return Hf[e].credential({accessToken:c,idToken:a,oauthToken:c,oauthTokenSecret:d})}catch(f){break}return null},Jf=function(a){if(!a.isOAuthProvider)throw new P(\"invalid-oauth-provider\");};var Kf=function(a,b,c,d){P.call(this,a,d);O(this,\"email\",b);O(this,\"credential\",c)};r(Kf,P);Kf.prototype.G=function(){var a={code:this.code,message:this.message,email:this.email},b=this.credential&&this.credential.G();b&&(Va(a,b),a.providerId=b.provider,delete a.provider);return a};var Lf=function(a){if(a.code){var b=a.code||\"\";0==b.indexOf(\"auth/\")&&(b=b.substring(5));return a.email?new Kf(b,a.email,If(a),a.message):new P(b,a.message||void 0)}return null};var Mf=function(a){this.$e=a};r(Mf,nc);Mf.prototype.Fb=function(){return new this.$e};Mf.prototype.Dc=function(){return{}};\nvar R=function(a,b,c){var d;d=\"Node\"==N();d=l.XMLHttpRequest||d&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest;if(!d)throw new P(\"internal-error\",\"The XMLHttpRequest compatibility library was not found.\");this.i=a;a=b||{};this.Ke=a.secureTokenEndpoint||\"https://securetoken.googleapis.com/v1/token\";this.Le=a.secureTokenTimeout||Nf;this.xd=Ta(a.secureTokenHeaders||Of);this.ce=a.firebaseEndpoint||\"https://www.googleapis.com/identitytoolkit/v3/relyingparty/\";this.de=a.firebaseTimeout||\nPf;this.gd=Ta(a.firebaseHeaders||Qf);c&&(this.gd[\"X-Client-Version\"]=c,this.xd[\"X-Client-Version\"]=c);this.Ud=new sc;this.Ze=new Mf(d)},Rf,Nf=new ef(1E4,3E4),Of={\"Content-Type\":\"application/x-www-form-urlencoded\"},Pf=new ef(1E4,3E4),Qf={\"Content-Type\":\"application/json\"},Tf=function(a,b,c,d,e,f,g){Me()?a=q(a.Ne,a):(Rf||(Rf=new C(function(a,b){Sf(a,b)})),a=q(a.Me,a));a(b,c,d,e,f,g)};\nR.prototype.Ne=function(a,b,c,d,e,f){var g=\"Node\"==N(),k=Te()?g?new I(this.Ze):new I:new I(this.Ud),t;f&&(k.cb=Math.max(0,f),t=setTimeout(function(){k.dispatchEvent(\"timeout\")},f));k.listen(\"complete\",function(){t&&clearTimeout(t);var a=null;try{var c;c=this.b?gc(this.b.responseText):void 0;a=c||null}catch(Ei){try{a=JSON.parse(ne(this))||null}catch(Fi){a=null}}b&&b(a)});Qb(k,\"ready\",function(){t&&clearTimeout(t);this.ya||(this.ya=!0,this.Na())});Qb(k,\"timeout\",function(){t&&clearTimeout(t);this.ya||\n(this.ya=!0,this.Na());b&&b(null)});k.send(a,c,d,e)};var rd=\"__fcb\"+Math.floor(1E6*Math.random()).toString(),Sf=function(a,b){((window.gapi||{}).client||{}).request?a():(l[rd]=function(){((window.gapi||{}).client||{}).request?a():b(Error(\"CORS_UNSUPPORTED\"))},td(function(){b(Error(\"CORS_UNSUPPORTED\"))}))};\nR.prototype.Me=function(a,b,c,d,e){var f=this;Rf.then(function(){window.gapi.client.setApiKey(f.i);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:\"none\",callback:function(a){window.gapi.auth.setToken(g);b&&b(a)}})}).g(function(a){b&&b({error:{message:a&&a.message||\"CORS_UNSUPPORTED\"}})})};\nvar Vf=function(a,b){return new C(function(c,d){\"refresh_token\"==b.grant_type&&b.refresh_token||\"authorization_code\"==b.grant_type&&b.code?Tf(a,a.Ke+\"?key=\"+encodeURIComponent(a.i),function(a){a?a.error?d(Uf(a)):a.access_token&&a.refresh_token?c(a):d(new P(\"internal-error\")):d(new P(\"network-request-failed\"))},\"POST\",He(b).toString(),a.xd,a.Le.get()):d(new P(\"internal-error\"))})},Wf=function(a,b,c,d,e){var f=Ce(a.ce+b);L(f,\"key\",a.i);e&&L(f,\"cb\",ka().toString());var g=\"GET\"==c;if(g)for(var k in d)d.hasOwnProperty(k)&&\nL(f,k,d[k]);return new C(function(b,e){Tf(a,f.toString(),function(a){a?a.error?e(Uf(a)):b(a):e(new P(\"network-request-failed\"))},c,g?void 0:jc(af(d)),a.gd,a.de.get())})},Xf=function(a){if(!Wb.test(a.email))throw new P(\"invalid-email\");},Yf=function(a){\"email\"in a&&Xf(a)},$f=function(a,b){var c=Ye()?Je():\"http://localhost\";return Q(a,Zf,{identifier:b,continueUri:c}).then(function(a){return a.allProviders||[]})},bg=function(a){return Q(a,ag,{}).then(function(a){return a.authorizedDomains||[]})},cg=\nfunction(a){if(!a.idToken)throw new P(\"internal-error\");};R.prototype.signInAnonymously=function(){return Q(this,dg,{})};R.prototype.updateEmail=function(a,b){return Q(this,eg,{idToken:a,email:b})};R.prototype.updatePassword=function(a,b){return Q(this,Ff,{idToken:a,password:b})};var fg={displayName:\"DISPLAY_NAME\",photoUrl:\"PHOTO_URL\"};\nR.prototype.updateProfile=function(a,b){var c={idToken:a},d=[];Oa(fg,function(a,f){var e=b[f];null===e?d.push(a):f in b&&(c[f]=e)});d.length&&(c.deleteAttribute=d);return Q(this,eg,c)};R.prototype.sendPasswordResetEmail=function(a){return Q(this,gg,{requestType:\"PASSWORD_RESET\",email:a})};R.prototype.sendEmailVerification=function(a){return Q(this,hg,{requestType:\"VERIFY_EMAIL\",idToken:a})};\nvar jg=function(a,b,c){return Q(a,ig,{idToken:b,deleteProvider:c})},kg=function(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new P(\"internal-error\");},lg=function(a){var b=null;a.needConfirmation?(a.code=\"account-exists-with-different-credential\",b=Lf(a)):\"FEDERATED_USER_ID_ALREADY_LINKED\"==a.errorMessage?(a.code=\"credential-already-in-use\",b=Lf(a)):\"EMAIL_EXISTS\"==a.errorMessage&&(a.code=\"email-already-in-use\",b=Lf(a));if(b)throw b;if(!a.idToken)throw new P(\"internal-error\");},vf=function(a,\nb){b.returnIdpCredential=!0;return Q(a,mg,b)},xf=function(a,b){b.returnIdpCredential=!0;return Q(a,ng,b)},og=function(a){if(!a.oobCode)throw new P(\"invalid-action-code\");};R.prototype.confirmPasswordReset=function(a,b){return Q(this,pg,{oobCode:a,newPassword:b})};R.prototype.checkActionCode=function(a){return Q(this,qg,{oobCode:a})};R.prototype.applyActionCode=function(a){return Q(this,rg,{oobCode:a})};\nvar rg={endpoint:\"setAccountInfo\",D:og,ab:\"email\"},qg={endpoint:\"resetPassword\",D:og,ua:function(a){if(!a.email||!a.requestType)throw new P(\"internal-error\");}},sg={endpoint:\"signupNewUser\",D:function(a){Xf(a);if(!a.password)throw new P(\"weak-password\");},ua:cg,va:!0},Zf={endpoint:\"createAuthUri\"},tg={endpoint:\"deleteAccount\",$a:[\"idToken\"]},ig={endpoint:\"setAccountInfo\",$a:[\"idToken\",\"deleteProvider\"],D:function(a){if(!da(a.deleteProvider))throw new P(\"internal-error\");}},ug={endpoint:\"getAccountInfo\"},\nhg={endpoint:\"getOobConfirmationCode\",$a:[\"idToken\",\"requestType\"],D:function(a){if(\"VERIFY_EMAIL\"!=a.requestType)throw new P(\"internal-error\");},ab:\"email\"},gg={endpoint:\"getOobConfirmationCode\",$a:[\"requestType\"],D:function(a){if(\"PASSWORD_RESET\"!=a.requestType)throw new P(\"internal-error\");Xf(a)},ab:\"email\"},ag={Td:!0,endpoint:\"getProjectConfig\",pe:\"GET\"},pg={endpoint:\"resetPassword\",D:og,ab:\"email\"},eg={endpoint:\"setAccountInfo\",$a:[\"idToken\"],D:Yf,va:!0},Ff={endpoint:\"setAccountInfo\",$a:[\"idToken\"],\nD:function(a){Yf(a);if(!a.password)throw new P(\"weak-password\");},ua:cg,va:!0},dg={endpoint:\"signupNewUser\",ua:cg,va:!0},mg={endpoint:\"verifyAssertion\",D:kg,ua:lg,va:!0},ng={endpoint:\"verifyAssertion\",D:function(a){kg(a);if(!a.idToken)throw new P(\"internal-error\");},ua:lg,va:!0},vg={endpoint:\"verifyCustomToken\",D:function(a){if(!a.token)throw new P(\"invalid-custom-token\");},ua:cg,va:!0},Ef={endpoint:\"verifyPassword\",D:function(a){Xf(a);if(!a.password)throw new P(\"wrong-password\");},ua:cg,va:!0},Q=\nfunction(a,b,c){if(!kf(c,b.$a))return E(new P(\"internal-error\"));var d=b.pe||\"POST\",e;return D(c).then(b.D).then(function(){b.va&&(c.returnSecureToken=!0);return Wf(a,b.endpoint,d,c,b.Td||!1)}).then(function(a){return e=a}).then(b.ua).then(function(){if(!b.ab)return e;if(!(b.ab in e))throw new P(\"internal-error\");return e[b.ab]})},Uf=function(a){var b,c;c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||\"\";var d={keyInvalid:\"invalid-api-key\",ipRefererBlocked:\"app-not-authorized\"};if(c=d[c]?\nnew P(d[c]):null)return c;c=a.error&&a.error.message||\"\";d={INVALID_CUSTOM_TOKEN:\"invalid-custom-token\",CREDENTIAL_MISMATCH:\"custom-token-mismatch\",MISSING_CUSTOM_TOKEN:\"internal-error\",INVALID_IDENTIFIER:\"invalid-email\",MISSING_CONTINUE_URI:\"internal-error\",INVALID_EMAIL:\"invalid-email\",INVALID_PASSWORD:\"wrong-password\",USER_DISABLED:\"user-disabled\",MISSING_PASSWORD:\"internal-error\",EMAIL_EXISTS:\"email-already-in-use\",PASSWORD_LOGIN_DISABLED:\"operation-not-allowed\",INVALID_IDP_RESPONSE:\"invalid-credential\",\nFEDERATED_USER_ID_ALREADY_LINKED:\"credential-already-in-use\",EMAIL_NOT_FOUND:\"user-not-found\",EXPIRED_OOB_CODE:\"expired-action-code\",INVALID_OOB_CODE:\"invalid-action-code\",MISSING_OOB_CODE:\"internal-error\",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:\"requires-recent-login\",INVALID_ID_TOKEN:\"invalid-user-token\",TOKEN_EXPIRED:\"user-token-expired\",USER_NOT_FOUND:\"user-token-expired\",CORS_UNSUPPORTED:\"cors-unsupported\",DYNAMIC_LINK_NOT_ACTIVATED:\"dynamic-link-not-activated\",TOO_MANY_ATTEMPTS_TRY_LATER:\"too-many-requests\",\nWEAK_PASSWORD:\"weak-password\",OPERATION_NOT_ALLOWED:\"operation-not-allowed\",USER_CANCELLED:\"user-cancelled\"};b=(b=c.match(/^[^\\s]+\\s*:\\s*(.*)$/))&&1<b.length?b[1]:void 0;for(var e in d)if(0===c.indexOf(e))return new P(d[e],b);!b&&a&&(b=$e(a));return new P(\"internal-error\",b)};var wg=function(a){this.R=a};wg.prototype.value=function(){return this.R};wg.prototype.Ad=function(a){this.R.style=a;return this};var xg=function(a){this.R=a||{}};xg.prototype.value=function(){return this.R};xg.prototype.Ad=function(a){this.R.style=a;return this};var zg=function(a){this.Ye=a;this.Ob=null;this.Hc=yg(this)},Ag=function(a){var b=new xg;b.R.where=document.body;b.R.url=a.Ye;b.R.messageHandlersFilter=Ve(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\");b.R.attributes=b.R.attributes||{};(new wg(b.R.attributes)).Ad({position:\"absolute\",top:\"-100px\",width:\"1px\",height:\"1px\"});b.R.dontclear=!0;return b},yg=function(a){return Bg().then(function(){return new C(function(b,c){Ve(\"gapi.iframes.getContext\")().open(Ag(a).value(),function(d){a.Ob=d;a.Ob.restyle({setHideOnLeave:!1});\nvar e=setTimeout(function(){c(Error(\"Network Error\"))},Cg.get()),f=function(){clearTimeout(e);b()};d.ping(f).then(f,function(){c(Error(\"Network Error\"))})})})})};zg.prototype.sendMessage=function(a){var b=this;return this.Hc.then(function(){return new C(function(c){b.Ob.send(a.type,a,c,Ve(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})})};\nvar Dg=function(a,b){a.Hc.then(function(){a.Ob.register(\"authEvent\",b,Ve(\"gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER\"))})},Eg=new ef(3E3,15E3),Cg=new ef(5E3,15E3),Bg=function(){return new C(function(a,b){var c=function(){df();Ve(\"gapi.load\")(\"gapi.iframes\",{callback:a,ontimeout:function(){df();b(Error(\"Network Error\"))},timeout:Eg.get()})};if(Ve(\"gapi.iframes.Iframe\"))a();else if(Ve(\"gapi.load\"))c();else{var d=\"__iframefcb\"+Math.floor(1E6*Math.random()).toString();l[d]=function(){Ve(\"gapi.load\")?c():\nb(Error(\"Network Error\"))};D(qd(\"https://apis.google.com/js/api.js?onload=\"+d)).g(function(){b(Error(\"Network Error\"))})}})};var Fg=function(a,b,c){this.u=a;this.i=b;this.A=c;this.Ha=null;this.Bb=De(this.u,\"/__/auth/iframe\");L(this.Bb,\"apiKey\",this.i);L(this.Bb,\"appName\",this.A)};Fg.prototype.setVersion=function(a){this.Ha=a;return this};Fg.prototype.toString=function(){this.Ha?L(this.Bb,\"v\",this.Ha):Be(this.Bb,\"v\");return this.Bb.toString()};var Gg=function(a,b,c,d,e){this.u=a;this.i=b;this.A=c;this.Sd=d;this.Ha=this.U=this.Oc=null;this.$b=e};Gg.prototype.setVersion=function(a){this.Ha=a;return this};\nGg.prototype.toString=function(){var a=De(this.u,\"/__/auth/handler\");L(a,\"apiKey\",this.i);L(a,\"appName\",this.A);L(a,\"authType\",this.Sd);if(this.$b.isOAuthProvider){L(a,\"providerId\",this.$b.providerId);var b=this.$b.ie();b&&b.length&&L(a,\"scopes\",b.join(\",\"));b=this.$b.he();Ra(b)||L(a,\"customParameters\",$e(b))}this.Oc?L(a,\"redirectUrl\",this.Oc):Be(a,\"redirectUrl\");this.U?L(a,\"eventId\",this.U):Be(a,\"eventId\");this.Ha?L(a,\"v\",this.Ha):Be(a,\"v\");if(this.Cb)for(var c in this.Cb)this.Cb.hasOwnProperty(c)&&\n!a.S.get(c)&&L(a,c,this.Cb[c]);return a.toString()};\nvar Hg=function(a,b,c,d){this.u=a;this.i=b;this.A=c;this.fe=(this.jb=d||null)?Ue(this.jb):null;d=this.jb;this.qe=(new Fg(a,b,c)).setVersion(d).toString();this.ib=[];this.f=new R(b,null,this.fe);this.Rb=this.pa=null},Ig=function(a){var b=Je();return bg(a).then(function(a){a:{for(var c=Ce(b),e=c.ca,c=c.Y,f=0;f<a.length;f++){var g;var k=a[f];g=c;var t=e;0==k.indexOf(\"chrome-extension://\")?g=Ce(k).Y==g&&\"chrome-extension\"==t:\"http\"!=t&&\"https\"!=t?g=!1:Re.test(k)?g=g==k:(k=k.split(\".\").join(\"\\\\.\"),g=(new RegExp(\"^(.+\\\\.\"+\nk+\"|\"+k+\")$\",\"i\")).test(g));if(g){a=!0;break a}}a=!1}if(!a)throw new sf(Je());})};Hg.prototype.pb=function(){if(this.Rb)return this.Rb;var a=this;return this.Rb=Se().then(function(){a.Nb=new zg(a.qe);Jg(a)})};Hg.prototype.gc=function(a,b,c){var d=new P(\"popup-closed-by-user\"),e=new P(\"web-storage-unsupported\"),f=this,g=!1;return Kg(this).then(function(){Lg(f).then(function(c){c||(a&&Oe(a),b(e),g=!0)})}).g(function(){}).then(function(){if(!g)return Qe(a)}).then(function(){if(!g)return Yd(c).then(function(){b(d)})})};\nHg.prototype.Yb=function(a,b,c,d,e,f,g){if(!a)return E(new P(\"popup-blocked\"));if(g)return Kg(this).g(function(b){Oe(a);e(b)}),d(),D();this.pa||(this.pa=Ig(this.f));var k=this;return this.pa.then(function(){var b=Kg(k).g(function(b){Oe(a);e(b);throw b;});d();return b}).then(function(){Jf(c);var d=Mg(k.u,k.i,k.A,b,c,null,f,k.jb);(a||l.window).location.href=bc(ec(d))}).g(function(a){\"auth/network-request-failed\"==a.code&&(k.pa=null);throw a;})};\nHg.prototype.Zb=function(a,b,c){this.pa||(this.pa=Ig(this.f));var d=this;return this.pa.then(function(){Jf(b);var e=Mg(d.u,d.i,d.A,a,b,Je(),c,d.jb);l.window.location.href=bc(ec(e))})};\nvar Kg=function(a){return a.pb().then(function(){return a.Nb.Hc}).g(function(){a.pa=null;throw new P(\"network-request-failed\");})},Mg=function(a,b,c,d,e,f,g,k){a=new Gg(a,b,c,d,e);a.Oc=f;a.U=g;f=a.setVersion(k);f.Cb=Ta(null);return f.toString()},Jg=function(a){if(!a.Nb)throw Error(\"IfcHandler must be initialized!\");Dg(a.Nb,function(b){var c={};if(b&&b.authEvent){var d=!1;b=b.authEvent||{};if(b.type){if(c=b.error)var e=(c=b.error)&&(c.name||c.code),c=e?new P(e.substring(5),c.message):null;b=new rf(b.type,\nb.eventId,b.urlResponse,b.sessionId,c)}else b=null;for(c=0;c<a.ib.length;c++)d=a.ib[c](b)||d;c={};c.status=d?\"ACK\":\"ERROR\";return D(c)}c.status=\"ERROR\";return D(c)})},Lg=function(a){var b={type:\"webStorageSupport\"};return a.pb().then(function(){return a.Nb.sendMessage(b)}).then(function(a){if(a&&a.length&&\"undefined\"!==typeof a[0].webStorageSupport)return a[0].webStorageSupport;throw Error();})},Ng=function(a,b){La(a.ib,function(a){return a==b})};var Og=function(a){this.s=a||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage;if(!this.s)throw new P(\"internal-error\",\"The React Native compatibility library was not found.\");};h=Og.prototype;h.get=function(a){return D(this.s.getItem(a)).then(function(a){return a&&bf(a)})};h.set=function(a,b){return D(this.s.setItem(a,$e(b)))};h.remove=function(a){return D(this.s.removeItem(a))};h.Ja=function(){};h.Ya=function(){};var Pg=function(){this.s={}};h=Pg.prototype;h.get=function(a){return D(this.s[a])};h.set=function(a,b){this.s[a]=b;return D()};h.remove=function(a){delete this.s[a];return D()};h.Ja=function(){};h.Ya=function(){};var Rg=function(){if(!Qg()){if(\"Node\"==N())throw new P(\"internal-error\",\"The LocalStorage compatibility library was not found.\");throw new P(\"web-storage-unsupported\");}this.s=l.localStorage||firebase.INTERNAL.node.localStorage},Qg=function(){var a=\"Node\"==N(),a=l.localStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem(\"__sak\",\"1\"),a.removeItem(\"__sak\"),!0}catch(b){return!1}};h=Rg.prototype;\nh.get=function(a){var b=this;return D().then(function(){var c=b.s.getItem(a);return bf(c)})};h.set=function(a,b){var c=this;return D().then(function(){var d=$e(b);null===d?c.remove(a):c.s.setItem(a,d)})};h.remove=function(a){var b=this;return D().then(function(){b.s.removeItem(a)})};h.Ja=function(a){l.window&&Ib(l.window,\"storage\",a)};h.Ya=function(a){l.window&&Rb(l.window,\"storage\",a)};var Sg=function(){this.s={}};h=Sg.prototype;h.get=function(){return D(null)};h.set=function(){return D()};h.remove=function(){return D()};h.Ja=function(){};h.Ya=function(){};var Ug=function(){if(!Tg()){if(\"Node\"==N())throw new P(\"internal-error\",\"The SessionStorage compatibility library was not found.\");throw new P(\"web-storage-unsupported\");}this.s=l.sessionStorage||firebase.INTERNAL.node.sessionStorage},Tg=function(){var a=\"Node\"==N(),a=l.sessionStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem(\"__sak\",\"1\"),a.removeItem(\"__sak\"),!0}catch(b){return!1}};h=Ug.prototype;\nh.get=function(a){var b=this;return D().then(function(){var c=b.s.getItem(a);return bf(c)})};h.set=function(a,b){var c=this;return D().then(function(){var d=$e(b);null===d?c.remove(a):c.s.setItem(a,d)})};h.remove=function(a){var b=this;return D().then(function(){b.s.removeItem(a)})};h.Ja=function(){};h.Ya=function(){};var Vg=function(a,b,c,d,e,f){if(!window.indexedDB)throw new P(\"web-storage-unsupported\");this.Wd=a;this.Gc=b;this.wc=c;this.Gd=d;this.gb=e;this.O={};this.xb=[];this.sb=0;this.re=f||l.indexedDB},Wg,Xg=function(a){return new C(function(b,c){var d=a.re.open(a.Wd,a.gb);d.onerror=function(a){c(Error(a.target.errorCode))};d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.Gc,{keyPath:a.wc})}catch(f){c(f)}};d.onsuccess=function(a){b(a.target.result)}})},Yg=function(a){a.ld||(a.ld=\nXg(a));return a.ld},Zg=function(a,b){return b.objectStore(a.Gc)},$g=function(a,b,c){return b.transaction([a.Gc],c?\"readwrite\":\"readonly\")},ah=function(a){return new C(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){c(Error(a.target.errorCode))}})};h=Vg.prototype;\nh.set=function(a,b){var c=!1,d,e=this;return ad(Yg(this).then(function(b){d=b;b=Zg(e,$g(e,d,!0));return ah(b.get(a))}).then(function(f){var g=Zg(e,$g(e,d,!0));if(f)return f.value=b,ah(g.put(f));e.sb++;c=!0;f={};f[e.wc]=a;f[e.Gd]=b;return ah(g.add(f))}).then(function(){e.O[a]=b}),function(){c&&e.sb--})};h.get=function(a){var b=this;return Yg(this).then(function(c){return ah(Zg(b,$g(b,c,!1)).get(a))}).then(function(a){return a&&a.value})};\nh.remove=function(a){var b=!1,c=this;return ad(Yg(this).then(function(d){b=!0;c.sb++;return ah(Zg(c,$g(c,d,!0))[\"delete\"](a))}).then(function(){delete c.O[a]}),function(){b&&c.sb--})};\nh.Qe=function(){var a=this;return Yg(this).then(function(b){var c=Zg(a,$g(a,b,!1));return c.getAll?ah(c.getAll()):new C(function(a,b){var d=[],e=c.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b[\"continue\"]()):a(d)};e.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.sb){for(d=0;d<b.length;d++)c[b[d][a.wc]]=b[d][a.Gd];d=Ke(a.O,c);a.O=c}return d})};h.Ja=function(a){0==this.xb.length&&this.Tc();this.xb.push(a)};\nh.Ya=function(a){La(this.xb,function(b){return b==a});0==this.xb.length&&this.ic()};h.Tc=function(){var a=this;this.ic();var b=function(){a.Kc=Yd(800).then(q(a.Qe,a)).then(function(b){0<b.length&&x(a.xb,function(a){a(b)})}).then(b).g(function(a){\"STOP_EVENT\"!=a.message&&b()});return a.Kc};b()};h.ic=function(){this.Kc&&this.Kc.cancel(\"STOP_EVENT\")};var eh=function(){this.dd={Browser:bh,Node:ch,ReactNative:dh}[N()]},fh,bh={X:Rg,Vc:Ug},ch={X:Rg,Vc:Ug},dh={X:Og,Vc:Sg};var gh=function(a){var b={},c=a.email,d=a.newEmail;a=a.requestType;if(!c||!a)throw Error(\"Invalid provider user info!\");b.fromEmail=d||null;b.email=c;O(this,\"operation\",a);O(this,\"data\",lf(b))};var hh=\"First Second Third Fourth Fifth Sixth Seventh Eighth Ninth\".split(\" \"),S=function(a,b){return{name:a||\"\",ea:\"a valid string\",optional:!!b,fa:n}},T=function(a){return{name:a||\"\",ea:\"a valid object\",optional:!1,fa:ga}},ih=function(a,b){return{name:a||\"\",ea:\"a function\",optional:!!b,fa:p}},jh=function(){return{name:\"\",ea:\"null\",optional:!1,fa:ca}},kh=function(){return{name:\"credential\",ea:\"a valid credential\",optional:!1,fa:function(a){return!(!a||!a.Ib)}}},lh=function(){return{name:\"authProvider\",\nea:\"a valid Auth provider\",optional:!1,fa:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty(\"isOAuthProvider\"))}}},mh=function(a,b,c,d){return{name:c||\"\",ea:a.ea+\" or \"+b.ea,optional:!!d,fa:function(c){return a.fa(c)||b.fa(c)}}};var oh=function(a,b){for(var c in b){var d=b[c].name;a[d]=nh(d,a[c],b[c].a)}},U=function(a,b,c,d){a[b]=nh(b,c,d)},nh=function(a,b,c){if(!c)return b;var d=ph(a);a=function(){var a=Array.prototype.slice.call(arguments),e;a:{e=Array.prototype.slice.call(a);var k;k=0;for(var t=!1,pa=0;pa<c.length;pa++)if(c[pa].optional)t=!0;else{if(t)throw new P(\"internal-error\",\"Argument validator encountered a required argument after an optional argument.\");k++}t=c.length;if(e.length<k||t<e.length)e=\"Expected \"+(k==\nt?1==k?\"1 argument\":k+\" arguments\":k+\"-\"+t+\" arguments\")+\" but got \"+e.length+\".\";else{for(k=0;k<e.length;k++)if(t=c[k].optional&&void 0===e[k],!c[k].fa(e[k])&&!t){e=c[k];if(0>k||k>=hh.length)throw new P(\"internal-error\",\"Argument validator received an unsupported number of arguments.\");e=hh[k]+\" argument \"+(e.name?'\"'+e.name+'\" ':\"\")+\"must be \"+e.ea+\".\";break a}e=null}}if(e)throw new P(\"argument-error\",d+\" failed: \"+e);return b.apply(this,a)};for(var e in b)a[e]=b[e];for(e in b.prototype)a.prototype[e]=\nb.prototype[e];return a},ph=function(a){a=a.split(\".\");return a[a.length-1]};var qh=function(a,b,c,d){this.De=a;this.yd=b;this.Je=c;this.bb=d;this.N={};fh||(fh=new eh);a=fh;try{var e;Ie()?(Wg||(Wg=new Vg(\"firebaseLocalStorageDb\",\"firebaseLocalStorage\",\"fbase_key\",\"value\",1)),e=Wg):e=new a.dd.X;this.Ta=e}catch(f){this.Ta=new Pg,this.bb=!0}try{this.kc=new a.dd.Vc}catch(f){this.kc=new Pg}this.Bd=q(this.Cd,this);this.O={}},rh,sh=function(){rh||(rh=new qh(\"firebase\",\":\",!cf(M())&&l.window&&l.window!=l.window.top?!0:!1,Ze()));return rh};h=qh.prototype;\nh.K=function(a,b){return this.De+this.yd+a.name+(b?this.yd+b:\"\")};h.get=function(a,b){return(a.X?this.Ta:this.kc).get(this.K(a,b))};h.remove=function(a,b){b=this.K(a,b);a.X&&!this.bb&&(this.O[b]=null);return(a.X?this.Ta:this.kc).remove(b)};h.set=function(a,b,c){var d=this.K(a,c),e=this,f=a.X?this.Ta:this.kc;return f.set(d,b).then(function(){return f.get(d)}).then(function(b){a.X&&!this.bb&&(e.O[d]=b)})};\nh.addListener=function(a,b,c){a=this.K(a,b);this.bb||(this.O[a]=l.localStorage.getItem(a));Ra(this.N)&&this.Tc();this.N[a]||(this.N[a]=[]);this.N[a].push(c)};h.removeListener=function(a,b,c){a=this.K(a,b);this.N[a]&&(La(this.N[a],function(a){return a==c}),0==this.N[a].length&&delete this.N[a]);Ra(this.N)&&this.ic()};h.Tc=function(){this.Ta.Ja(this.Bd);this.bb||th(this)};\nvar th=function(a){uh(a);a.Fc=setInterval(function(){for(var b in a.N){var c=l.localStorage.getItem(b);c!=a.O[b]&&(a.O[b]=c,c=new xb({type:\"storage\",key:b,target:window,oldValue:a.O[b],newValue:c}),a.Cd(c))}},1E3)},uh=function(a){a.Fc&&(clearInterval(a.Fc),a.Fc=null)};qh.prototype.ic=function(){this.Ta.Ya(this.Bd);this.bb||uh(this)};\nqh.prototype.Cd=function(a){if(a&&a.ge){var b=a.lb.key;if(this.Je){var c=l.localStorage.getItem(b);a=a.lb.newValue;a!=c&&(a?l.localStorage.setItem(b,a):a||l.localStorage.removeItem(b))}this.O[b]=l.localStorage.getItem(b);this.Yc(b)}else x(a,q(this.Yc,this))};qh.prototype.Yc=function(a){this.N[a]&&x(this.N[a],function(a){a()})};var vh=function(a){this.B=a;this.w=sh()},wh={name:\"pendingRedirect\",X:!1},xh=function(a){return a.w.set(wh,\"pending\",a.B)},yh=function(a){return a.w.remove(wh,a.B)},zh=function(a){return a.w.get(wh,a.B).then(function(a){return\"pending\"==a})};var V=function(a,b,c){this.u=a;this.i=b;this.A=c;this.yb=[];this.Ra=!1;this.sc=q(this.je,this);this.Wa=new Ah(this);this.sd=new Bh(this);this.Vb=new vh(this.i+\":\"+this.A);this.eb={};this.eb.unknown=this.Wa;this.eb.signInViaRedirect=this.Wa;this.eb.linkViaRedirect=this.Wa;this.eb.signInViaPopup=this.sd;this.eb.linkViaPopup=this.sd;this.aa=new Hg(this.u,this.i,this.A,firebase.SDK_VERSION||null)};\nV.prototype.reset=function(){this.Ra=!1;Ng(this.aa,this.sc);this.aa=new Hg(this.u,this.i,this.A,firebase.SDK_VERSION||null)};V.prototype.pb=function(){var a=this;this.Ra||(this.Ra=!0,this.aa.ib.push(this.sc));var b=this.aa;return Kg(this.aa).g(function(c){a.aa==b&&a.reset();throw c;})};var Dh=function(a){var b=M();Ze(b)||cf(b)||a.pb();Ch(a.Wa)};\nV.prototype.subscribe=function(a){Ia(this.yb,a)||this.yb.push(a);if(!this.Ra){var b=this;zh(this.Vb).then(function(a){a?yh(b.Vb).then(function(){b.pb()}):Dh(b)}).g(function(){Dh(b)})}};V.prototype.unsubscribe=function(a){La(this.yb,function(b){return b==a})};V.prototype.je=function(a){if(!a)throw new P(\"invalid-auth-event\");for(var b=!1,c=0;c<this.yb.length;c++){var d=this.yb[c];if(d.Zc(a.wa,a.U)){(b=this.eb[a.wa])&&b.td(a,d);b=!0;break}}Ch(this.Wa);return b};\nvar Eh=new ef(2E3,1E4),Fh=new ef(1E4,3E4);V.prototype.getRedirectResult=function(){return this.Wa.getRedirectResult()};V.prototype.Yb=function(a,b,c,d,e){var f=this;return this.aa.Yb(a,b,c,function(){f.Ra||(f.Ra=!0,f.aa.ib.push(f.sc))},function(){f.reset()},d,e)};V.prototype.Zb=function(a,b,c){var d=this,e;return xh(this.Vb).then(function(){return d.aa.Zb(a,b,c).g(function(a){e=a;return yh(d.Vb).then(function(){throw e;})}).then(function(){})})};\nV.prototype.gc=function(a,b,c,d){return this.aa.gc(c,function(c){a.Fa(b,null,c,d)},Eh.get())};var Gh={},Hh=function(a,b,c){var d=b+\":\"+c;Gh[d]||(Gh[d]=new V(a,b,c));return Gh[d]},Ah=function(a){this.w=a;this.ka=null;this.wb=[];this.vb=[];this.ta=null;this.Nc=!1};Ah.prototype.reset=function(){this.ka=null;this.ta&&(this.ta.cancel(),this.ta=null)};\nAh.prototype.td=function(a,b){if(!a)return E(new P(\"invalid-auth-event\"));this.Nc=!0;var c=a.wa,d=a.U,e=a.getError()&&\"auth/web-storage-unsupported\"==a.getError().code;\"unknown\"!=c||e?a=a.J?this.Lc(a,b):b.mb(c,d)?this.Mc(a,b):E(new P(\"invalid-auth-event\")):(this.ka=null,Ih(this,!1,null,null),a=D());return a};var Ch=function(a){a.Nc||(a.Nc=!0,Ih(a,!1,null,null))};Ah.prototype.Lc=function(a){this.ka=null;Ih(this,!0,null,a.getError());return D()};\nAh.prototype.Mc=function(a,b){var c=this,d=a.wa;b=b.mb(d,a.U);var e=a.fb;a=a.fc;var f=\"signInViaRedirect\"==d||\"linkViaRedirect\"==d;this.ta&&this.ta.cancel();this.ka=null;return b(e,a).then(function(a){Ih(c,f,a,null)}).g(function(a){Ih(c,f,null,a)})};\nvar Jh=function(a,b){a.ka=function(){return E(b)};if(a.vb.length)for(var c=0;c<a.vb.length;c++)a.vb[c](b)},Kh=function(a,b){a.ka=function(){return D(b)};if(a.wb.length)for(var c=0;c<a.wb.length;c++)a.wb[c](b)},Ih=function(a,b,c,d){b?d?Jh(a,d):Kh(a,c):Kh(a,{user:null});a.wb=[];a.vb=[]};Ah.prototype.getRedirectResult=function(){var a=this;return new C(function(b,c){a.ka?a.ka().then(b,c):(a.wb.push(b),a.vb.push(c),Lh(a))})};\nvar Lh=function(a){var b=new P(\"timeout\");a.ta&&a.ta.cancel();a.ta=Yd(Fh.get()).then(function(){a.ka||Ih(a,!0,null,b)})},Bh=function(a){this.w=a};Bh.prototype.td=function(a,b){if(!a)return E(new P(\"invalid-auth-event\"));var c=a.wa,d=a.U;return a.J?this.Lc(a,b):b.mb(c,d)?this.Mc(a,b):E(new P(\"invalid-auth-event\"))};Bh.prototype.Lc=function(a,b){b.Fa(a.wa,null,a.getError(),a.U);return D()};\nBh.prototype.Mc=function(a,b){var c=a.U,d=a.wa;return b.mb(d,c)(a.fb,a.fc).then(function(a){b.Fa(d,a,null,c)}).g(function(a){b.Fa(d,null,a,c)})};var Mh=function(a){this.f=a;this.xa=this.T=null;this.Oa=0};Mh.prototype.G=function(){return{apiKey:this.f.i,refreshToken:this.T,accessToken:this.xa,expirationTime:this.Oa}};\nvar Oh=function(a,b){var c=b.idToken,d=b.refreshToken;b=Nh(b.expiresIn);a.xa=c;a.Oa=b;a.T=d},Nh=function(a){return ka()+1E3*parseInt(a,10)},Ph=function(a,b){return Vf(a.f,b).then(function(b){a.xa=b.access_token;a.Oa=Nh(b.expires_in);a.T=b.refresh_token;return{accessToken:a.xa,expirationTime:a.Oa,refreshToken:a.T}}).g(function(b){\"auth/user-token-expired\"==b.code&&(a.T=null);throw b;})},Qh=function(a){return!(!a.xa||a.T)};\nMh.prototype.getToken=function(a){a=!!a;return Qh(this)?E(new P(\"user-token-expired\")):a||!this.xa||ka()>this.Oa-3E4?this.T?Ph(this,{grant_type:\"refresh_token\",refresh_token:this.T}):D(null):D({accessToken:this.xa,expirationTime:this.Oa,refreshToken:this.T})};var Rh=function(a,b,c,d,e){hf(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,providerId:b})},Sh=function(a,b){wb.call(this,a);for(var c in b)this[c]=b[c]};r(Sh,wb);\nvar W=function(a,b,c){this.W=[];this.i=a.apiKey;this.A=a.appName;this.u=a.authDomain||null;a=firebase.SDK_VERSION?Ue(firebase.SDK_VERSION):null;this.f=new R(this.i,null,a);this.da=new Mh(this.f);Th(this,b.idToken);Oh(this.da,b);O(this,\"refreshToken\",this.da.T);Uh(this,c||{});G.call(this);this.Wb=!1;this.u&&Ye()&&(this.j=Hh(this.u,this.i,this.A));this.hc=[];this.rc=D()};r(W,G);\nW.prototype.ra=function(a,b){var c=Array.prototype.slice.call(arguments,1),d=this;return this.rc=this.rc.then(function(){return a.apply(d,c)},function(){return a.apply(d,c)})};\nvar Th=function(a,b){a.md=b;O(a,\"_lat\",b)},Vh=function(a,b){La(a.hc,function(a){return a==b})},Wh=function(a){for(var b=[],c=0;c<a.hc.length;c++)b.push(a.hc[c](a));return Yc(b).then(function(){return a})},Xh=function(a){a.j&&!a.Wb&&(a.Wb=!0,a.j.subscribe(a))},Uh=function(a,b){hf(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,isAnonymous:b.isAnonymous||!1,providerData:[]})};O(W.prototype,\"providerId\",\"firebase\");\nvar Yh=function(){},Zh=function(a){return D().then(function(){if(a.Yd)throw new P(\"app-deleted\");})},$h=function(a){return Ea(a.providerData,function(a){return a.providerId})},bi=function(a,b){b&&(ai(a,b.providerId),a.providerData.push(b))},ai=function(a,b){La(a.providerData,function(a){return a.providerId==b})},ci=function(a,b,c){(\"uid\"!=b||c)&&a.hasOwnProperty(b)&&O(a,b,c)};\nW.prototype.copy=function(a){var b=this;b!=a&&(hf(this,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,isAnonymous:a.isAnonymous,providerData:[]}),x(a.providerData,function(a){bi(b,a)}),this.da=a.da,O(this,\"refreshToken\",this.da.T))};W.prototype.reload=function(){var a=this;return Zh(this).then(function(){return di(a).then(function(){return Wh(a)}).then(Yh)})};\nvar di=function(a){return a.getToken().then(function(b){var c=a.isAnonymous;return ei(a,b).then(function(){c||ci(a,\"isAnonymous\",!1);return b}).g(function(b){\"auth/user-token-expired\"==b.code&&(a.dispatchEvent(new Sh(\"userDeleted\")),fi(a));throw b;})})};\nW.prototype.getToken=function(a){var b=this,c=Qh(this.da);return Zh(this).then(function(){return b.da.getToken(a)}).then(function(a){if(!a)throw new P(\"internal-error\");a.accessToken!=b.md&&(Th(b,a.accessToken),b.Ba());ci(b,\"refreshToken\",a.refreshToken);return a.accessToken}).g(function(a){if(\"auth/user-token-expired\"==a.code&&!c)return Wh(b).then(function(){ci(b,\"refreshToken\",null);throw a;});throw a;})};\nvar gi=function(a,b){b.idToken&&a.md!=b.idToken&&(Oh(a.da,b),a.Ba(),Th(a,b.idToken),ci(a,\"refreshToken\",a.da.T))};W.prototype.Ba=function(){this.dispatchEvent(new Sh(\"tokenChanged\"))};var ei=function(a,b){return Q(a.f,ug,{idToken:b}).then(q(a.Ge,a))};\nW.prototype.Ge=function(a){a=a.users;if(!a||!a.length)throw new P(\"internal-error\");a=a[0];Uh(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified});for(var b=hi(a),c=0;c<b.length;c++)bi(this,b[c]);ci(this,\"isAnonymous\",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};\nvar hi=function(a){return(a=a.providerUserInfo)&&a.length?Ea(a,function(a){return new Rh(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl)}):[]};W.prototype.reauthenticate=function(a){var b=this;return this.c(a.Ib(this.f).then(function(a){var c;a:{var e=a.idToken.split(\".\");if(3==e.length){for(var e=e[1],f=(4-e.length%4)%4,g=0;g<f;g++)e+=\".\";try{var k=gc(rb(e));if(k.sub&&k.iss&&k.aud&&k.exp){c=new tf(k);break a}}catch(t){}}c=null}if(!c||b.uid!=c.ze)throw new P(\"user-mismatch\");gi(b,a);return b.reload()}))};\nvar ii=function(a,b){return di(a).then(function(){if(Ia($h(a),b))return Wh(a).then(function(){throw new P(\"provider-already-linked\");})})};h=W.prototype;h.xe=function(a){var b=this;return this.c(ii(this,a.provider).then(function(){return b.getToken()}).then(function(c){return a.od(b.f,c)}).then(q(this.fd,this)))};h.link=function(a){return this.ra(this.xe,a)};h.fd=function(a){gi(this,a);var b=this;return this.reload().then(function(){return b})};\nh.Ve=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updateEmail(c,a)}).then(function(a){gi(b,a);return b.reload()}))};h.updateEmail=function(a){return this.ra(this.Ve,a)};h.We=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.f.updatePassword(c,a)}).then(function(a){gi(b,a);return b.reload()}))};h.updatePassword=function(a){return this.ra(this.We,a)};\nh.Xe=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Zh(this);var b=this;return this.c(this.getToken().then(function(c){return b.f.updateProfile(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){gi(b,a);ci(b,\"displayName\",a.displayName||null);ci(b,\"photoURL\",a.photoUrl||null);return Wh(b)}).then(Yh))};h.updateProfile=function(a){return this.ra(this.Xe,a)};\nh.Ue=function(a){var b=this;return this.c(di(this).then(function(c){return Ia($h(b),a)?jg(b.f,c,[a]).then(function(a){var c={};x(a.providerUserInfo||[],function(a){c[a.providerId]=!0});x($h(b),function(a){c[a]||ai(b,a)});return Wh(b)}):Wh(b).then(function(){throw new P(\"no-such-provider\");})}))};h.unlink=function(a){return this.ra(this.Ue,a)};h.Xd=function(){var a=this;return this.c(this.getToken().then(function(b){return Q(a.f,tg,{idToken:b})}).then(function(){a.dispatchEvent(new Sh(\"userDeleted\"))})).then(function(){fi(a)})};\nh[\"delete\"]=function(){return this.ra(this.Xd)};h.Zc=function(a,b){return\"linkViaPopup\"==a&&(this.ia||null)==b&&this.ba||\"linkViaRedirect\"==a&&(this.bc||null)==b?!0:!1};h.Fa=function(a,b,c,d){\"linkViaPopup\"==a&&d==(this.ia||null)&&(c&&this.Da?this.Da(c):b&&!c&&this.ba&&this.ba(b),this.C&&(this.C.cancel(),this.C=null),delete this.ba,delete this.Da)};h.mb=function(a,b){return\"linkViaPopup\"==a&&b==(this.ia||null)||\"linkViaRedirect\"==a&&(this.bc||null)==b?q(this.ae,this):null};\nh.Hb=function(){return Xe(this.uid+\":::\")};\nvar ki=function(a,b){if(!Ye())return E(new P(\"operation-not-supported-in-this-environment\"));var c=of(b.providerId),d=a.Hb(),e=null;!Ze()&&a.u&&b.isOAuthProvider&&(e=Mg(a.u,a.i,a.A,\"linkViaPopup\",b,null,d,firebase.SDK_VERSION||null));var f=Pe(e,c&&c.ub,c&&c.tb),c=ii(a,b.providerId).then(function(){return Wh(a)}).then(function(){ji(a);return a.getToken()}).then(function(){return a.j.Yb(f,\"linkViaPopup\",b,d,!!e)}).then(function(){return new C(function(b,c){a.Fa(\"linkViaPopup\",null,new P(\"cancelled-popup-request\"),\na.ia||null);a.ba=b;a.Da=c;a.ia=d;a.C=a.j.gc(a,\"linkViaPopup\",f,d)})}).then(function(a){f&&Oe(f);return a}).g(function(a){f&&Oe(f);throw a;});return a.c(c)};W.prototype.linkWithPopup=function(a){var b=ki(this,a);return this.ra(function(){return b})};\nW.prototype.ye=function(a){if(!Ye())return E(new P(\"operation-not-supported-in-this-environment\"));var b=this,c=null,d=this.Hb(),e=ii(this,a.providerId).then(function(){ji(b);return b.getToken()}).then(function(){b.bc=d;return Wh(b)}).then(function(a){b.Ea&&(a=b.Ea,a=a.w.set(li,b.G(),a.B));return a}).then(function(){return b.j.Zb(\"linkViaRedirect\",a,d)}).g(function(a){c=a;if(b.Ea)return mi(b.Ea);throw c;}).then(function(){if(c)throw c;});return this.c(e)};\nW.prototype.linkWithRedirect=function(a){return this.ra(this.ye,a)};var ji=function(a){if(!a.j||!a.Wb){if(a.j&&!a.Wb)throw new P(\"internal-error\");throw new P(\"auth-domain-config-required\");}};W.prototype.ae=function(a,b){var c=this;this.C&&(this.C.cancel(),this.C=null);var d=null,e=this.getToken().then(function(d){return xf(c.f,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){d=If(a);return c.fd(a)}).then(function(a){return{user:a,credential:d}});return this.c(e)};\nW.prototype.sendEmailVerification=function(){var a=this;return this.c(this.getToken().then(function(b){return a.f.sendEmailVerification(b)}).then(function(b){if(a.email!=b)return a.reload()}).then(function(){}))};var fi=function(a){for(var b=0;b<a.W.length;b++)a.W[b].cancel(\"app-deleted\");a.W=[];a.Yd=!0;O(a,\"refreshToken\",null);a.j&&a.j.unsubscribe(a)};W.prototype.c=function(a){var b=this;this.W.push(a);ad(a,function(){Ka(b.W,a)});return a};W.prototype.toJSON=function(){return this.G()};\nW.prototype.G=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.i,appName:this.A,authDomain:this.u,stsTokenManager:this.da.G(),redirectEventId:this.bc||null};x(this.providerData,function(b){a.providerData.push(jf(b))});return a};\nvar ni=function(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime)c.idToken=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-ka())/1E3;else return null;var d=new W(b,c,a);a.providerData&&x(a.providerData,function(a){if(a){var b={};hf(b,a);bi(d,b)}});a.redirectEventId&&(d.bc=a.redirectEventId);\nreturn d},oi=function(a,b,c){var d=new W(a,b);c&&(d.Ea=c);return d.reload().then(function(){return d})};var pi=function(a){this.B=a;this.w=sh()},li={name:\"redirectUser\",X:!1},mi=function(a){return a.w.remove(li,a.B)},qi=function(a,b){return a.w.get(li,a.B).then(function(a){a&&b&&(a.authDomain=b);return ni(a||{})})};var ri=function(a){this.B=a;this.w=sh()},si={name:\"authUser\",X:!0},ti=function(a,b){return a.w.set(si,b.G(),a.B)},ui=function(a){return a.w.remove(si,a.B)},vi=function(a,b){return a.w.get(si,a.B).then(function(a){a&&b&&(a.authDomain=b);return ni(a||{})})};var Y=function(a){this.Ma=!1;O(this,\"app\",a);if(X(this).options&&X(this).options.apiKey)a=firebase.SDK_VERSION?Ue(firebase.SDK_VERSION):null,this.f=new R(X(this).options&&X(this).options.apiKey,null,a);else throw new P(\"invalid-api-key\");this.W=[];this.Ka=[];this.Ee=firebase.INTERNAL.createSubscribe(q(this.se,this));wi(this,null);this.ma=new ri(X(this).options.apiKey+\":\"+X(this).name);this.Xa=new pi(X(this).options.apiKey+\":\"+X(this).name);this.Db=this.c(xi(this));this.sa=this.c(yi(this));this.Ec=\n!1;this.Bc=q(this.Pe,this);this.Ed=q(this.Qa,this);this.Fd=q(this.oe,this);this.Dd=q(this.ne,this);zi(this);this.INTERNAL={};this.INTERNAL[\"delete\"]=q(this[\"delete\"],this)};Y.prototype.toJSON=function(){return{apiKey:X(this).options.apiKey,authDomain:X(this).options.authDomain,appName:X(this).name,currentUser:Z(this)&&Z(this).G()}};\nvar Ai=function(a){return a.Zd||E(new P(\"auth-domain-config-required\"))},zi=function(a){var b=X(a).options.authDomain,c=X(a).options.apiKey;b&&Ye()&&(a.Zd=a.Db.then(function(){if(!a.Ma)return a.j=Hh(b,c,X(a).name),a.j.subscribe(a),Z(a)&&Xh(Z(a)),a.Pc&&(Xh(a.Pc),a.Pc=null),a.j}))};h=Y.prototype;h.Zc=function(a,b){switch(a){case \"unknown\":case \"signInViaRedirect\":return!0;case \"signInViaPopup\":return this.ia==b&&!!this.ba;default:return!1}};\nh.Fa=function(a,b,c,d){\"signInViaPopup\"==a&&this.ia==d&&(c&&this.Da?this.Da(c):b&&!c&&this.ba&&this.ba(b),this.C&&(this.C.cancel(),this.C=null),delete this.ba,delete this.Da)};h.mb=function(a,b){return\"signInViaRedirect\"==a||\"signInViaPopup\"==a&&this.ia==b&&this.ba?q(this.be,this):null};\nh.be=function(a,b){var c=this;a={requestUri:a,sessionId:b};this.C&&(this.C.cancel(),this.C=null);var d=null,e=vf(c.f,a).then(function(a){d=If(a);return a});a=c.Db.then(function(){return e}).then(function(a){return Bi(c,a)}).then(function(){return{user:Z(c),credential:d}});return this.c(a)};h.Hb=function(){return Xe()};\nh.signInWithPopup=function(a){if(!Ye())return E(new P(\"operation-not-supported-in-this-environment\"));var b=this,c=of(a.providerId),d=this.Hb(),e=null;!Ze()&&X(this).options.authDomain&&a.isOAuthProvider&&(e=Mg(X(this).options.authDomain,X(this).options.apiKey,X(this).name,\"signInViaPopup\",a,null,d,firebase.SDK_VERSION||null));var f=Pe(e,c&&c.ub,c&&c.tb),c=Ai(this).then(function(b){return b.Yb(f,\"signInViaPopup\",a,d,!!e)}).then(function(){return new C(function(a,c){b.Fa(\"signInViaPopup\",null,new P(\"cancelled-popup-request\"),\nb.ia);b.ba=a;b.Da=c;b.ia=d;b.C=b.j.gc(b,\"signInViaPopup\",f,d)})}).then(function(a){f&&Oe(f);return a}).g(function(a){f&&Oe(f);throw a;});return this.c(c)};h.signInWithRedirect=function(a){if(!Ye())return E(new P(\"operation-not-supported-in-this-environment\"));var b=this,c=Ai(this).then(function(){return b.j.Zb(\"signInViaRedirect\",a)});return this.c(c)};\nh.getRedirectResult=function(){if(!Ye())return E(new P(\"operation-not-supported-in-this-environment\"));var a=this,b=Ai(this).then(function(){return a.j.getRedirectResult()});return this.c(b)};\nvar Bi=function(a,b){var c={};c.apiKey=X(a).options.apiKey;c.authDomain=X(a).options.authDomain;c.appName=X(a).name;return a.Db.then(function(){return oi(c,b,a.Xa)}).then(function(b){if(Z(a)&&b.uid==Z(a).uid)return Z(a).copy(b),a.Qa(b);wi(a,b);Xh(b);return a.Qa(b)}).then(function(){a.Ba()})},wi=function(a,b){Z(a)&&(Vh(Z(a),a.Ed),Rb(Z(a),\"tokenChanged\",a.Fd),Rb(Z(a),\"userDeleted\",a.Dd));b&&(b.hc.push(a.Ed),Ib(b,\"tokenChanged\",a.Fd),Ib(b,\"userDeleted\",a.Dd));O(a,\"currentUser\",b)};\nY.prototype.signOut=function(){var a=this,b=this.sa.then(function(){if(!Z(a))return D();wi(a,null);return ui(a.ma).then(function(){a.Ba()})});return this.c(b)};\nvar Ci=function(a){var b=qi(a.Xa,X(a).options.authDomain).then(function(b){if(a.Pc=b)b.Ea=a.Xa;return mi(a.Xa)});return a.c(b)},xi=function(a){var b=X(a).options.authDomain,c=Ci(a).then(function(){return vi(a.ma,b)}).then(function(b){return b?(b.Ea=a.Xa,b.reload().then(function(){return ti(a.ma,b).then(function(){return b})}).g(function(c){return\"auth/network-request-failed\"==c.code?b:ui(a.ma)})):null}).then(function(b){wi(a,b||null)});return a.c(c)},yi=function(a){return a.Db.then(function(){return a.getRedirectResult()}).g(function(){}).then(function(){if(!a.Ma)return a.Bc()}).g(function(){}).then(function(){if(!a.Ma){a.Ec=\n!0;var b=a.ma;b.w.addListener(si,b.B,a.Bc)}})};Y.prototype.Pe=function(){var a=this;return vi(this.ma,X(this).options.authDomain).then(function(b){if(!a.Ma){var c;if(c=Z(a)&&b){c=Z(a).uid;var d=b.uid;c=void 0===c||null===c||\"\"===c||void 0===d||null===d||\"\"===d?!1:c==d}if(c)return Z(a).copy(b),Z(a).getToken();if(Z(a)||b)wi(a,b),b&&(Xh(b),b.Ea=a.Xa),a.j&&a.j.subscribe(a),a.Ba()}})};Y.prototype.Qa=function(a){return ti(this.ma,a)};Y.prototype.oe=function(){this.Ba();this.Qa(Z(this))};\nY.prototype.ne=function(){this.signOut()};var Di=function(a,b){return a.c(b.then(function(b){return Bi(a,b)}).then(function(){return Z(a)}))};h=Y.prototype;h.se=function(a){var b=this;this.addAuthTokenListener(function(){a.next(Z(b))})};h.onAuthStateChanged=function(a,b,c){var d=this;this.Ec&&firebase.Promise.resolve().then(function(){p(a)?a(Z(d)):p(a.next)&&a.next(Z(d))});return this.Ee(a,b,c)};\nh.getToken=function(a){var b=this,c=this.sa.then(function(){return Z(b)?Z(b).getToken(a).then(function(a){return{accessToken:a}}):null});return this.c(c)};h.signInWithCustomToken=function(a){var b=this;return this.sa.then(function(){return Di(b,Q(b.f,vg,{token:a}))}).then(function(a){ci(a,\"isAnonymous\",!1);return b.Qa(a)}).then(function(){return Z(b)})};h.signInWithEmailAndPassword=function(a,b){var c=this;return this.sa.then(function(){return Di(c,Q(c.f,Ef,{email:a,password:b}))})};\nh.createUserWithEmailAndPassword=function(a,b){var c=this;return this.sa.then(function(){return Di(c,Q(c.f,sg,{email:a,password:b}))})};h.signInWithCredential=function(a){var b=this;return this.sa.then(function(){return Di(b,a.Ib(b.f))})};h.signInAnonymously=function(){var a=Z(this),b=this;return a&&a.isAnonymous?D(a):this.sa.then(function(){return Di(b,b.f.signInAnonymously())}).then(function(a){ci(a,\"isAnonymous\",!0);return b.Qa(a)}).then(function(){return Z(b)})};\nvar X=function(a){return a.app},Z=function(a){return a.currentUser};h=Y.prototype;h.Ba=function(){if(this.Ec)for(var a=0;a<this.Ka.length;a++)if(this.Ka[a])this.Ka[a](Z(this)&&Z(this)._lat||null)};h.addAuthTokenListener=function(a){var b=this;this.Ka.push(a);this.c(this.sa.then(function(){b.Ma||Ia(b.Ka,a)&&a(Z(b)&&Z(b)._lat||null)}))};h.removeAuthTokenListener=function(a){La(this.Ka,function(b){return b==a})};\nh[\"delete\"]=function(){this.Ma=!0;for(var a=0;a<this.W.length;a++)this.W[a].cancel(\"app-deleted\");this.W=[];this.ma&&(a=this.ma,a.w.removeListener(si,a.B,this.Bc));this.j&&this.j.unsubscribe(this);return firebase.Promise.resolve()};h.c=function(a){var b=this;this.W.push(a);ad(a,function(){Ka(b.W,a)});return a};h.fetchProvidersForEmail=function(a){return this.c($f(this.f,a))};h.verifyPasswordResetCode=function(a){return this.checkActionCode(a).then(function(a){return a.data.email})};\nh.confirmPasswordReset=function(a,b){return this.c(this.f.confirmPasswordReset(a,b).then(function(){}))};h.checkActionCode=function(a){return this.c(this.f.checkActionCode(a).then(function(a){return new gh(a)}))};h.applyActionCode=function(a){return this.c(this.f.applyActionCode(a).then(function(){}))};h.sendPasswordResetEmail=function(a){return this.c(this.f.sendPasswordResetEmail(a).then(function(){}))};oh(Y.prototype,{applyActionCode:{name:\"applyActionCode\",a:[S(\"code\")]},checkActionCode:{name:\"checkActionCode\",a:[S(\"code\")]},confirmPasswordReset:{name:\"confirmPasswordReset\",a:[S(\"code\"),S(\"newPassword\")]},createUserWithEmailAndPassword:{name:\"createUserWithEmailAndPassword\",a:[S(\"email\"),S(\"password\")]},fetchProvidersForEmail:{name:\"fetchProvidersForEmail\",a:[S(\"email\")]},getRedirectResult:{name:\"getRedirectResult\",a:[]},onAuthStateChanged:{name:\"onAuthStateChanged\",a:[mh(T(),ih(),\"nextOrObserver\"),\nih(\"opt_error\",!0),ih(\"opt_completed\",!0)]},sendPasswordResetEmail:{name:\"sendPasswordResetEmail\",a:[S(\"email\")]},signInAnonymously:{name:\"signInAnonymously\",a:[]},signInWithCredential:{name:\"signInWithCredential\",a:[kh()]},signInWithCustomToken:{name:\"signInWithCustomToken\",a:[S(\"token\")]},signInWithEmailAndPassword:{name:\"signInWithEmailAndPassword\",a:[S(\"email\"),S(\"password\")]},signInWithPopup:{name:\"signInWithPopup\",a:[lh()]},signInWithRedirect:{name:\"signInWithRedirect\",a:[lh()]},signOut:{name:\"signOut\",\na:[]},toJSON:{name:\"toJSON\",a:[S(null,!0)]},verifyPasswordResetCode:{name:\"verifyPasswordResetCode\",a:[S(\"code\")]}});\noh(W.prototype,{\"delete\":{name:\"delete\",a:[]},getToken:{name:\"getToken\",a:[{name:\"opt_forceRefresh\",ea:\"a boolean\",optional:!0,fa:function(a){return\"boolean\"==typeof a}}]},link:{name:\"link\",a:[kh()]},linkWithPopup:{name:\"linkWithPopup\",a:[lh()]},linkWithRedirect:{name:\"linkWithRedirect\",a:[lh()]},reauthenticate:{name:\"reauthenticate\",a:[kh()]},reload:{name:\"reload\",a:[]},sendEmailVerification:{name:\"sendEmailVerification\",a:[]},toJSON:{name:\"toJSON\",a:[S(null,!0)]},unlink:{name:\"unlink\",a:[S(\"provider\")]},\nupdateEmail:{name:\"updateEmail\",a:[S(\"email\")]},updatePassword:{name:\"updatePassword\",a:[S(\"password\")]},updateProfile:{name:\"updateProfile\",a:[T(\"profile\")]}});oh(C.prototype,{g:{name:\"catch\"},then:{name:\"then\"}});U(Gf,\"credential\",function(a,b){return new Df(a,b)},[S(\"email\"),S(\"password\")]);oh(zf.prototype,{addScope:{name:\"addScope\",a:[S(\"scope\")]},setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});U(zf,\"credential\",zf.credential,[mh(S(),T(),\"token\")]);\noh(Af.prototype,{addScope:{name:\"addScope\",a:[S(\"scope\")]},setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});U(Af,\"credential\",Af.credential,[mh(S(),T(),\"token\")]);oh(Bf.prototype,{addScope:{name:\"addScope\",a:[S(\"scope\")]},setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});U(Bf,\"credential\",Bf.credential,[mh(S(),mh(T(),jh()),\"idToken\"),mh(S(),jh(),\"accessToken\",!0)]);oh(Cf.prototype,{setCustomParameters:{name:\"setCustomParameters\",a:[T(\"customOAuthParameters\")]}});\nU(Cf,\"credential\",Cf.credential,[mh(S(),T(),\"token\"),S(\"secret\",!0)]);\n(function(){if(\"undefined\"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var a={Auth:Y,Error:P};U(a,\"EmailAuthProvider\",Gf,[]);U(a,\"FacebookAuthProvider\",zf,[]);U(a,\"GithubAuthProvider\",Af,[]);U(a,\"GoogleAuthProvider\",Bf,[]);U(a,\"TwitterAuthProvider\",Cf,[]);firebase.INTERNAL.registerService(\"auth\",function(a,c){a=new Y(a);c({INTERNAL:{getToken:q(a.getToken,a),addAuthTokenListener:q(a.addAuthTokenListener,a),removeAuthTokenListener:q(a.removeAuthTokenListener,a)}});return a},\na,function(a,c){if(\"create\"===a)try{c.auth()}catch(d){}});firebase.INTERNAL.extendNamespace({User:W})}else throw Error(\"Cannot find the firebase namespace; be sure to include firebase-app.js before this library.\");})();}).call(this);\n}).call(global);\nmodule.exports = firebase.auth;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.3\n    Build: 3.6.3-rc.6\n    Terms: https://firebase.google.com/terms/\n\n    ---\n\n    typedarray.js\n    Copyright (c) 2010, Linden Research, Inc.\n\n    Permission is hereby granted, free of charge, to any person obtaining a copy\n    of this software and associated documentation files (the \"Software\"), to deal\n    in the Software without restriction, including without limitation the rights\n    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n    copies of the Software, and to permit persons to whom the Software is\n    furnished to do so, subject to the following conditions:\n\n    The above copyright notice and this permission notice shall be included in\n    all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n    THE SOFTWARE. */\n(function() {var g,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.Vb=function(){return a.Ye?a.Ye:a.Ye=new a}}\nfunction da(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function ea(a){return\"array\"==da(a)}function fa(a){var b=da(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function p(a){return\"string\"==typeof a}function ga(a){return\"number\"==typeof a}function ha(a){return\"function\"==da(a)}function ia(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ja:ka;return q.apply(null,arguments)}\nfunction la(a,b){function c(){}c.prototype=b.prototype;a.wg=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function ma(){this.Wa=-1};function na(){this.Wa=-1;this.Wa=64;this.M=[];this.Vd=[];this.Af=[];this.zd=[];this.zd[0]=128;for(var a=1;a<this.Wa;++a)this.zd[a]=0;this.Pd=this.$b=0;this.reset()}la(na,ma);na.prototype.reset=function(){this.M[0]=1732584193;this.M[1]=4023233417;this.M[2]=2562383102;this.M[3]=271733878;this.M[4]=3285377520;this.Pd=this.$b=0};\nfunction oa(a,b,c){c||(c=0);var d=a.Af;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.M[0];c=a.M[1];for(var h=a.M[2],k=a.M[3],l=a.M[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),m=1518500249):(f=c^h^k,m=1859775393):60>e?(f=c&h|k&(c|h),m=2400959708):(f=c^h^k,m=3395469782),f=(b<<\n5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.M[0]=a.M[0]+b&4294967295;a.M[1]=a.M[1]+c&4294967295;a.M[2]=a.M[2]+h&4294967295;a.M[3]=a.M[3]+k&4294967295;a.M[4]=a.M[4]+l&4294967295}\nna.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Wa,d=0,e=this.Vd,f=this.$b;d<b;){if(0==f)for(;d<=c;)oa(this,a,d),d+=this.Wa;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Wa){oa(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Wa){oa(this,e);f=0;break}}this.$b=f;this.Pd+=b}};function r(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function pa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function qa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function ra(a){var b=0,c;for(c in a)b++;return b}function sa(a){for(var b in a)return b}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ua(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function va(a,b){for(var c in a)if(a[c]==b)return!0;return!1}\nfunction wa(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function xa(a,b){var c=wa(a,b,void 0);return c&&a[c]}function ya(a){for(var b in a)return!1;return!0}function za(a){var b={},c;for(c in a)b[c]=a[c];return b};function Aa(a){a=String(a);if(/^\\s*$/.test(a)?0:/^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\")))try{return eval(\"(\"+a+\")\")}catch(b){}throw Error(\"Invalid JSON string: \"+a);}function Ba(){this.Fd=void 0}\nfunction Ca(a,b,c){switch(typeof b){case \"string\":Da(b,c);break;case \"number\":c.push(isFinite(b)&&!isNaN(b)?b:\"null\");break;case \"boolean\":c.push(b);break;case \"undefined\":c.push(\"null\");break;case \"object\":if(null==b){c.push(\"null\");break}if(ea(b)){var d=b.length;c.push(\"[\");for(var e=\"\",f=0;f<d;f++)c.push(e),e=b[f],Ca(a,a.Fd?a.Fd.call(b,String(f),e):e,c),e=\",\";c.push(\"]\");break}c.push(\"{\");d=\"\";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],\"function\"!=typeof e&&(c.push(d),Da(f,c),\nc.push(\":\"),Ca(a,a.Fd?a.Fd.call(b,f,e):e,c),d=\",\"));c.push(\"}\");break;case \"function\":break;default:throw Error(\"Unknown type: \"+typeof b);}}var Ea={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},Fa=/\\uffff/.test(\"\\uffff\")?/[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Da(a,b){b.push('\"',a.replace(Fa,function(a){if(a in Ea)return Ea[a];var b=a.charCodeAt(0),e=\"\\\\u\";16>b?e+=\"000\":256>b?e+=\"00\":4096>b&&(e+=\"0\");return Ea[a]=e+b.toString(16)}),'\"')};var t;a:{var Ga=aa.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){t=Ha;break a}}t=\"\"};var v=Array.prototype,Ia=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ja=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?\na.split(\"\"):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},La=v.map?function(a,b,c){return v.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(\"\"):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ma=v.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);d&&(e[0]=q(b,d));return v.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ja(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Na=v.every?function(a,b,\nc){return v.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a,b){var c=Pa(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Qa(a,b){var c=Ia(a,b);0<=c&&v.splice.call(a,c,1)}function Ra(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)}\nfunction Sa(a,b){a.sort(b||Ta)}function Ta(a,b){return a>b?1:a<b?-1:0};var Ua=-1!=t.indexOf(\"Opera\")||-1!=t.indexOf(\"OPR\"),Va=-1!=t.indexOf(\"Trident\")||-1!=t.indexOf(\"MSIE\"),Wa=-1!=t.indexOf(\"Gecko\")&&-1==t.toLowerCase().indexOf(\"webkit\")&&!(-1!=t.indexOf(\"Trident\")||-1!=t.indexOf(\"MSIE\")),Xa=-1!=t.toLowerCase().indexOf(\"webkit\");\n(function(){var a=\"\",b;if(Ua&&aa.opera)return a=aa.opera.version,ha(a)?a():a;Wa?b=/rv\\:([^\\);]+)(\\)|;)/:Va?b=/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/:Xa&&(b=/WebKit\\/(\\S+)/);b&&(a=(a=b.exec(t))?a[1]:\"\");return Va&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Ya=null,Za=null,$a=null;function ab(a,b){if(!fa(a))throw Error(\"encodeByteArray takes an array as a parameter\");bb();for(var c=b?Za:Ya,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,l=e+2<a.length,m=l?a[e+2]:0,u=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;l||(m=64,h||(k=64));d.push(c[u],c[f],c[k],c[m])}return d.join(\"\")}\nfunction bb(){if(!Ya){Ya={};Za={};$a={};for(var a=0;65>a;a++)Ya[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a),Za[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(a),$a[Za[a]]=a,62<=a&&($a[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a)]=a)}};function cb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function db(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])};function x(a,b,c,d){var e;d<b?e=\"at least \"+b:d>c&&(e=0===c?\"none\":\"no more than \"+c);if(e)throw Error(a+\" failed: Was called with \"+d+(1===d?\" argument.\":\" arguments.\")+\" Expects \"+e+\".\");}function y(a,b,c){var d=\"\";switch(b){case 1:d=c?\"first\":\"First\";break;case 2:d=c?\"second\":\"Second\";break;case 3:d=c?\"third\":\"Third\";break;case 4:d=c?\"fourth\":\"Fourth\";break;default:throw Error(\"errorPrefix called with argumentNumber > 4.  Need to update it?\");}return a=a+\" failed: \"+(d+\" argument \")}\nfunction A(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(y(a,b,d)+\"must be a valid function.\");}function eb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(y(a,b,!0)+\"must be a valid context object.\");};function fb(a){var b=[];db(a,function(a,d){ea(d)?Ja(d,function(d){b.push(encodeURIComponent(a)+\"=\"+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+\"=\"+encodeURIComponent(d))});return b.length?\"&\"+b.join(\"&\"):\"\"};var gb=firebase.Promise;function hb(){var a=this;this.reject=this.resolve=null;this.ra=new gb(function(b,c){a.resolve=b;a.reject=c})}function ib(a,b){return function(c,d){c?a.reject(c):a.resolve(d);ha(b)&&(jb(a.ra),1===b.length?b(c):b(c,d))}}function jb(a){a.then(void 0,ba)};function kb(a,b){if(!a)throw lb(b);}function lb(a){return Error(\"Firebase Database (\"+firebase.SDK_VERSION+\") INTERNAL ASSERT FAILED: \"+a)};function mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,kb(d<a.length,\"Surrogate pair missing trail surrogate.\"),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function nb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function ob(a){return\"undefined\"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):Aa(a)}function B(a){if(\"undefined\"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ca(new Ba,a,b);a=b.join(\"\")}return a};function pb(a,b){this.committed=a;this.snapshot=b};function qb(){return\"undefined\"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(\"undefined\"!==typeof navigator&&\"string\"===typeof navigator.userAgent?navigator.userAgent:\"\")};function rb(a){this.re=a;this.Bd=[];this.Qb=0;this.Xd=-1;this.Fb=null}function sb(a,b,c){a.Xd=b;a.Fb=c;a.Xd<a.Qb&&(a.Fb(),a.Fb=null)}function tb(a,b,c){for(a.Bd[b]=c;a.Bd[a.Qb];){var d=a.Bd[a.Qb];delete a.Bd[a.Qb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;ub(function(){f.re(d[e])})}if(a.Qb===a.Xd){a.Fb&&(clearTimeout(a.Fb),a.Fb(),a.Fb=null);break}a.Qb++}};function vb(){this.pc={}}vb.prototype.set=function(a,b){null==b?delete this.pc[a]:this.pc[a]=b};vb.prototype.get=function(a){return cb(this.pc,a)?this.pc[a]:null};vb.prototype.remove=function(a){delete this.pc[a]};vb.prototype.Ze=!0;function wb(a){this.uc=a;this.Cd=\"firebase:\"}g=wb.prototype;g.set=function(a,b){null==b?this.uc.removeItem(this.Cd+a):this.uc.setItem(this.Cd+a,B(b))};g.get=function(a){a=this.uc.getItem(this.Cd+a);return null==a?null:ob(a)};g.remove=function(a){this.uc.removeItem(this.Cd+a)};g.Ze=!1;g.toString=function(){return this.uc.toString()};function xb(a){try{if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window[a]){var b=window[a];b.setItem(\"firebase:sentinel\",\"cache\");b.removeItem(\"firebase:sentinel\");return new wb(b)}}catch(c){}return new vb}var yb=xb(\"localStorage\"),zb=xb(\"sessionStorage\");function Ab(a,b,c){this.type=Bb;this.source=a;this.path=b;this.Ga=c}Ab.prototype.Mc=function(a){return this.path.e()?new Ab(this.source,C,this.Ga.Q(a)):new Ab(this.source,D(this.path),this.Ga)};Ab.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" overwrite: \"+this.Ga.toString()+\")\"};function Cb(a,b){this.type=Db;this.source=a;this.path=b}Cb.prototype.Mc=function(){return this.path.e()?new Cb(this.source,C):new Cb(this.source,D(this.path))};Cb.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" listen_complete)\"};function Eb(a){this.oc=a}Eb.prototype.getToken=function(a){return this.oc.INTERNAL.getToken(a).then(null,function(a){return a&&\"auth/token-not-initialized\"===a.code?(E(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(a)})};function Fb(a,b){a.oc.INTERNAL.addAuthTokenListener(b)};function Gb(){this.Jd=G}Gb.prototype.j=function(a){return this.Jd.P(a)};Gb.prototype.toString=function(){return this.Jd.toString()};function Hb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(\".\")+1);this.Sc=b;this.ne=c;this.qg=d;this.gf=e||\"\";this.$a=yb.get(\"host:\"+a)||this.host}function Ib(a,b){b!==a.$a&&(a.$a=b,\"s-\"===a.$a.substr(0,2)&&yb.set(\"host:\"+a.host,a.$a))}\nfunction Jb(a,b,c){H(\"string\"===typeof b,\"typeof type must == string\");H(\"object\"===typeof c,\"typeof params must == object\");if(\"websocket\"===b)b=(a.Sc?\"wss://\":\"ws://\")+a.$a+\"/.ws?\";else if(\"long_polling\"===b)b=(a.Sc?\"https://\":\"http://\")+a.$a+\"/.lp?\";else throw Error(\"Unknown connection type: \"+b);a.host!==a.$a&&(c.ns=a.ne);var d=[];r(c,function(a,b){d.push(b+\"=\"+a)});return b+d.join(\"&\")}\nHb.prototype.toString=function(){var a=(this.Sc?\"https://\":\"http://\")+this.host;this.gf&&(a+=\"<\"+this.gf+\">\");return a};function Kb(){this.tc={}}function Lb(a,b,c){n(c)||(c=1);cb(a.tc,b)||(a.tc[b]=0);a.tc[b]+=c}Kb.prototype.get=function(){return za(this.tc)};function Mb(a){this.Ef=a;this.rd=null}Mb.prototype.get=function(){var a=this.Ef.get(),b=za(a);if(this.rd)for(var c in this.rd)b[c]-=this.rd[c];this.rd=a;return b};function Nb(){this.vb=[]}function Ob(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Yb();null===c||f.Z(c.Yb())||(a.vb.push(c),c=null);null===c&&(c=new Pb(f));c.add(e)}c&&a.vb.push(c)}function Qb(a,b,c){Ob(a,c);Rb(a,function(a){return a.Z(b)})}function Sb(a,b,c){Ob(a,c);Rb(a,function(a){return a.contains(b)||b.contains(a)})}\nfunction Rb(a,b){for(var c=!0,d=0;d<a.vb.length;d++){var e=a.vb[d];if(e)if(e=e.Yb(),b(e)){for(var e=a.vb[d],f=0;f<e.jd.length;f++){var h=e.jd[f];if(null!==h){e.jd[f]=null;var k=h.Tb();Tb&&E(\"event: \"+h.toString());ub(k)}}a.vb[d]=null}else c=!1}c&&(a.vb=[])}function Pb(a){this.qa=a;this.jd=[]}Pb.prototype.add=function(a){this.jd.push(a)};Pb.prototype.Yb=function(){return this.qa};function Ub(a,b,c,d){this.$d=b;this.Md=c;this.Dd=d;this.hd=a}Ub.prototype.Yb=function(){var a=this.Md.wb();return\"value\"===this.hd?a.path:a.getParent().path};Ub.prototype.ee=function(){return this.hd};Ub.prototype.Tb=function(){return this.$d.Tb(this)};Ub.prototype.toString=function(){return this.Yb().toString()+\":\"+this.hd+\":\"+B(this.Md.Qe())};function Vb(a,b,c){this.$d=a;this.error=b;this.path=c}Vb.prototype.Yb=function(){return this.path};Vb.prototype.ee=function(){return\"cancel\"};\nVb.prototype.Tb=function(){return this.$d.Tb(this)};Vb.prototype.toString=function(){return this.path.toString()+\":cancel\"};function Wb(){}Wb.prototype.Te=function(){return null};Wb.prototype.de=function(){return null};var Xb=new Wb;function Yb(a,b,c){this.xf=a;this.Ka=b;this.yd=c}Yb.prototype.Te=function(a){var b=this.Ka.N;if(Zb(b,a))return b.j().Q(a);b=null!=this.yd?new $b(this.yd,!0,!1):this.Ka.w();return this.xf.qc(a,b)};Yb.prototype.de=function(a,b,c){var d=null!=this.yd?this.yd:ac(this.Ka);a=this.xf.Wd(d,b,1,c,a);return 0===a.length?null:a[0]};function I(a,b,c,d){this.type=a;this.Ja=b;this.Xa=c;this.oe=d;this.Dd=void 0}function bc(a){return new I(cc,a)}var cc=\"value\";function $b(a,b,c){this.A=a;this.da=b;this.Sb=c}function dc(a){return a.da}function ec(a){return a.Sb}function fc(a,b){return b.e()?a.da&&!a.Sb:Zb(a,J(b))}function Zb(a,b){return a.da&&!a.Sb||a.A.Da(b)}$b.prototype.j=function(){return this.A};function gc(a,b){return hc(a.name,b.name)}function ic(a,b){return hc(a,b)};function K(a,b){this.name=a;this.R=b}function jc(a,b){return new K(a,b)};function kc(a,b){return a&&\"object\"===typeof a?(H(\".sv\"in a,\"Unexpected leaf node or priority contents\"),b[a[\".sv\"]]):a}function lc(a,b){var c=new mc;nc(a,new L(\"\"),function(a,e){oc(c,a,pc(e,b))});return c}function pc(a,b){var c=a.C().H(),c=kc(c,b),d;if(a.J()){var e=kc(a.Ca(),b);return e!==a.Ca()||c!==a.C().H()?new qc(e,M(c)):a}d=a;c!==a.C().H()&&(d=d.fa(new qc(c)));a.O(N,function(a,c){var e=pc(c,b);e!==c&&(d=d.T(a,e))});return d};var rc=function(){var a=1;return function(){return a++}}(),H=kb,sc=lb;\nfunction tc(a){try{var b;bb();for(var c=$a,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var l=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==h||null==k||null==l)throw Error();d.push(f<<2|h>>4);64!=k&&(d.push(h<<4&240|k>>2),64!=l&&d.push(k<<6&192|l))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a=\"\";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ra(d,c,c+8192));b=a}return b}catch(m){E(\"base64Decode failed: \",\nm)}return null}function uc(a){var b=mb(a);a=new na;a.update(b);var b=[],c=8*a.Pd;56>a.$b?a.update(a.zd,56-a.$b):a.update(a.zd,a.Wa-(a.$b-56));for(var d=a.Wa-1;56<=d;d--)a.Vd[d]=c&255,c/=256;oa(a,a.Vd);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.M[d]>>e&255,++c;return ab(b)}function vc(a){for(var b=\"\",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+vc.apply(null,arguments[c]):\"object\"===typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=\" \";return b}var Tb=null,wc=!0;\nfunction xc(a,b){kb(!b||!0===a||!1===a,\"Can't turn on custom loggers persistently.\");!0===a?(\"undefined\"!==typeof console&&(\"function\"===typeof console.log?Tb=q(console.log,console):\"object\"===typeof console.log&&(Tb=function(a){console.log(a)})),b&&zb.set(\"logging_enabled\",!0)):ha(a)?Tb=a:(Tb=null,zb.remove(\"logging_enabled\"))}function E(a){!0===wc&&(wc=!1,null===Tb&&!0===zb.get(\"logging_enabled\")&&xc(!0));if(Tb){var b=vc.apply(null,arguments);Tb(b)}}\nfunction yc(a){return function(){E(a,arguments)}}function zc(a){if(\"undefined\"!==typeof console){var b=\"FIREBASE INTERNAL ERROR: \"+vc.apply(null,arguments);\"undefined\"!==typeof console.error?console.error(b):console.log(b)}}function Ac(a){var b=vc.apply(null,arguments);throw Error(\"FIREBASE FATAL ERROR: \"+b);}function O(a){if(\"undefined\"!==typeof console){var b=\"FIREBASE WARNING: \"+vc.apply(null,arguments);\"undefined\"!==typeof console.warn?console.warn(b):console.log(b)}}\nfunction Bc(a){var b,c,d,e,f,h=a;f=c=a=b=\"\";d=!0;e=\"https\";if(p(h)){var k=h.indexOf(\"//\");0<=k&&(e=h.substring(0,k-1),h=h.substring(k+2));k=h.indexOf(\"/\");-1===k&&(k=h.length);b=h.substring(0,k);f=\"\";h=h.substring(k).split(\"/\");for(k=0;k<h.length;k++)if(0<h[k].length){var l=h[k];try{l=decodeURIComponent(l.replace(/\\+/g,\" \"))}catch(m){}f+=\"/\"+l}h=b.split(\".\");3===h.length?(a=h[1],c=h[0].toLowerCase()):2===h.length&&(a=h[0]);k=b.indexOf(\":\");0<=k&&(d=\"https\"===e||\"wss\"===e)}\"firebase\"===a&&Ac(b+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\");\nc&&\"undefined\"!=c||Ac(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\");d||\"undefined\"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&O(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");return{jc:new Hb(b,d,c,\"ws\"===e||\"wss\"===e),path:new L(f)}}function Cc(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}\nfunction Dc(a){if(\"complete\"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",c,!1),window.addEventListener(\"load\",c,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",function(){\"complete\"===document.readyState&&c()}),window.attachEvent(\"onload\",c))}}\nfunction hc(a,b){if(a===b)return 0;if(\"[MIN_NAME]\"===a||\"[MAX_NAME]\"===b)return-1;if(\"[MIN_NAME]\"===b||\"[MAX_NAME]\"===a)return 1;var c=Ec(a),d=Ec(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function Fc(a,b){if(b&&a in b)return b[a];throw Error(\"Missing required key (\"+a+\") in object: \"+B(b));}\nfunction Gc(a){if(\"object\"!==typeof a||null===a)return B(a);var b=[],c;for(c in a)b.push(c);b.sort();c=\"{\";for(var d=0;d<b.length;d++)0!==d&&(c+=\",\"),c+=B(b[d]),c+=\":\",c+=Gc(a[b[d]]);return c+\"}\"}function Hc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Ic(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else r(a,b)}\nfunction Jc(a){H(!Cc(a),\"Invalid JSON number\");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join(\"\");c=\"\";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&\n(d=\"0\"+d),c+=d;return c.toLowerCase()}var Kc=/^-?\\d{1,10}$/;function Ec(a){return Kc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function ub(a){try{a()}catch(b){setTimeout(function(){O(\"Exception was thrown by user callback.\",b.stack||\"\");throw b;},Math.floor(0))}}function Lc(a,b,c){Object.defineProperty(a,b,{get:c})}function Mc(a,b){var c=setTimeout(a,b);\"object\"===typeof c&&c.unref&&c.unref();return c};function Nc(a){var b={},c={},d={},e=\"\";try{var f=a.split(\".\"),b=ob(tc(f[0])||\"\"),c=ob(tc(f[1])||\"\"),e=f[2],d=c.d||{};delete c.d}catch(h){}return{tg:b,Ie:c,data:d,mg:e}}function Oc(a){a=Nc(a);var b=a.Ie;return!!a.mg&&!!b&&\"object\"===typeof b&&b.hasOwnProperty(\"iat\")}function Pc(a){a=Nc(a).Ie;return\"object\"===typeof a&&!0===w(a,\"admin\")};function Qc(a,b,c){this.f=yc(\"p:rest:\");this.L=a;this.Gb=b;this.$c=c;this.$={}}function Rc(a,b){if(n(b))return\"tag$\"+b;H(Sc(a.m),\"should have a tag if it's not a default query.\");return a.path.toString()}g=Qc.prototype;\ng.$e=function(a,b,c,d){var e=a.path.toString();this.f(\"Listen called for \"+e+\" \"+a.ja());var f=Rc(a,c),h={};this.$[f]=h;a=Tc(a.m);var k=this;Uc(this,e+\".json\",a,function(a,b){var u=b;404===a&&(a=u=null);null===a&&k.Gb(e,u,!1,c);w(k.$,f)===h&&d(a?401==a?\"permission_denied\":\"rest_error:\"+a:\"ok\",null)})};g.uf=function(a,b){var c=Rc(a,b);delete this.$[c]};g.kf=function(){};g.pe=function(){};g.cf=function(){};g.xd=function(){};g.put=function(){};g.af=function(){};g.we=function(){};\nfunction Uc(a,b,c,d){c=c||{};c.format=\"export\";a.$c.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(c.auth=e);var f=(a.L.Sc?\"https://\":\"http://\")+a.L.host+b+\"?\"+fb(c);a.f(\"Sending REST request for \"+f);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(d&&4===h.readyState){a.f(\"REST Response for \"+f+\" received. status:\",h.status,\"response:\",h.responseText);var b=null;if(200<=h.status&&300>h.status){try{b=ob(h.responseText)}catch(c){O(\"Failed to parse JSON response for \"+f+\": \"+h.responseText)}d(null,\nb)}else 401!==h.status&&404!==h.status&&O(\"Got unsuccessful REST response for \"+f+\" Status: \"+h.status),d(h.status);d=null}};h.open(\"GET\",f,!0);h.send()})};function Vc(a,b,c){this.type=Wc;this.source=a;this.path=b;this.children=c}Vc.prototype.Mc=function(a){if(this.path.e())return a=this.children.subtree(new L(a)),a.e()?null:a.value?new Ab(this.source,C,a.value):new Vc(this.source,C,a);H(J(this.path)===a,\"Can't get a merge for a child not on the path of the operation\");return new Vc(this.source,D(this.path),this.children)};Vc.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"};function Xc(a,b){this.rf={};this.Vc=new Mb(a);this.va=b;var c=1E4+2E4*Math.random();Mc(q(this.lf,this),Math.floor(c))}Xc.prototype.lf=function(){var a=this.Vc.get(),b={},c=!1,d;for(d in a)0<a[d]&&cb(this.rf,d)&&(b[d]=a[d],c=!0);c&&this.va.we(b);Mc(q(this.lf,this),Math.floor(6E5*Math.random()))};var Yc={},Zc={};function $c(a){a=a.toString();Yc[a]||(Yc[a]=new Kb);return Yc[a]}function ad(a,b){var c=a.toString();Zc[c]||(Zc[c]=b());return Zc[c]};var bd=null;\"undefined\"!==typeof MozWebSocket?bd=MozWebSocket:\"undefined\"!==typeof WebSocket&&(bd=WebSocket);function cd(a,b,c,d){this.Yd=a;this.f=yc(this.Yd);this.frames=this.zc=null;this.pb=this.qb=this.De=0;this.Va=$c(b);a={v:\"5\"};\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(a.r=\"f\");c&&(a.s=c);d&&(a.ls=d);this.Je=Jb(b,\"websocket\",a)}var dd;\ncd.prototype.open=function(a,b){this.ib=b;this.Xf=a;this.f(\"Websocket connecting to \"+this.Je);this.wc=!1;yb.set(\"previous_websocket_failure\",!0);try{this.Ia=new bd(this.Je)}catch(c){this.f(\"Error instantiating WebSocket.\");var d=c.message||c.data;d&&this.f(d);this.bb();return}var e=this;this.Ia.onopen=function(){e.f(\"Websocket connected.\");e.wc=!0};this.Ia.onclose=function(){e.f(\"Websocket connection was disconnected.\");e.Ia=null;e.bb()};this.Ia.onmessage=function(a){if(null!==e.Ia)if(a=a.data,e.pb+=\na.length,Lb(e.Va,\"bytes_received\",a.length),ed(e),null!==e.frames)fd(e,a);else{a:{H(null===e.frames,\"We already have a frame buffer\");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.De=b;e.frames=[];a=null;break a}}e.De=1;e.frames=[]}null!==a&&fd(e,a)}};this.Ia.onerror=function(a){e.f(\"WebSocket error.  Closing connection.\");(a=a.message||a.data)&&e.f(a);e.bb()}};cd.prototype.start=function(){};\ncd.isAvailable=function(){var a=!1;if(\"undefined\"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==bd&&!dd};cd.responsesRequiredToBeHealthy=2;cd.healthyTimeout=3E4;g=cd.prototype;g.sd=function(){yb.remove(\"previous_websocket_failure\")};function fd(a,b){a.frames.push(b);if(a.frames.length==a.De){var c=a.frames.join(\"\");a.frames=null;c=ob(c);a.Xf(c)}}\ng.send=function(a){ed(this);a=B(a);this.qb+=a.length;Lb(this.Va,\"bytes_sent\",a.length);a=Hc(a,16384);1<a.length&&gd(this,String(a.length));for(var b=0;b<a.length;b++)gd(this,a[b])};g.Tc=function(){this.Ab=!0;this.zc&&(clearInterval(this.zc),this.zc=null);this.Ia&&(this.Ia.close(),this.Ia=null)};g.bb=function(){this.Ab||(this.f(\"WebSocket is closing itself\"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))};g.close=function(){this.Ab||(this.f(\"WebSocket is being closed\"),this.Tc())};\nfunction ed(a){clearInterval(a.zc);a.zc=setInterval(function(){a.Ia&&gd(a,\"0\");ed(a)},Math.floor(45E3))}function gd(a,b){try{a.Ia.send(b)}catch(c){a.f(\"Exception thrown from WebSocket.send():\",c.message||c.data,\"Closing connection.\"),setTimeout(q(a.bb,a),0)}};function hd(){this.fb={}}\nfunction jd(a,b){var c=b.type,d=b.Xa;H(\"child_added\"==c||\"child_changed\"==c||\"child_removed\"==c,\"Only child changes supported for tracking\");H(\".priority\"!==d,\"Only non-priority child changes can be tracked.\");var e=w(a.fb,d);if(e){var f=e.type;if(\"child_added\"==c&&\"child_removed\"==f)a.fb[d]=new I(\"child_changed\",b.Ja,d,e.Ja);else if(\"child_removed\"==c&&\"child_added\"==f)delete a.fb[d];else if(\"child_removed\"==c&&\"child_changed\"==f)a.fb[d]=new I(\"child_removed\",e.oe,d);else if(\"child_changed\"==c&&\n\"child_added\"==f)a.fb[d]=new I(\"child_added\",b.Ja,d);else if(\"child_changed\"==c&&\"child_changed\"==f)a.fb[d]=new I(\"child_changed\",b.Ja,d,e.oe);else throw sc(\"Illegal combination of changes: \"+b+\" occurred after \"+e);}else a.fb[d]=b};function kd(a){this.V=a;this.g=a.m.g}function ld(a,b,c,d){var e=[],f=[];Ja(b,function(b){\"child_changed\"===b.type&&a.g.nd(b.oe,b.Ja)&&f.push(new I(\"child_moved\",b.Ja,b.Xa))});md(a,e,\"child_removed\",b,d,c);md(a,e,\"child_added\",b,d,c);md(a,e,\"child_moved\",f,d,c);md(a,e,\"child_changed\",b,d,c);md(a,e,cc,b,d,c);return e}function md(a,b,c,d,e,f){d=Ka(d,function(a){return a.type===c});Sa(d,q(a.Ff,a));Ja(d,function(c){var d=nd(a,c,f);Ja(e,function(e){e.nf(c.type)&&b.push(e.createEvent(d,a.V))})})}\nfunction nd(a,b,c){\"value\"!==b.type&&\"child_removed\"!==b.type&&(b.Dd=c.Ve(b.Xa,b.Ja,a.g));return b}kd.prototype.Ff=function(a,b){if(null==a.Xa||null==b.Xa)throw sc(\"Should only compare child_ events.\");return this.g.compare(new K(a.Xa,a.Ja),new K(b.Xa,b.Ja))};function od(a,b){this.Sd=a;this.Df=b}function pd(a){this.U=a}\npd.prototype.eb=function(a,b,c,d){var e=new hd,f;if(b.type===Bb)b.source.ce?c=qd(this,a,b.path,b.Ga,c,d,e):(H(b.source.Se,\"Unknown source.\"),f=b.source.Ce||ec(a.w())&&!b.path.e(),c=rd(this,a,b.path,b.Ga,c,d,f,e));else if(b.type===Wc)b.source.ce?c=sd(this,a,b.path,b.children,c,d,e):(H(b.source.Se,\"Unknown source.\"),f=b.source.Ce||ec(a.w()),c=td(this,a,b.path,b.children,c,d,f,e));else if(b.type===ud)if(b.Id)if(b=b.path,null!=c.lc(b))c=a;else{f=new Yb(c,a,d);d=a.N.j();if(b.e()||\".priority\"===J(b))dc(a.w())?\nb=c.Aa(ac(a)):(b=a.w().j(),H(b instanceof P,\"serverChildren would be complete if leaf node\"),b=c.rc(b)),b=this.U.ya(d,b,e);else{var h=J(b),k=c.qc(h,a.w());null==k&&Zb(a.w(),h)&&(k=d.Q(h));b=null!=k?this.U.F(d,h,k,D(b),f,e):a.N.j().Da(h)?this.U.F(d,h,G,D(b),f,e):d;b.e()&&dc(a.w())&&(d=c.Aa(ac(a)),d.J()&&(b=this.U.ya(b,d,e)))}d=dc(a.w())||null!=c.lc(C);c=vd(a,b,d,this.U.Na())}else c=wd(this,a,b.path,b.Ob,c,d,e);else if(b.type===Db)d=b.path,b=a.w(),f=b.j(),h=b.da||d.e(),c=xd(this,new yd(a.N,new $b(f,\nh,b.Sb)),d,c,Xb,e);else throw sc(\"Unknown operation type: \"+b.type);e=ta(e.fb);d=c;b=d.N;b.da&&(f=b.j().J()||b.j().e(),h=zd(a),(0<e.length||!a.N.da||f&&!b.j().Z(h)||!b.j().C().Z(h.C()))&&e.push(bc(zd(d))));return new od(c,e)};\nfunction xd(a,b,c,d,e,f){var h=b.N;if(null!=d.lc(c))return b;var k;if(c.e())H(dc(b.w()),\"If change path is empty, we must have complete server data\"),ec(b.w())?(e=ac(b),d=d.rc(e instanceof P?e:G)):d=d.Aa(ac(b)),f=a.U.ya(b.N.j(),d,f);else{var l=J(c);if(\".priority\"==l)H(1==Ad(c),\"Can't have a priority with additional path components\"),f=h.j(),k=b.w().j(),d=d.ad(c,f,k),f=null!=d?a.U.fa(f,d):h.j();else{var m=D(c);Zb(h,l)?(k=b.w().j(),d=d.ad(c,h.j(),k),d=null!=d?h.j().Q(l).F(m,d):h.j().Q(l)):d=d.qc(l,\nb.w());f=null!=d?a.U.F(h.j(),l,d,m,e,f):h.j()}}return vd(b,f,h.da||c.e(),a.U.Na())}function rd(a,b,c,d,e,f,h,k){var l=b.w();h=h?a.U:a.U.Ub();if(c.e())d=h.ya(l.j(),d,null);else if(h.Na()&&!l.Sb)d=l.j().F(c,d),d=h.ya(l.j(),d,null);else{var m=J(c);if(!fc(l,c)&&1<Ad(c))return b;var u=D(c);d=l.j().Q(m).F(u,d);d=\".priority\"==m?h.fa(l.j(),d):h.F(l.j(),m,d,u,Xb,null)}l=l.da||c.e();b=new yd(b.N,new $b(d,l,h.Na()));return xd(a,b,c,e,new Yb(e,b,f),k)}\nfunction qd(a,b,c,d,e,f,h){var k=b.N;e=new Yb(e,b,f);if(c.e())h=a.U.ya(b.N.j(),d,h),a=vd(b,h,!0,a.U.Na());else if(f=J(c),\".priority\"===f)h=a.U.fa(b.N.j(),d),a=vd(b,h,k.da,k.Sb);else{c=D(c);var l=k.j().Q(f);if(!c.e()){var m=e.Te(f);d=null!=m?\".priority\"===Bd(c)&&m.P(c.parent()).e()?m:m.F(c,d):G}l.Z(d)?a=b:(h=a.U.F(k.j(),f,d,c,e,h),a=vd(b,h,k.da,a.U.Na()))}return a}\nfunction sd(a,b,c,d,e,f,h){var k=b;Cd(d,function(d,m){var u=c.n(d);Zb(b.N,J(u))&&(k=qd(a,k,u,m,e,f,h))});Cd(d,function(d,m){var u=c.n(d);Zb(b.N,J(u))||(k=qd(a,k,u,m,e,f,h))});return k}function Dd(a,b){Cd(b,function(b,d){a=a.F(b,d)});return a}\nfunction td(a,b,c,d,e,f,h,k){if(b.w().j().e()&&!dc(b.w()))return b;var l=b;c=c.e()?d:Ed(Q,c,d);var m=b.w().j();c.children.ha(function(c,d){if(m.Da(c)){var F=b.w().j().Q(c),F=Dd(F,d);l=rd(a,l,new L(c),F,e,f,h,k)}});c.children.ha(function(c,d){var F=!Zb(b.w(),c)&&null==d.value;m.Da(c)||F||(F=b.w().j().Q(c),F=Dd(F,d),l=rd(a,l,new L(c),F,e,f,h,k))});return l}\nfunction wd(a,b,c,d,e,f,h){if(null!=e.lc(c))return b;var k=ec(b.w()),l=b.w();if(null!=d.value){if(c.e()&&l.da||fc(l,c))return rd(a,b,c,l.j().P(c),e,f,k,h);if(c.e()){var m=Q;l.j().O(Fd,function(a,b){m=m.set(new L(a),b)});return td(a,b,c,m,e,f,k,h)}return b}m=Q;Cd(d,function(a){var b=c.n(a);fc(l,b)&&(m=m.set(a,l.j().P(b)))});return td(a,b,c,m,e,f,k,h)};function Gd(a){this.g=a}g=Gd.prototype;g.F=function(a,b,c,d,e,f){H(a.yc(this.g),\"A node must be indexed if only a child is updated\");e=a.Q(b);if(e.P(d).Z(c.P(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Da(b)?jd(f,new I(\"child_removed\",e,b)):H(a.J(),\"A child remove without an old child only makes sense on a leaf node\"):e.e()?jd(f,new I(\"child_added\",c,b)):jd(f,new I(\"child_changed\",c,b,e)));return a.J()&&c.e()?a:a.T(b,c).nb(this.g)};\ng.ya=function(a,b,c){null!=c&&(a.J()||a.O(N,function(a,e){b.Da(a)||jd(c,new I(\"child_removed\",e,a))}),b.J()||b.O(N,function(b,e){if(a.Da(b)){var f=a.Q(b);f.Z(e)||jd(c,new I(\"child_changed\",e,b,f))}else jd(c,new I(\"child_added\",e,b))}));return b.nb(this.g)};g.fa=function(a,b){return a.e()?G:a.fa(b)};g.Na=function(){return!1};g.Ub=function(){return this};function Hd(a){this.fe=new Gd(a.g);this.g=a.g;var b;a.ka?(b=Id(a),b=a.g.Ec(Jd(a),b)):b=a.g.Hc();this.Uc=b;a.na?(b=Kd(a),a=a.g.Ec(Ld(a),b)):a=a.g.Fc();this.vc=a}g=Hd.prototype;g.matches=function(a){return 0>=this.g.compare(this.Uc,a)&&0>=this.g.compare(a,this.vc)};g.F=function(a,b,c,d,e,f){this.matches(new K(b,c))||(c=G);return this.fe.F(a,b,c,d,e,f)};\ng.ya=function(a,b,c){b.J()&&(b=G);var d=b.nb(this.g),d=d.fa(G),e=this;b.O(N,function(a,b){e.matches(new K(a,b))||(d=d.T(a,G))});return this.fe.ya(a,d,c)};g.fa=function(a){return a};g.Na=function(){return!0};g.Ub=function(){return this.fe};function Md(a){this.sa=new Hd(a);this.g=a.g;H(a.xa,\"Only valid if limit has been set\");this.oa=a.oa;this.Ib=!Nd(a)}g=Md.prototype;g.F=function(a,b,c,d,e,f){this.sa.matches(new K(b,c))||(c=G);return a.Q(b).Z(c)?a:a.Eb()<this.oa?this.sa.Ub().F(a,b,c,d,e,f):Od(this,a,b,c,e,f)};\ng.ya=function(a,b,c){var d;if(b.J()||b.e())d=G.nb(this.g);else if(2*this.oa<b.Eb()&&b.yc(this.g)){d=G.nb(this.g);b=this.Ib?b.Zb(this.sa.vc,this.g):b.Xb(this.sa.Uc,this.g);for(var e=0;0<b.Pa.length&&e<this.oa;){var f=R(b),h;if(h=this.Ib?0>=this.g.compare(this.sa.Uc,f):0>=this.g.compare(f,this.sa.vc))d=d.T(f.name,f.R),e++;else break}}else{d=b.nb(this.g);d=d.fa(G);var k,l,m;if(this.Ib){b=d.We(this.g);k=this.sa.vc;l=this.sa.Uc;var u=Pd(this.g);m=function(a,b){return u(b,a)}}else b=d.Wb(this.g),k=this.sa.Uc,\nl=this.sa.vc,m=Pd(this.g);for(var e=0,z=!1;0<b.Pa.length;)f=R(b),!z&&0>=m(k,f)&&(z=!0),(h=z&&e<this.oa&&0>=m(f,l))?e++:d=d.T(f.name,G)}return this.sa.Ub().ya(a,d,c)};g.fa=function(a){return a};g.Na=function(){return!0};g.Ub=function(){return this.sa.Ub()};\nfunction Od(a,b,c,d,e,f){var h;if(a.Ib){var k=Pd(a.g);h=function(a,b){return k(b,a)}}else h=Pd(a.g);H(b.Eb()==a.oa,\"\");var l=new K(c,d),m=a.Ib?Qd(b,a.g):Rd(b,a.g),u=a.sa.matches(l);if(b.Da(c)){for(var z=b.Q(c),m=e.de(a.g,m,a.Ib);null!=m&&(m.name==c||b.Da(m.name));)m=e.de(a.g,m,a.Ib);e=null==m?1:h(m,l);if(u&&!d.e()&&0<=e)return null!=f&&jd(f,new I(\"child_changed\",d,c,z)),b.T(c,d);null!=f&&jd(f,new I(\"child_removed\",z,c));b=b.T(c,G);return null!=m&&a.sa.matches(m)?(null!=f&&jd(f,new I(\"child_added\",\nm.R,m.name)),b.T(m.name,m.R)):b}return d.e()?b:u&&0<=h(m,l)?(null!=f&&(jd(f,new I(\"child_removed\",m.R,m.name)),jd(f,new I(\"child_added\",d,c))),b.T(c,d).T(m.name,G)):b};function qc(a,b){this.B=a;H(n(this.B)&&null!==this.B,\"LeafNode shouldn't be created with null/undefined value.\");this.aa=b||G;Sd(this.aa);this.Db=null}var Td=[\"object\",\"boolean\",\"number\",\"string\"];g=qc.prototype;g.J=function(){return!0};g.C=function(){return this.aa};g.fa=function(a){return new qc(this.B,a)};g.Q=function(a){return\".priority\"===a?this.aa:G};g.P=function(a){return a.e()?this:\".priority\"===J(a)?this.aa:G};g.Da=function(){return!1};g.Ve=function(){return null};\ng.T=function(a,b){return\".priority\"===a?this.fa(b):b.e()&&\".priority\"!==a?this:G.T(a,b).fa(this.aa)};g.F=function(a,b){var c=J(a);if(null===c)return b;if(b.e()&&\".priority\"!==c)return this;H(\".priority\"!==c||1===Ad(a),\".priority must be the last token in a path\");return this.T(c,G.F(D(a),b))};g.e=function(){return!1};g.Eb=function(){return 0};g.O=function(){return!1};g.H=function(a){return a&&!this.C().e()?{\".value\":this.Ca(),\".priority\":this.C().H()}:this.Ca()};\ng.hash=function(){if(null===this.Db){var a=\"\";this.aa.e()||(a+=\"priority:\"+Ud(this.aa.H())+\":\");var b=typeof this.B,a=a+(b+\":\"),a=\"number\"===b?a+Jc(this.B):a+this.B;this.Db=uc(a)}return this.Db};g.Ca=function(){return this.B};g.sc=function(a){if(a===G)return 1;if(a instanceof P)return-1;H(a.J(),\"Unknown node type\");var b=typeof a.B,c=typeof this.B,d=Ia(Td,b),e=Ia(Td,c);H(0<=d,\"Unknown leaf type: \"+b);H(0<=e,\"Unknown leaf type: \"+c);return d===e?\"object\"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};\ng.nb=function(){return this};g.yc=function(){return!0};g.Z=function(a){return a===this?!0:a.J()?this.B===a.B&&this.aa.Z(a.aa):!1};g.toString=function(){return B(this.H(!0))};function Vd(){}var Wd={};function Pd(a){return q(a.compare,a)}Vd.prototype.nd=function(a,b){return 0!==this.compare(new K(\"[MIN_NAME]\",a),new K(\"[MIN_NAME]\",b))};Vd.prototype.Hc=function(){return Xd};function Yd(a){H(!a.e()&&\".priority\"!==J(a),\"Can't create PathIndex with empty path or .priority key\");this.bc=a}la(Yd,Vd);g=Yd.prototype;g.xc=function(a){return!a.P(this.bc).e()};g.compare=function(a,b){var c=a.R.P(this.bc),d=b.R.P(this.bc),c=c.sc(d);return 0===c?hc(a.name,b.name):c};\ng.Ec=function(a,b){var c=M(a),c=G.F(this.bc,c);return new K(b,c)};g.Fc=function(){var a=G.F(this.bc,Zd);return new K(\"[MAX_NAME]\",a)};g.toString=function(){return this.bc.slice().join(\"/\")};function $d(){}la($d,Vd);g=$d.prototype;g.compare=function(a,b){var c=a.R.C(),d=b.R.C(),c=c.sc(d);return 0===c?hc(a.name,b.name):c};g.xc=function(a){return!a.C().e()};g.nd=function(a,b){return!a.C().Z(b.C())};g.Hc=function(){return Xd};g.Fc=function(){return new K(\"[MAX_NAME]\",new qc(\"[PRIORITY-POST]\",Zd))};\ng.Ec=function(a,b){var c=M(a);return new K(b,new qc(\"[PRIORITY-POST]\",c))};g.toString=function(){return\".priority\"};var N=new $d;function ae(){}la(ae,Vd);g=ae.prototype;g.compare=function(a,b){return hc(a.name,b.name)};g.xc=function(){throw sc(\"KeyIndex.isDefinedOn not expected to be called.\");};g.nd=function(){return!1};g.Hc=function(){return Xd};g.Fc=function(){return new K(\"[MAX_NAME]\",G)};g.Ec=function(a){H(p(a),\"KeyIndex indexValue must always be a string.\");return new K(a,G)};g.toString=function(){return\".key\"};\nvar Fd=new ae;function be(){}la(be,Vd);g=be.prototype;g.compare=function(a,b){var c=a.R.sc(b.R);return 0===c?hc(a.name,b.name):c};g.xc=function(){return!0};g.nd=function(a,b){return!a.Z(b)};g.Hc=function(){return Xd};g.Fc=function(){return ce};g.Ec=function(a,b){var c=M(a);return new K(b,c)};g.toString=function(){return\".value\"};var de=new be;function ee(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1;this.oa=0;this.mb=\"\";this.dc=null;this.zb=\"\";this.ac=null;this.xb=\"\";this.g=N}var fe=new ee;function Nd(a){return\"\"===a.mb?a.ka:\"l\"===a.mb}function Jd(a){H(a.ka,\"Only valid if start has been set\");return a.dc}function Id(a){H(a.ka,\"Only valid if start has been set\");return a.Kb?a.zb:\"[MIN_NAME]\"}function Ld(a){H(a.na,\"Only valid if end has been set\");return a.ac}\nfunction Kd(a){H(a.na,\"Only valid if end has been set\");return a.Rb?a.xb:\"[MAX_NAME]\"}function ge(a){var b=new ee;b.xa=a.xa;b.oa=a.oa;b.ka=a.ka;b.dc=a.dc;b.Kb=a.Kb;b.zb=a.zb;b.na=a.na;b.ac=a.ac;b.Rb=a.Rb;b.xb=a.xb;b.g=a.g;b.mb=a.mb;return b}g=ee.prototype;g.le=function(a){var b=ge(this);b.xa=!0;b.oa=a;b.mb=\"l\";return b};g.me=function(a){var b=ge(this);b.xa=!0;b.oa=a;b.mb=\"r\";return b};g.Nd=function(a,b){var c=ge(this);c.ka=!0;n(a)||(a=null);c.dc=a;null!=b?(c.Kb=!0,c.zb=b):(c.Kb=!1,c.zb=\"\");return c};\ng.gd=function(a,b){var c=ge(this);c.na=!0;n(a)||(a=null);c.ac=a;n(b)?(c.Rb=!0,c.xb=b):(c.vg=!1,c.xb=\"\");return c};function he(a,b){var c=ge(a);c.g=b;return c}function ie(a){var b={};a.ka&&(b.sp=a.dc,a.Kb&&(b.sn=a.zb));a.na&&(b.ep=a.ac,a.Rb&&(b.en=a.xb));if(a.xa){b.l=a.oa;var c=a.mb;\"\"===c&&(c=Nd(a)?\"l\":\"r\");b.vf=c}a.g!==N&&(b.i=a.g.toString());return b}function S(a){return!(a.ka||a.na||a.xa)}function Sc(a){return S(a)&&a.g==N}\nfunction Tc(a){var b={};if(Sc(a))return b;var c;a.g===N?c=\"$priority\":a.g===de?c=\"$value\":a.g===Fd?c=\"$key\":(H(a.g instanceof Yd,\"Unrecognized index type!\"),c=a.g.toString());b.orderBy=B(c);a.ka&&(b.startAt=B(a.dc),a.Kb&&(b.startAt+=\",\"+B(a.zb)));a.na&&(b.endAt=B(a.ac),a.Rb&&(b.endAt+=\",\"+B(a.xb)));a.xa&&(Nd(a)?b.limitToFirst=a.oa:b.limitToLast=a.oa);return b}g.toString=function(){return B(ie(this))};function je(a,b){this.od=a;this.cc=b}je.prototype.get=function(a){var b=w(this.od,a);if(!b)throw Error(\"No index defined for \"+a);return b===Wd?null:b};function ke(a,b,c){var d=pa(a.od,function(d,f){var h=w(a.cc,f);H(h,\"Missing index implementation for \"+f);if(d===Wd){if(h.xc(b.R)){for(var k=[],l=c.Wb(jc),m=R(l);m;)m.name!=b.name&&k.push(m),m=R(l);k.push(b);return le(k,Pd(h))}return Wd}h=c.get(b.name);k=d;h&&(k=k.remove(new K(b.name,h)));return k.Oa(b,b.R)});return new je(d,a.cc)}\nfunction me(a,b,c){var d=pa(a.od,function(a){if(a===Wd)return a;var d=c.get(b.name);return d?a.remove(new K(b.name,d)):a});return new je(d,a.cc)}var ne=new je({\".priority\":Wd},{\".priority\":N});function oe(){this.set={}}g=oe.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return cb(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return ya(this.set)};g.count=function(){return ra(this.set)};function pe(a,b){r(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];r(this.set,function(b,c){a.push(c)});return a};function qe(a,b,c,d){this.Yd=a;this.f=yc(a);this.jc=b;this.pb=this.qb=0;this.Va=$c(b);this.tf=c;this.wc=!1;this.Cb=d;this.Yc=function(a){return Jb(b,\"long_polling\",a)}}var re,se;\nqe.prototype.open=function(a,b){this.Me=0;this.ia=b;this.bf=new rb(a);this.Ab=!1;var c=this;this.sb=setTimeout(function(){c.f(\"Timed out trying to connect.\");c.bb();c.sb=null},Math.floor(3E4));Dc(function(){if(!c.Ab){c.Ta=new te(function(a,b,d,k,l){ue(c,arguments);if(c.Ta)if(c.sb&&(clearTimeout(c.sb),c.sb=null),c.wc=!0,\"start\"==a)c.id=b,c.ff=d;else if(\"close\"===a)b?(c.Ta.Kd=!1,sb(c.bf,b,function(){c.bb()})):c.bb();else throw Error(\"Unrecognized command received: \"+a);},function(a,b){ue(c,arguments);\ntb(c.bf,a,b)},function(){c.bb()},c.Yc);var a={start:\"t\"};a.ser=Math.floor(1E8*Math.random());c.Ta.Qd&&(a.cb=c.Ta.Qd);a.v=\"5\";c.tf&&(a.s=c.tf);c.Cb&&(a.ls=c.Cb);\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(a.r=\"f\");a=c.Yc(a);c.f(\"Connecting via long-poll to \"+a);ve(c.Ta,a,function(){})}})};\nqe.prototype.start=function(){var a=this.Ta,b=this.ff;a.Vf=this.id;a.Wf=b;for(a.Ud=!0;we(a););a=this.id;b=this.ff;this.fc=document.createElement(\"iframe\");var c={dframe:\"t\"};c.id=a;c.pw=b;this.fc.src=this.Yc(c);this.fc.style.display=\"none\";document.body.appendChild(this.fc)};\nqe.isAvailable=function(){return re||!se&&\"undefined\"!==typeof document&&null!=document.createElement&&!(\"object\"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!(\"object\"===typeof Windows&&\"object\"===typeof Windows.rg)&&!0};g=qe.prototype;g.sd=function(){};g.Tc=function(){this.Ab=!0;this.Ta&&(this.Ta.close(),this.Ta=null);this.fc&&(document.body.removeChild(this.fc),this.fc=null);this.sb&&(clearTimeout(this.sb),this.sb=null)};\ng.bb=function(){this.Ab||(this.f(\"Longpoll is closing itself\"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))};g.close=function(){this.Ab||(this.f(\"Longpoll is being closed.\"),this.Tc())};g.send=function(a){a=B(a);this.qb+=a.length;Lb(this.Va,\"bytes_sent\",a.length);a=mb(a);a=ab(a,!0);a=Hc(a,1840);for(var b=0;b<a.length;b++){var c=this.Ta;c.Qc.push({jg:this.Me,pg:a.length,Oe:a[b]});c.Ud&&we(c);this.Me++}};function ue(a,b){var c=B(b).length;a.pb+=c;Lb(a.Va,\"bytes_received\",c)}\nfunction te(a,b,c,d){this.Yc=d;this.ib=c;this.te=new oe;this.Qc=[];this.Zd=Math.floor(1E8*Math.random());this.Kd=!0;this.Qd=rc();window[\"pLPCommand\"+this.Qd]=a;window[\"pRTLPCB\"+this.Qd]=b;a=document.createElement(\"iframe\");a.style.display=\"none\";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||E(\"No IE domain setting required\")}catch(e){a.src=\"javascript:void((function(){document.open();document.domain='\"+document.domain+\"';document.close();})())\"}}else throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";\na.contentDocument?a.gb=a.contentDocument:a.contentWindow?a.gb=a.contentWindow.document:a.document&&(a.gb=a.document);this.Ea=a;a=\"\";this.Ea.src&&\"javascript:\"===this.Ea.src.substr(0,11)&&(a='<script>document.domain=\"'+document.domain+'\";\\x3c/script>');a=\"<html><body>\"+a+\"</body></html>\";try{this.Ea.gb.open(),this.Ea.gb.write(a),this.Ea.gb.close()}catch(f){E(\"frame writing exception\"),f.stack&&E(f.stack),E(f)}}\nte.prototype.close=function(){this.Ud=!1;if(this.Ea){this.Ea.gb.body.innerHTML=\"\";var a=this;setTimeout(function(){null!==a.Ea&&(document.body.removeChild(a.Ea),a.Ea=null)},Math.floor(0))}var b=this.ib;b&&(this.ib=null,b())};\nfunction we(a){if(a.Ud&&a.Kd&&a.te.count()<(0<a.Qc.length?2:1)){a.Zd++;var b={};b.id=a.Vf;b.pw=a.Wf;b.ser=a.Zd;for(var b=a.Yc(b),c=\"\",d=0;0<a.Qc.length;)if(1870>=a.Qc[0].Oe.length+30+c.length){var e=a.Qc.shift(),c=c+\"&seg\"+d+\"=\"+e.jg+\"&ts\"+d+\"=\"+e.pg+\"&d\"+d+\"=\"+e.Oe;d++}else break;xe(a,b+c,a.Zd);return!0}return!1}function xe(a,b,c){function d(){a.te.remove(c);we(a)}a.te.add(c,1);var e=setTimeout(d,Math.floor(25E3));ve(a,b,function(){clearTimeout(e);d()})}\nfunction ve(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ea.gb.createElement(\"script\");d.type=\"text/javascript\";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&\"loaded\"!==a&&\"complete\"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){E(\"Long-poll script failed to load: \"+b);a.Kd=!1;a.close()};a.Ea.gb.body.appendChild(d)}}catch(e){}},Math.floor(1))};function ye(a){ze(this,a)}var Ae=[qe,cd];function ze(a,b){var c=cd&&cd.isAvailable(),d=c&&!(yb.Ze||!0===yb.get(\"previous_websocket_failure\"));b.qg&&(c||O(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),d=!0);if(d)a.Wc=[cd];else{var e=a.Wc=[];Ic(Ae,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function Be(a){if(0<a.Wc.length)return a.Wc[0];throw Error(\"No transports available\");};function Ce(a,b,c,d,e,f,h){this.id=a;this.f=yc(\"c:\"+this.id+\":\");this.re=c;this.Lc=d;this.ia=e;this.qe=f;this.L=b;this.Ad=[];this.Ke=0;this.sf=new ye(b);this.Ua=0;this.Cb=h;this.f(\"Connection created\");De(this)}\nfunction De(a){var b=Be(a.sf);a.I=new b(\"c:\"+a.id+\":\"+a.Ke++,a.L,void 0,a.Cb);a.ve=b.responsesRequiredToBeHealthy||0;var c=Ee(a,a.I),d=Fe(a,a.I);a.Xc=a.I;a.Rc=a.I;a.D=null;a.Bb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.md=Mc(function(){a.md=null;a.Bb||(a.I&&102400<a.I.pb?(a.f(\"Connection exceeded healthy timeout but has received \"+a.I.pb+\" bytes.  Marking connection healthy.\"),a.Bb=!0,a.I.sd()):a.I&&10240<a.I.qb?a.f(\"Connection exceeded healthy timeout but has sent \"+\na.I.qb+\" bytes.  Leaving connection alive.\"):(a.f(\"Closing unhealthy connection after timeout.\"),a.close()))},Math.floor(b)))}function Fe(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.Ua?1===a.Ua&&a.f(\"Realtime connection lost.\"):(a.f(\"Realtime connection failed.\"),\"s-\"===a.L.$a.substr(0,2)&&(yb.remove(\"host:\"+a.L.host),a.L.$a=a.L.host)),a.close()):b===a.D?(a.f(\"Secondary connection lost.\"),c=a.D,a.D=null,a.Xc!==c&&a.Rc!==c||a.close()):a.f(\"closing an old connection\")}}\nfunction Ee(a,b){return function(c){if(2!=a.Ua)if(b===a.Rc){var d=Fc(\"t\",c);c=Fc(\"d\",c);if(\"c\"==d){if(d=Fc(\"t\",c),\"d\"in c)if(c=c.d,\"h\"===d){var d=c.ts,e=c.v,f=c.h;a.qf=c.s;Ib(a.L,f);0==a.Ua&&(a.I.start(),Ge(a,a.I,d),\"5\"!==e&&O(\"Protocol version mismatch detected\"),c=a.sf,(c=1<c.Wc.length?c.Wc[1]:null)&&He(a,c))}else if(\"n\"===d){a.f(\"recvd end transmission on primary\");a.Rc=a.D;for(c=0;c<a.Ad.length;++c)a.wd(a.Ad[c]);a.Ad=[];Ie(a)}else\"s\"===d?(a.f(\"Connection shutdown command received. Shutting down...\"),\na.qe&&(a.qe(c),a.qe=null),a.ia=null,a.close()):\"r\"===d?(a.f(\"Reset packet received.  New host: \"+c),Ib(a.L,c),1===a.Ua?a.close():(Je(a),De(a))):\"e\"===d?zc(\"Server Error: \"+c):\"o\"===d?(a.f(\"got pong on primary.\"),Ke(a),Le(a)):zc(\"Unknown control packet command: \"+d)}else\"d\"==d&&a.wd(c)}else if(b===a.D)if(d=Fc(\"t\",c),c=Fc(\"d\",c),\"c\"==d)\"t\"in c&&(c=c.t,\"a\"===c?Me(a):\"r\"===c?(a.f(\"Got a reset on secondary, closing it\"),a.D.close(),a.Xc!==a.D&&a.Rc!==a.D||a.close()):\"o\"===c&&(a.f(\"got pong on secondary.\"),\na.pf--,Me(a)));else if(\"d\"==d)a.Ad.push(c);else throw Error(\"Unknown protocol layer: \"+d);else a.f(\"message on old connection\")}}Ce.prototype.ua=function(a){Ne(this,{t:\"d\",d:a})};function Ie(a){a.Xc===a.D&&a.Rc===a.D&&(a.f(\"cleaning up and promoting a connection: \"+a.D.Yd),a.I=a.D,a.D=null)}\nfunction Me(a){0>=a.pf?(a.f(\"Secondary connection is healthy.\"),a.Bb=!0,a.D.sd(),a.D.start(),a.f(\"sending client ack on secondary\"),a.D.send({t:\"c\",d:{t:\"a\",d:{}}}),a.f(\"Ending transmission on primary\"),a.I.send({t:\"c\",d:{t:\"n\",d:{}}}),a.Xc=a.D,Ie(a)):(a.f(\"sending ping on secondary.\"),a.D.send({t:\"c\",d:{t:\"p\",d:{}}}))}Ce.prototype.wd=function(a){Ke(this);this.re(a)};function Ke(a){a.Bb||(a.ve--,0>=a.ve&&(a.f(\"Primary connection is healthy.\"),a.Bb=!0,a.I.sd()))}\nfunction He(a,b){a.D=new b(\"c:\"+a.id+\":\"+a.Ke++,a.L,a.qf);a.pf=b.responsesRequiredToBeHealthy||0;a.D.open(Ee(a,a.D),Fe(a,a.D));Mc(function(){a.D&&(a.f(\"Timed out trying to upgrade.\"),a.D.close())},Math.floor(6E4))}function Ge(a,b,c){a.f(\"Realtime connection established.\");a.I=b;a.Ua=1;a.Lc&&(a.Lc(c,a.qf),a.Lc=null);0===a.ve?(a.f(\"Primary connection is healthy.\"),a.Bb=!0):Mc(function(){Le(a)},Math.floor(5E3))}\nfunction Le(a){a.Bb||1!==a.Ua||(a.f(\"sending ping on primary.\"),Ne(a,{t:\"c\",d:{t:\"p\",d:{}}}))}function Ne(a,b){if(1!==a.Ua)throw\"Connection is not connected\";a.Xc.send(b)}Ce.prototype.close=function(){2!==this.Ua&&(this.f(\"Closing realtime connection.\"),this.Ua=2,Je(this),this.ia&&(this.ia(),this.ia=null))};function Je(a){a.f(\"Shutting down all connections\");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.md&&(clearTimeout(a.md),a.md=null)};function L(a,b){if(1==arguments.length){this.o=a.split(\"/\");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c;this.Y=0}else this.o=a,this.Y=b}function T(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return T(D(a),D(b));throw Error(\"INTERNAL ERROR: innerPath (\"+b+\") is not within outerPath (\"+a+\")\");}\nfunction Oe(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=hc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function J(a){return a.Y>=a.o.length?null:a.o[a.Y]}function Ad(a){return a.o.length-a.Y}function D(a){var b=a.Y;b<a.o.length&&b++;return new L(a.o,b)}function Bd(a){return a.Y<a.o.length?a.o[a.o.length-1]:null}g=L.prototype;\ng.toString=function(){for(var a=\"\",b=this.Y;b<this.o.length;b++)\"\"!==this.o[b]&&(a+=\"/\"+this.o[b]);return a||\"/\"};g.slice=function(a){return this.o.slice(this.Y+(a||0))};g.parent=function(){if(this.Y>=this.o.length)return null;for(var a=[],b=this.Y;b<this.o.length-1;b++)a.push(this.o[b]);return new L(a,0)};\ng.n=function(a){for(var b=[],c=this.Y;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof L)for(c=a.Y;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split(\"/\"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)};g.e=function(){return this.Y>=this.o.length};g.Z=function(a){if(Ad(this)!==Ad(a))return!1;for(var b=this.Y,c=a.Y;b<=this.o.length;b++,c++)if(this.o[b]!==a.o[c])return!1;return!0};\ng.contains=function(a){var b=this.Y,c=a.Y;if(Ad(this)>Ad(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};var C=new L(\"\");function Pe(a,b){this.Qa=a.slice();this.Ha=Math.max(1,this.Qa.length);this.Pe=b;for(var c=0;c<this.Qa.length;c++)this.Ha+=nb(this.Qa[c]);Qe(this)}Pe.prototype.push=function(a){0<this.Qa.length&&(this.Ha+=1);this.Qa.push(a);this.Ha+=nb(a);Qe(this)};Pe.prototype.pop=function(){var a=this.Qa.pop();this.Ha-=nb(a);0<this.Qa.length&&--this.Ha};\nfunction Qe(a){if(768<a.Ha)throw Error(a.Pe+\"has a key path longer than 768 bytes (\"+a.Ha+\").\");if(32<a.Qa.length)throw Error(a.Pe+\"path specified exceeds the maximum depth that can be written (32) or object contains a cycle \"+Re(a));}function Re(a){return 0==a.Qa.length?\"\":\"in property '\"+a.Qa.join(\".\")+\"'\"};function Se(a){a instanceof Te||Ac(\"Don't call new Database() directly - please use firebase.database().\");this.ta=a;this.ba=new U(a,C);this.INTERNAL=new Ue(this)}var Ve={TIMESTAMP:{\".sv\":\"timestamp\"}};g=Se.prototype;g.app=null;g.jf=function(a){We(this,\"ref\");x(\"database.ref\",0,1,arguments.length);return n(a)?this.ba.n(a):this.ba};\ng.gg=function(a){We(this,\"database.refFromURL\");x(\"database.refFromURL\",1,1,arguments.length);var b=Bc(a);Xe(\"database.refFromURL\",b);var c=b.jc;c.host!==this.ta.L.host&&Ac(\"database.refFromURL: Host name does not match the current database: (found \"+c.host+\" but expected \"+this.ta.L.host+\")\");return this.jf(b.path.toString())};function We(a,b){null===a.ta&&Ac(\"Cannot call \"+b+\" on a deleted database.\")}g.Pf=function(){x(\"database.goOffline\",0,0,arguments.length);We(this,\"goOffline\");this.ta.ab()};\ng.Qf=function(){x(\"database.goOnline\",0,0,arguments.length);We(this,\"goOnline\");this.ta.kc()};Object.defineProperty(Se.prototype,\"app\",{get:function(){return this.ta.app}});function Ue(a){this.Ya=a}Ue.prototype.delete=function(){We(this.Ya,\"delete\");var a=Ye.Vb(),b=this.Ya.ta;w(a.lb,b.app.name)!==b&&Ac(\"Database \"+b.app.name+\" has already been deleted.\");b.ab();delete a.lb[b.app.name];this.Ya.ta=null;this.Ya.ba=null;this.Ya=this.Ya.INTERNAL=null;return firebase.Promise.resolve()};\nSe.prototype.ref=Se.prototype.jf;Se.prototype.refFromURL=Se.prototype.gg;Se.prototype.goOnline=Se.prototype.Qf;Se.prototype.goOffline=Se.prototype.Pf;Ue.prototype[\"delete\"]=Ue.prototype.delete;function mc(){this.k=this.B=null}mc.prototype.find=function(a){if(null!=this.B)return this.B.P(a);if(a.e()||null==this.k)return null;var b=J(a);a=D(a);return this.k.contains(b)?this.k.get(b).find(a):null};function oc(a,b,c){if(b.e())a.B=c,a.k=null;else if(null!==a.B)a.B=a.B.F(b,c);else{null==a.k&&(a.k=new oe);var d=J(b);a.k.contains(d)||a.k.add(d,new mc);a=a.k.get(d);b=D(b);oc(a,b,c)}}\nfunction Ze(a,b){if(b.e())return a.B=null,a.k=null,!0;if(null!==a.B){if(a.B.J())return!1;var c=a.B;a.B=null;c.O(N,function(b,c){oc(a,new L(b),c)});return Ze(a,b)}return null!==a.k?(c=J(b),b=D(b),a.k.contains(c)&&Ze(a.k.get(c),b)&&a.k.remove(c),a.k.e()?(a.k=null,!0):!1):!0}function nc(a,b,c){null!==a.B?c(b,a.B):a.O(function(a,e){var f=new L(b.toString()+\"/\"+a);nc(e,f,c)})}mc.prototype.O=function(a){null!==this.k&&pe(this.k,function(b,c){a(b,c)})};var $e=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,af=/[\\[\\].#$\\u0000-\\u001F\\u007F]/;function bf(a){return p(a)&&0!==a.length&&!$e.test(a)}function cf(a){return null===a||p(a)||ga(a)&&!Cc(a)||ia(a)&&cb(a,\".sv\")}function df(a,b,c,d){d&&!n(b)||ef(y(a,1,d),b,c)}\nfunction ef(a,b,c){c instanceof L&&(c=new Pe(c,a));if(!n(b))throw Error(a+\"contains undefined \"+Re(c));if(ha(b))throw Error(a+\"contains a function \"+Re(c)+\" with contents: \"+b.toString());if(Cc(b))throw Error(a+\"contains \"+b.toString()+\" \"+Re(c));if(p(b)&&b.length>10485760/3&&10485760<nb(b))throw Error(a+\"contains a string greater than 10485760 utf8 bytes \"+Re(c)+\" ('\"+b.substring(0,50)+\"...')\");if(ia(b)){var d=!1,e=!1;db(b,function(b,h){if(\".value\"===b)d=!0;else if(\".priority\"!==b&&\".sv\"!==b&&(e=\n!0,!bf(b)))throw Error(a+\" contains an invalid key (\"+b+\") \"+Re(c)+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');c.push(b);ef(a,h,c);c.pop()});if(d&&e)throw Error(a+' contains \".value\" child '+Re(c)+\" in addition to actual children.\");}}\nfunction ff(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((\".priority\"!==e[f]||f!==e.length-1)&&!bf(e[f]))throw Error(a+\"contains an invalid key (\"+e[f]+\") in path \"+d.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');}b.sort(Oe);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+\"contains a path \"+e.toString()+\" that is ancestor of another path \"+d.toString());e=d}}\nfunction gf(a,b,c){var d=y(a,1,!1);if(!ia(b)||ea(b))throw Error(d+\" must be an object containing the children to replace.\");var e=[];db(b,function(a,b){var k=new L(a);ef(d,b,c.n(k));if(\".priority\"===Bd(k)&&!cf(b))throw Error(d+\"contains an invalid value for '\"+k.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");e.push(k)});ff(d,e)}\nfunction hf(a,b,c){if(Cc(c))throw Error(y(a,b,!1)+\"is \"+c.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!cf(c))throw Error(y(a,b,!1)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\");}\nfunction jf(a,b,c){if(!c||n(b))switch(b){case \"value\":case \"child_added\":case \"child_removed\":case \"child_changed\":case \"child_moved\":break;default:throw Error(y(a,1,c)+'must be a valid event type: \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".');}}function kf(a,b){if(n(b)&&!bf(b))throw Error(y(a,2,!0)+'was an invalid key: \"'+b+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").');}\nfunction lf(a,b){if(!p(b)||0===b.length||af.test(b))throw Error(y(a,1,!1)+'was an invalid path: \"'+b+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"');}function mf(a,b){if(\".info\"===J(b))throw Error(a+\" failed: Can't modify data under /.info/\");}\nfunction Xe(a,b){var c=b.path.toString(),d;!(d=!p(b.jc.host)||0===b.jc.host.length||!bf(b.jc.ne))&&(d=0!==c.length)&&(c&&(c=c.replace(/^\\/*\\.info(\\/|$)/,\"/\")),d=!(p(c)&&0!==c.length&&!af.test(c)));if(d)throw Error(y(a,1,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".');};function V(a,b){this.ta=a;this.qa=b}V.prototype.cancel=function(a){x(\"Firebase.onDisconnect().cancel\",0,1,arguments.length);A(\"Firebase.onDisconnect().cancel\",1,a,!0);var b=new hb;this.ta.xd(this.qa,ib(b,a));return b.ra};V.prototype.cancel=V.prototype.cancel;V.prototype.remove=function(a){x(\"Firebase.onDisconnect().remove\",0,1,arguments.length);mf(\"Firebase.onDisconnect().remove\",this.qa);A(\"Firebase.onDisconnect().remove\",1,a,!0);var b=new hb;nf(this.ta,this.qa,null,ib(b,a));return b.ra};\nV.prototype.remove=V.prototype.remove;V.prototype.set=function(a,b){x(\"Firebase.onDisconnect().set\",1,2,arguments.length);mf(\"Firebase.onDisconnect().set\",this.qa);df(\"Firebase.onDisconnect().set\",a,this.qa,!1);A(\"Firebase.onDisconnect().set\",2,b,!0);var c=new hb;nf(this.ta,this.qa,a,ib(c,b));return c.ra};V.prototype.set=V.prototype.set;\nV.prototype.Jb=function(a,b,c){x(\"Firebase.onDisconnect().setWithPriority\",2,3,arguments.length);mf(\"Firebase.onDisconnect().setWithPriority\",this.qa);df(\"Firebase.onDisconnect().setWithPriority\",a,this.qa,!1);hf(\"Firebase.onDisconnect().setWithPriority\",2,b);A(\"Firebase.onDisconnect().setWithPriority\",3,c,!0);var d=new hb;of(this.ta,this.qa,a,b,ib(d,c));return d.ra};V.prototype.setWithPriority=V.prototype.Jb;\nV.prototype.update=function(a,b){x(\"Firebase.onDisconnect().update\",1,2,arguments.length);mf(\"Firebase.onDisconnect().update\",this.qa);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[\"\"+d]=a[d];a=c;O(\"Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}gf(\"Firebase.onDisconnect().update\",a,this.qa);A(\"Firebase.onDisconnect().update\",2,b,!0);\nc=new hb;pf(this.ta,this.qa,a,ib(c,b));return c.ra};V.prototype.update=V.prototype.update;function qf(a){H(ea(a)&&0<a.length,\"Requires a non-empty array\");this.Bf=a;this.Dc={}}qf.prototype.Ee=function(a,b){var c;c=this.Dc[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].He.apply(c[d].Ma,Array.prototype.slice.call(arguments,1))};qf.prototype.gc=function(a,b,c){rf(this,a);this.Dc[a]=this.Dc[a]||[];this.Dc[a].push({He:b,Ma:c});(a=this.Ue(a))&&b.apply(c,a)};\nqf.prototype.Ic=function(a,b,c){rf(this,a);a=this.Dc[a]||[];for(var d=0;d<a.length;d++)if(a[d].He===b&&(!c||c===a[d].Ma)){a.splice(d,1);break}};function rf(a,b){H(Oa(a.Bf,function(a){return a===b}),\"Unknown event: \"+b)};function sf(){qf.call(this,[\"online\"]);this.hc=!0;if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window.addEventListener&&!qb()){var a=this;window.addEventListener(\"online\",function(){a.hc||(a.hc=!0,a.Ee(\"online\",!0))},!1);window.addEventListener(\"offline\",function(){a.hc&&(a.hc=!1,a.Ee(\"online\",!1))},!1)}}la(sf,qf);sf.prototype.Ue=function(a){H(\"online\"===a,\"Unknown event type: \"+a);return[this.hc]};ca(sf);function tf(){qf.call(this,[\"visible\"]);var a,b;\"undefined\"!==typeof document&&\"undefined\"!==typeof document.addEventListener&&(\"undefined\"!==typeof document.hidden?(b=\"visibilitychange\",a=\"hidden\"):\"undefined\"!==typeof document.mozHidden?(b=\"mozvisibilitychange\",a=\"mozHidden\"):\"undefined\"!==typeof document.msHidden?(b=\"msvisibilitychange\",a=\"msHidden\"):\"undefined\"!==typeof document.webkitHidden&&(b=\"webkitvisibilitychange\",a=\"webkitHidden\"));this.Mb=!0;if(b){var c=this;document.addEventListener(b,\nfunction(){var b=!document[a];b!==c.Mb&&(c.Mb=b,c.Ee(\"visible\",b))},!1)}}la(tf,qf);tf.prototype.Ue=function(a){H(\"visible\"===a,\"Unknown event type: \"+a);return[this.Mb]};ca(tf);var uf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\".charAt(c%64),c=Math.floor(c/64);H(0===c,\"Cannot push at time == 0\");c=e.join(\"\");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\".charAt(b[f]);H(20===c.length,\"nextPushId: Length should be 20.\");\nreturn c}}();function vf(a,b){this.La=a;this.ba=b?b:wf}g=vf.prototype;g.Oa=function(a,b){return new vf(this.La,this.ba.Oa(a,b,this.La).X(null,null,!1,null,null))};g.remove=function(a){return new vf(this.La,this.ba.remove(a,this.La).X(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.ba;!c.e();){b=this.La(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};\nfunction xf(a,b){for(var c,d=a.ba,e=null;!d.e();){c=a.La(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\");}g.e=function(){return this.ba.e()};g.count=function(){return this.ba.count()};g.Gc=function(){return this.ba.Gc()};g.ec=function(){return this.ba.ec()};g.ha=function(a){return this.ba.ha(a)};\ng.Wb=function(a){return new yf(this.ba,null,this.La,!1,a)};g.Xb=function(a,b){return new yf(this.ba,a,this.La,!1,b)};g.Zb=function(a,b){return new yf(this.ba,a,this.La,!0,b)};g.We=function(a){return new yf(this.ba,null,this.La,!0,a)};function yf(a,b,c,d,e){this.Hd=e||null;this.je=d;this.Pa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.je?a.left:a.right;else if(0===e){this.Pa.push(a);break}else this.Pa.push(a),a=this.je?a.right:a.left}\nfunction R(a){if(0===a.Pa.length)return null;var b=a.Pa.pop(),c;c=a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value};if(a.je)for(b=b.left;!b.e();)a.Pa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Pa.push(b),b=b.left;return c}function zf(a){if(0===a.Pa.length)return null;var b;b=a.Pa;b=b[b.length-1];return a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value}}function Af(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:wf;this.right=null!=e?e:wf}g=Af.prototype;\ng.X=function(a,b,c,d,e){return new Af(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ha=function(a){return this.left.ha(a)||a(this.key,this.value)||this.right.ha(a)};function Bf(a){return a.left.e()?a:Bf(a.left)}g.Gc=function(){return Bf(this).key};g.ec=function(){return this.right.e()?this.key:this.right.ec()};\ng.Oa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Oa(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Oa(a,b,c));return Cf(e)};function Df(a){if(a.left.e())return wf;a.left.ea()||a.left.left.ea()||(a=Ef(a));a=a.X(null,null,null,Df(a.left),null);return Cf(a)}\ng.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.ea()||c.left.left.ea()||(c=Ef(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.ea()&&(c=Ff(c));c.right.e()||c.right.ea()||c.right.left.ea()||(c=Gf(c),c.left.left.ea()&&(c=Ff(c),c=Gf(c)));if(0===b(a,c.key)){if(c.right.e())return wf;d=Bf(c.right);c=c.X(d.key,d.value,null,null,Df(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return Cf(c)};g.ea=function(){return this.color};\nfunction Cf(a){a.right.ea()&&!a.left.ea()&&(a=Hf(a));a.left.ea()&&a.left.left.ea()&&(a=Ff(a));a.left.ea()&&a.right.ea()&&(a=Gf(a));return a}function Ef(a){a=Gf(a);a.right.left.ea()&&(a=a.X(null,null,null,null,Ff(a.right)),a=Hf(a),a=Gf(a));return a}function Hf(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function Ff(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}\nfunction Gf(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function If(){}g=If.prototype;g.X=function(){return this};g.Oa=function(a,b){return new Af(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ha=function(){return!1};g.Gc=function(){return null};g.ec=function(){return null};g.ea=function(){return!1};var wf=new If;function P(a,b,c){this.k=a;(this.aa=b)&&Sd(this.aa);a.e()&&H(!this.aa||this.aa.e(),\"An empty node cannot have a priority\");this.yb=c;this.Db=null}g=P.prototype;g.J=function(){return!1};g.C=function(){return this.aa||G};g.fa=function(a){return this.k.e()?this:new P(this.k,a,this.yb)};g.Q=function(a){if(\".priority\"===a)return this.C();a=this.k.get(a);return null===a?G:a};g.P=function(a){var b=J(a);return null===b?this:this.Q(b).P(D(a))};g.Da=function(a){return null!==this.k.get(a)};\ng.T=function(a,b){H(b,\"We should always be passing snapshot nodes\");if(\".priority\"===a)return this.fa(b);var c=new K(a,b),d,e;b.e()?(d=this.k.remove(a),c=me(this.yb,c,this.k)):(d=this.k.Oa(a,b),c=ke(this.yb,c,this.k));e=d.e()?G:this.aa;return new P(d,e,c)};g.F=function(a,b){var c=J(a);if(null===c)return b;H(\".priority\"!==J(a)||1===Ad(a),\".priority must be the last token in a path\");var d=this.Q(c).F(D(a),b);return this.T(c,d)};g.e=function(){return this.k.e()};g.Eb=function(){return this.k.count()};\nvar Jf=/^(0|[1-9]\\d*)$/;g=P.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.O(N,function(f,h){b[f]=h.H(a);c++;e&&Jf.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&!this.C().e()&&(b[\".priority\"]=this.C().H());return b};g.hash=function(){if(null===this.Db){var a=\"\";this.C().e()||(a+=\"priority:\"+Ud(this.C().H())+\":\");this.O(N,function(b,c){var d=c.hash();\"\"!==d&&(a+=\":\"+b+\":\"+d)});this.Db=\"\"===a?\"\":uc(a)}return this.Db};\ng.Ve=function(a,b,c){return(c=Kf(this,c))?(a=xf(c,new K(a,b)))?a.name:null:xf(this.k,a)};function Qd(a,b){var c;c=(c=Kf(a,b))?(c=c.Gc())&&c.name:a.k.Gc();return c?new K(c,a.k.get(c)):null}function Rd(a,b){var c;c=(c=Kf(a,b))?(c=c.ec())&&c.name:a.k.ec();return c?new K(c,a.k.get(c)):null}g.O=function(a,b){var c=Kf(this,a);return c?c.ha(function(a){return b(a.name,a.R)}):this.k.ha(b)};g.Wb=function(a){return this.Xb(a.Hc(),a)};\ng.Xb=function(a,b){var c=Kf(this,b);if(c)return c.Xb(a,function(a){return a});for(var c=this.k.Xb(a.name,jc),d=zf(c);null!=d&&0>b.compare(d,a);)R(c),d=zf(c);return c};g.We=function(a){return this.Zb(a.Fc(),a)};g.Zb=function(a,b){var c=Kf(this,b);if(c)return c.Zb(a,function(a){return a});for(var c=this.k.Zb(a.name,jc),d=zf(c);null!=d&&0<b.compare(d,a);)R(c),d=zf(c);return c};g.sc=function(a){return this.e()?a.e()?0:-1:a.J()||a.e()?1:a===Zd?-1:0};\ng.nb=function(a){if(a===Fd||va(this.yb.cc,a.toString()))return this;var b=this.yb,c=this.k;H(a!==Fd,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var d=[],e=!1,c=c.Wb(jc),f=R(c);f;)e=e||a.xc(f.R),d.push(f),f=R(c);d=e?le(d,Pd(a)):Wd;e=a.toString();c=za(b.cc);c[e]=a;a=za(b.od);a[e]=d;return new P(this.k,this.aa,new je(a,c))};g.yc=function(a){return a===Fd||va(this.yb.cc,a.toString())};\ng.Z=function(a){if(a===this)return!0;if(a.J())return!1;if(this.C().Z(a.C())&&this.k.count()===a.k.count()){var b=this.Wb(N);a=a.Wb(N);for(var c=R(b),d=R(a);c&&d;){if(c.name!==d.name||!c.R.Z(d.R))return!1;c=R(b);d=R(a)}return null===c&&null===d}return!1};function Kf(a,b){return b===Fd?null:a.yb.get(b.toString())}g.toString=function(){return B(this.H(!0))};function M(a,b){if(null===a)return G;var c=null;\"object\"===typeof a&&\".priority\"in a?c=a[\".priority\"]:\"undefined\"!==typeof b&&(c=b);H(null===c||\"string\"===typeof c||\"number\"===typeof c||\"object\"===typeof c&&\".sv\"in c,\"Invalid priority type found: \"+typeof c);\"object\"===typeof a&&\".value\"in a&&null!==a[\".value\"]&&(a=a[\".value\"]);if(\"object\"!==typeof a||\".sv\"in a)return new qc(a,M(c));if(a instanceof Array){var d=G,e=a;r(e,function(a,b){if(cb(e,b)&&\".\"!==b.substring(0,1)){var c=M(a);if(c.J()||!c.e())d=\nd.T(b,c)}});return d.fa(M(c))}var f=[],h=!1,k=a;db(k,function(a){if(\"string\"!==typeof a||\".\"!==a.substring(0,1)){var b=M(k[a]);b.e()||(h=h||!b.C().e(),f.push(new K(a,b)))}});if(0==f.length)return G;var l=le(f,gc,function(a){return a.name},ic);if(h){var m=le(f,Pd(N));return new P(l,M(c),new je({\".priority\":m},{\".priority\":N}))}return new P(l,M(c),ne)}var Lf=Math.log(2);\nfunction Mf(a){this.count=parseInt(Math.log(a+1)/Lf,10);this.Ne=this.count-1;this.Cf=a+1&parseInt(Array(this.count+1).join(\"1\"),2)}function Nf(a){var b=!(a.Cf&1<<a.Ne);a.Ne--;return b}\nfunction le(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],u=c?c(m):m;return new Af(u,m.R,!1,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),z=e(m+1,d),m=a[m],u=c?c(m):m;return new Af(u,m.R,!1,f,z)}a.sort(b);var f=function(b){function d(b,h){var k=u-b,z=u;u-=b;var z=e(k+1,z),k=a[k],F=c?c(k):k,z=new Af(F,k.R,h,null,z);f?f.left=z:m=z;f=z}for(var f=null,m=null,u=a.length,z=0;z<b.count;++z){var F=Nf(b),id=Math.pow(2,b.count-(z+1));F?d(id,!1):(d(id,!1),d(id,!0))}return m}(new Mf(a.length));\nreturn null!==f?new vf(d||b,f):new vf(d||b)}function Ud(a){return\"number\"===typeof a?\"number:\"+Jc(a):\"string:\"+a}function Sd(a){if(a.J()){var b=a.H();H(\"string\"===typeof b||\"number\"===typeof b||\"object\"===typeof b&&cb(b,\".sv\"),\"Priority must be a string or number.\")}else H(a===Zd||a.e(),\"priority of unexpected type.\");H(a===Zd||a.C().e(),\"Priority nodes can't have a priority of their own.\")}var G=new P(new vf(ic),null,ne);function Of(){P.call(this,new vf(ic),G,ne)}la(Of,P);g=Of.prototype;\ng.sc=function(a){return a===this?0:1};g.Z=function(a){return a===this};g.C=function(){return this};g.Q=function(){return G};g.e=function(){return!1};var Zd=new Of,Xd=new K(\"[MIN_NAME]\",G),ce=new K(\"[MAX_NAME]\",Zd);function W(a,b,c){this.A=a;this.V=b;this.g=c}W.prototype.H=function(){x(\"Firebase.DataSnapshot.val\",0,0,arguments.length);return this.A.H()};W.prototype.val=W.prototype.H;W.prototype.Qe=function(){x(\"Firebase.DataSnapshot.exportVal\",0,0,arguments.length);return this.A.H(!0)};W.prototype.exportVal=W.prototype.Qe;W.prototype.Lf=function(){x(\"Firebase.DataSnapshot.exists\",0,0,arguments.length);return!this.A.e()};W.prototype.exists=W.prototype.Lf;\nW.prototype.n=function(a){x(\"Firebase.DataSnapshot.child\",0,1,arguments.length);ga(a)&&(a=String(a));lf(\"Firebase.DataSnapshot.child\",a);var b=new L(a),c=this.V.n(b);return new W(this.A.P(b),c,N)};W.prototype.child=W.prototype.n;W.prototype.Da=function(a){x(\"Firebase.DataSnapshot.hasChild\",1,1,arguments.length);lf(\"Firebase.DataSnapshot.hasChild\",a);var b=new L(a);return!this.A.P(b).e()};W.prototype.hasChild=W.prototype.Da;\nW.prototype.C=function(){x(\"Firebase.DataSnapshot.getPriority\",0,0,arguments.length);return this.A.C().H()};W.prototype.getPriority=W.prototype.C;W.prototype.forEach=function(a){x(\"Firebase.DataSnapshot.forEach\",1,1,arguments.length);A(\"Firebase.DataSnapshot.forEach\",1,a,!1);if(this.A.J())return!1;var b=this;return!!this.A.O(this.g,function(c,d){return a(new W(d,b.V.n(c),N))})};W.prototype.forEach=W.prototype.forEach;\nW.prototype.kd=function(){x(\"Firebase.DataSnapshot.hasChildren\",0,0,arguments.length);return this.A.J()?!1:!this.A.e()};W.prototype.hasChildren=W.prototype.kd;W.prototype.getKey=function(){x(\"Firebase.DataSnapshot.key\",0,0,arguments.length);return this.V.getKey()};Lc(W.prototype,\"key\",W.prototype.getKey);W.prototype.Eb=function(){x(\"Firebase.DataSnapshot.numChildren\",0,0,arguments.length);return this.A.Eb()};W.prototype.numChildren=W.prototype.Eb;\nW.prototype.wb=function(){x(\"Firebase.DataSnapshot.ref\",0,0,arguments.length);return this.V};Lc(W.prototype,\"ref\",W.prototype.wb);function yd(a,b){this.N=a;this.Ld=b}function vd(a,b,c,d){return new yd(new $b(b,c,d),a.Ld)}function zd(a){return a.N.da?a.N.j():null}yd.prototype.w=function(){return this.Ld};function ac(a){return a.Ld.da?a.Ld.j():null};function Pf(a,b){this.V=a;var c=a.m,d=new Gd(c.g),c=S(c)?new Gd(c.g):c.xa?new Md(c):new Hd(c);this.hf=new pd(c);var e=b.w(),f=b.N,h=d.ya(G,e.j(),null),k=c.ya(G,f.j(),null);this.Ka=new yd(new $b(k,f.da,c.Na()),new $b(h,e.da,d.Na()));this.Za=[];this.Jf=new kd(a)}function Qf(a){return a.V}g=Pf.prototype;g.w=function(){return this.Ka.w().j()};g.hb=function(a){var b=ac(this.Ka);return b&&(S(this.V.m)||!a.e()&&!b.Q(J(a)).e())?b.P(a):null};g.e=function(){return 0===this.Za.length};g.Nb=function(a){this.Za.push(a)};\ng.kb=function(a,b){var c=[];if(b){H(null==a,\"A cancel should cancel all event registrations.\");var d=this.V.path;Ja(this.Za,function(a){(a=a.Le(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Za.length;++f){var h=this.Za[f];if(!h.matches(a))e.push(h);else if(a.Xe()){e=e.concat(this.Za.slice(f+1));break}}this.Za=e}else this.Za=[];return c};\ng.eb=function(a,b,c){a.type===Wc&&null!==a.source.Hb&&(H(ac(this.Ka),\"We should always have a full cache before handling merges\"),H(zd(this.Ka),\"Missing event cache, even though we have a server cache\"));var d=this.Ka;a=this.hf.eb(d,a,b,c);b=this.hf;c=a.Sd;H(c.N.j().yc(b.U.g),\"Event snap not indexed\");H(c.w().j().yc(b.U.g),\"Server snap not indexed\");H(dc(a.Sd.w())||!dc(d.w()),\"Once a server snap is complete, it should never go back\");this.Ka=a.Sd;return Rf(this,a.Df,a.Sd.N.j(),null)};\nfunction Sf(a,b){var c=a.Ka.N,d=[];c.j().J()||c.j().O(N,function(a,b){d.push(new I(\"child_added\",b,a))});c.da&&d.push(bc(c.j()));return Rf(a,d,c.j(),b)}function Rf(a,b,c,d){return ld(a.Jf,b,c,d?[d]:a.Za)};function Tf(a,b,c){this.Pb=a;this.rb=b;this.tb=c||null}g=Tf.prototype;g.nf=function(a){return\"value\"===a};g.createEvent=function(a,b){var c=b.m.g;return new Ub(\"value\",this,new W(a.Ja,b.wb(),c))};g.Tb=function(a){var b=this.tb;if(\"cancel\"===a.ee()){H(this.rb,\"Raising a cancel event on a listener with no cancel callback\");var c=this.rb;return function(){c.call(b,a.error)}}var d=this.Pb;return function(){d.call(b,a.Md)}};g.Le=function(a,b){return this.rb?new Vb(this,a,b):null};\ng.matches=function(a){return a instanceof Tf?a.Pb&&this.Pb?a.Pb===this.Pb&&a.tb===this.tb:!0:!1};g.Xe=function(){return null!==this.Pb};function Uf(a,b,c){this.ga=a;this.rb=b;this.tb=c}g=Uf.prototype;g.nf=function(a){a=\"children_added\"===a?\"child_added\":a;return(\"children_removed\"===a?\"child_removed\":a)in this.ga};g.Le=function(a,b){return this.rb?new Vb(this,a,b):null};\ng.createEvent=function(a,b){H(null!=a.Xa,\"Child events should have a childName.\");var c=b.wb().n(a.Xa);return new Ub(a.type,this,new W(a.Ja,c,b.m.g),a.Dd)};g.Tb=function(a){var b=this.tb;if(\"cancel\"===a.ee()){H(this.rb,\"Raising a cancel event on a listener with no cancel callback\");var c=this.rb;return function(){c.call(b,a.error)}}var d=this.ga[a.hd];return function(){d.call(b,a.Md,a.Dd)}};\ng.matches=function(a){if(a instanceof Uf){if(!this.ga||!a.ga)return!0;if(this.tb===a.tb){var b=ra(a.ga);if(b===ra(this.ga)){if(1===b){var b=sa(a.ga),c=sa(this.ga);return c===b&&(!a.ga[b]||!this.ga[c]||a.ga[b]===this.ga[c])}return qa(this.ga,function(b,c){return a.ga[c]===b})}}}return!1};g.Xe=function(){return null!==this.ga};function X(a,b,c,d){this.u=a;this.path=b;this.m=c;this.Nc=d}\nfunction Vf(a){var b=null,c=null;a.ka&&(b=Jd(a));a.na&&(c=Ld(a));if(a.g===Fd){if(a.ka){if(\"[MIN_NAME]\"!=Id(a))throw Error(\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\");if(\"string\"!==typeof b)throw Error(\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\");}if(a.na){if(\"[MAX_NAME]\"!=Kd(a))throw Error(\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\");if(\"string\"!==\ntypeof c)throw Error(\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\");}}else if(a.g===N){if(null!=b&&!cf(b)||null!=c&&!cf(c))throw Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\");}else if(H(a.g instanceof Yd||a.g===de,\"unknown index type.\"),null!=b&&\"object\"===typeof b||null!=c&&\"object\"===typeof c)throw Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\");\n}function Wf(a){if(a.ka&&a.na&&a.xa&&(!a.xa||\"\"===a.mb))throw Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\");}function Xf(a,b){if(!0===a.Nc)throw Error(b+\": You can't combine multiple orderBy calls.\");}g=X.prototype;g.wb=function(){x(\"Query.ref\",0,0,arguments.length);return new U(this.u,this.path)};\ng.gc=function(a,b,c,d){x(\"Query.on\",2,4,arguments.length);jf(\"Query.on\",a,!1);A(\"Query.on\",2,b,!1);var e=Yf(\"Query.on\",c,d);if(\"value\"===a)Zf(this.u,this,new Tf(b,e.cancel||null,e.Ma||null));else{var f={};f[a]=b;Zf(this.u,this,new Uf(f,e.cancel,e.Ma))}return b};\ng.Ic=function(a,b,c){x(\"Query.off\",0,3,arguments.length);jf(\"Query.off\",a,!0);A(\"Query.off\",2,b,!0);eb(\"Query.off\",3,c);var d=null,e=null;\"value\"===a?d=new Tf(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Uf(e,null,c||null));e=this.u;d=\".info\"===J(this.path)?e.pd.kb(this,d):e.K.kb(this,d);Qb(e.ca,this.path,d)};\ng.$f=function(a,b){function c(k){f&&(f=!1,e.Ic(a,c),b&&b.call(d.Ma,k),h.resolve(k))}x(\"Query.once\",1,4,arguments.length);jf(\"Query.once\",a,!1);A(\"Query.once\",2,b,!0);var d=Yf(\"Query.once\",arguments[2],arguments[3]),e=this,f=!0,h=new hb;jb(h.ra);this.gc(a,c,function(b){e.Ic(a,c);d.cancel&&d.cancel.call(d.Ma,b);h.reject(b)});return h.ra};\ng.le=function(a){x(\"Query.limitToFirst\",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.m.xa)throw Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new X(this.u,this.path,this.m.le(a),this.Nc)};\ng.me=function(a){x(\"Query.limitToLast\",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.m.xa)throw Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new X(this.u,this.path,this.m.me(a),this.Nc)};\ng.ag=function(a){x(\"Query.orderByChild\",1,1,arguments.length);if(\"$key\"===a)throw Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===a)throw Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===a)throw Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');lf(\"Query.orderByChild\",a);Xf(this,\"Query.orderByChild\");var b=new L(a);if(b.e())throw Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");\nb=new Yd(b);b=he(this.m,b);Vf(b);return new X(this.u,this.path,b,!0)};g.bg=function(){x(\"Query.orderByKey\",0,0,arguments.length);Xf(this,\"Query.orderByKey\");var a=he(this.m,Fd);Vf(a);return new X(this.u,this.path,a,!0)};g.cg=function(){x(\"Query.orderByPriority\",0,0,arguments.length);Xf(this,\"Query.orderByPriority\");var a=he(this.m,N);Vf(a);return new X(this.u,this.path,a,!0)};\ng.dg=function(){x(\"Query.orderByValue\",0,0,arguments.length);Xf(this,\"Query.orderByValue\");var a=he(this.m,de);Vf(a);return new X(this.u,this.path,a,!0)};g.Nd=function(a,b){x(\"Query.startAt\",0,2,arguments.length);df(\"Query.startAt\",a,this.path,!0);kf(\"Query.startAt\",b);var c=this.m.Nd(a,b);Wf(c);Vf(c);if(this.m.ka)throw Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");n(a)||(b=a=null);return new X(this.u,this.path,c,this.Nc)};\ng.gd=function(a,b){x(\"Query.endAt\",0,2,arguments.length);df(\"Query.endAt\",a,this.path,!0);kf(\"Query.endAt\",b);var c=this.m.gd(a,b);Wf(c);Vf(c);if(this.m.na)throw Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new X(this.u,this.path,c,this.Nc)};\ng.If=function(a,b){x(\"Query.equalTo\",1,2,arguments.length);df(\"Query.equalTo\",a,this.path,!1);kf(\"Query.equalTo\",b);if(this.m.ka)throw Error(\"Query.equalTo: Starting point was already set (by another call to endAt or equalTo).\");if(this.m.na)throw Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.Nd(a,b).gd(a,b)};\ng.toString=function(){x(\"Query.toString\",0,0,arguments.length);for(var a=this.path,b=\"\",c=a.Y;c<a.o.length;c++)\"\"!==a.o[c]&&(b+=\"/\"+encodeURIComponent(String(a.o[c])));return this.u.toString()+(b||\"/\")};g.ja=function(){var a=Gc(ie(this.m));return\"{}\"===a?\"default\":a};\ng.isEqual=function(a){x(\"Query.isEqual\",1,1,arguments.length);if(!(a instanceof X))throw Error(\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\");var b=this.u===a.u,c=this.path.Z(a.path),d=this.ja()===a.ja();return b&&c&&d};\nfunction Yf(a,b,c){var d={cancel:null,Ma:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Ma=c,eb(a,4,d.Ma);else if(b)if(\"object\"===typeof b&&null!==b)d.Ma=b;else if(\"function\"===typeof b)d.cancel=b;else throw Error(y(a,3,!0)+\" must either be a cancel callback or a context object.\");return d}X.prototype.on=X.prototype.gc;X.prototype.off=X.prototype.Ic;X.prototype.once=X.prototype.$f;X.prototype.limitToFirst=X.prototype.le;X.prototype.limitToLast=X.prototype.me;X.prototype.orderByChild=X.prototype.ag;\nX.prototype.orderByKey=X.prototype.bg;X.prototype.orderByPriority=X.prototype.cg;X.prototype.orderByValue=X.prototype.dg;X.prototype.startAt=X.prototype.Nd;X.prototype.endAt=X.prototype.gd;X.prototype.equalTo=X.prototype.If;X.prototype.toString=X.prototype.toString;X.prototype.isEqual=X.prototype.isEqual;Lc(X.prototype,\"ref\",X.prototype.wb);function $f(a,b){this.value=a;this.children=b||ag}var ag=new vf(function(a,b){return a===b?0:a<b?-1:1});function bg(a){var b=Q;r(a,function(a,d){b=b.set(new L(d),a)});return b}g=$f.prototype;g.e=function(){return null===this.value&&this.children.e()};function cg(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=cg(a,D(b),c),null!=b?{path:(new L(d)).n(b.path),value:b.value}:null):null}\nfunction dg(a,b){return cg(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(J(a));return null!==b?b.subtree(D(a)):Q};g.set=function(a,b){if(a.e())return new $f(b,this.children);var c=J(a),d=(this.children.get(c)||Q).set(D(a),b),c=this.children.Oa(c,d);return new $f(this.value,c)};\ng.remove=function(a){if(a.e())return this.children.e()?Q:new $f(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(D(a)),b=a.e()?this.children.remove(b):this.children.Oa(b,a),null===this.value&&b.e()?Q:new $f(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(J(a));return b?b.get(D(a)):null};\nfunction Ed(a,b,c){if(b.e())return c;var d=J(b);b=Ed(a.children.get(d)||Q,D(b),c);d=b.e()?a.children.remove(d):a.children.Oa(d,b);return new $f(a.value,d)}function eg(a,b){return fg(a,C,b)}function fg(a,b,c){var d={};a.children.ha(function(a,f){d[a]=fg(f,b.n(a),c)});return c(b,a.value,d)}function gg(a,b,c){return hg(a,b,C,c)}function hg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=J(b);return(a=a.children.get(e))?hg(a,D(b),c.n(e),d):null}\nfunction ig(a,b,c){jg(a,b,C,c)}function jg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?jg(a,D(b),c.n(e),d):Q}function Cd(a,b){kg(a,C,b)}function kg(a,b,c){a.children.ha(function(a,e){kg(e,b.n(a),c)});a.value&&c(b,a.value)}function lg(a,b){a.children.ha(function(a,d){d.value&&b(a,d.value)})}var Q=new $f(null);$f.prototype.toString=function(){var a={};Cd(this,function(b,c){a[b.toString()]=c.toString()});return B(a)};function mg(a,b,c){this.type=ud;this.source=ng;this.path=a;this.Ob=b;this.Id=c}mg.prototype.Mc=function(a){if(this.path.e()){if(null!=this.Ob.value)return H(this.Ob.children.e(),\"affectedTree should not have overlapping affected paths.\"),this;a=this.Ob.subtree(new L(a));return new mg(C,a,this.Id)}H(J(this.path)===a,\"operationForChild called for unrelated child.\");return new mg(D(this.path),this.Ob,this.Id)};\nmg.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" ack write revert=\"+this.Id+\" affectedTree=\"+this.Ob+\")\"};var Bb=0,Wc=1,ud=2,Db=3;function og(a,b,c,d){this.ce=a;this.Se=b;this.Hb=c;this.Ce=d;H(!d||b,\"Tagged queries must be from server.\")}var ng=new og(!0,!1,null,!1),pg=new og(!1,!0,null,!1);og.prototype.toString=function(){return this.ce?\"user\":this.Ce?\"server(queryID=\"+this.Hb+\")\":\"server\"};function qg(a){this.W=a}var rg=new qg(new $f(null));function sg(a,b,c){if(b.e())return new qg(new $f(c));var d=dg(a.W,b);if(null!=d){var e=d.path,d=d.value;b=T(e,b);d=d.F(b,c);return new qg(a.W.set(e,d))}a=Ed(a.W,b,new $f(c));return new qg(a)}function tg(a,b,c){var d=a;db(c,function(a,c){d=sg(d,b.n(a),c)});return d}qg.prototype.Ed=function(a){if(a.e())return rg;a=Ed(this.W,a,Q);return new qg(a)};function ug(a,b){var c=dg(a.W,b);return null!=c?a.W.get(c.path).P(T(c.path,b)):null}\nfunction vg(a){var b=[],c=a.W.value;null!=c?c.J()||c.O(N,function(a,c){b.push(new K(a,c))}):a.W.children.ha(function(a,c){null!=c.value&&b.push(new K(a,c.value))});return b}function wg(a,b){if(b.e())return a;var c=ug(a,b);return null!=c?new qg(new $f(c)):new qg(a.W.subtree(b))}qg.prototype.e=function(){return this.W.e()};qg.prototype.apply=function(a){return xg(C,this.W,a)};\nfunction xg(a,b,c){if(null!=b.value)return c.F(a,b.value);var d=null;b.children.ha(function(b,f){\".priority\"===b?(H(null!==f.value,\"Priority writes must always be leaf nodes\"),d=f.value):c=xg(a.n(b),f,c)});c.P(a).e()||null===d||(c=c.F(a.n(\".priority\"),d));return c};function yg(){this.za={}}g=yg.prototype;g.e=function(){return ya(this.za)};g.eb=function(a,b,c){var d=a.source.Hb;if(null!==d)return d=w(this.za,d),H(null!=d,\"SyncTree gave us an op for an invalid query.\"),d.eb(a,b,c);var e=[];r(this.za,function(d){e=e.concat(d.eb(a,b,c))});return e};g.Nb=function(a,b,c,d,e){var f=a.ja(),h=w(this.za,f);if(!h){var h=c.Aa(e?d:null),k=!1;h?k=!0:(h=d instanceof P?c.rc(d):G,k=!1);h=new Pf(a,new yd(new $b(h,k,!1),new $b(d,e,!1)));this.za[f]=h}h.Nb(b);return Sf(h,b)};\ng.kb=function(a,b,c){var d=a.ja(),e=[],f=[],h=null!=zg(this);if(\"default\"===d){var k=this;r(this.za,function(a,d){f=f.concat(a.kb(b,c));a.e()&&(delete k.za[d],S(a.V.m)||e.push(a.V))})}else{var l=w(this.za,d);l&&(f=f.concat(l.kb(b,c)),l.e()&&(delete this.za[d],S(l.V.m)||e.push(l.V)))}h&&null==zg(this)&&e.push(new U(a.u,a.path));return{hg:e,Kf:f}};function Ag(a){return Ka(ta(a.za),function(a){return!S(a.V.m)})}g.hb=function(a){var b=null;r(this.za,function(c){b=b||c.hb(a)});return b};\nfunction Bg(a,b){if(S(b.m))return zg(a);var c=b.ja();return w(a.za,c)}function zg(a){return xa(a.za,function(a){return S(a.V.m)})||null};function Cg(){this.S=rg;this.la=[];this.Bc=-1}function Dg(a,b){for(var c=0;c<a.la.length;c++){var d=a.la[c];if(d.Zc===b)return d}return null}g=Cg.prototype;\ng.Ed=function(a){var b=Pa(this.la,function(b){return b.Zc===a});H(0<=b,\"removeWrite called with nonexistent writeId.\");var c=this.la[b];this.la.splice(b,1);for(var d=c.visible,e=!1,f=this.la.length-1;d&&0<=f;){var h=this.la[f];h.visible&&(f>=b&&Eg(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.S=Fg(this.la,Gg,C),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(c.Ga)this.S=this.S.Ed(c.path);else{var k=this;r(c.children,function(a,b){k.S=k.S.Ed(c.path.n(b))})}return!0}return!1};\ng.Aa=function(a,b,c,d){if(c||d){var e=wg(this.S,a);return!d&&e.e()?b:d||null!=b||null!=ug(e,C)?(e=Fg(this.la,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.Zc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||G,e.apply(b)):null}e=ug(this.S,a);if(null!=e)return e;e=wg(this.S,a);return e.e()?b:null!=b||null!=ug(e,C)?(b=b||G,e.apply(b)):null};\ng.rc=function(a,b){var c=G,d=ug(this.S,a);if(d)d.J()||d.O(N,function(a,b){c=c.T(a,b)});else if(b){var e=wg(this.S,a);b.O(N,function(a,b){var d=wg(e,new L(a)).apply(b);c=c.T(a,d)});Ja(vg(e),function(a){c=c.T(a.name,a.R)})}else e=wg(this.S,a),Ja(vg(e),function(a){c=c.T(a.name,a.R)});return c};g.ad=function(a,b,c,d){H(c||d,\"Either existingEventSnap or existingServerSnap must exist\");a=a.n(b);if(null!=ug(this.S,a))return null;a=wg(this.S,a);return a.e()?d.P(b):a.apply(d.P(b))};\ng.qc=function(a,b,c){a=a.n(b);var d=ug(this.S,a);return null!=d?d:Zb(c,b)?wg(this.S,a).apply(c.j().Q(b)):null};g.lc=function(a){return ug(this.S,a)};g.Wd=function(a,b,c,d,e,f){var h;a=wg(this.S,a);h=ug(a,C);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.nb(f);if(h.e()||h.J())return[];b=[];a=Pd(f);e=e?h.Zb(c,f):h.Xb(c,f);for(f=R(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=R(e);return b};\nfunction Eg(a,b){return a.Ga?a.path.contains(b):!!wa(a.children,function(c,d){return a.path.n(d).contains(b)})}function Gg(a){return a.visible}\nfunction Fg(a,b,c){for(var d=rg,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Ga)c.contains(h)?(h=T(c,h),d=sg(d,h,f.Ga)):h.contains(c)&&(h=T(h,c),d=sg(d,C,f.Ga.P(h)));else if(f.children)if(c.contains(h))h=T(c,h),d=tg(d,h,f.children);else{if(h.contains(c))if(h=T(h,c),h.e())d=tg(d,C,f.children);else if(f=w(f.children,J(h)))f=f.P(D(h)),d=sg(d,C,f)}else throw sc(\"WriteRecord should have .snap or .children\");}}return d}function Hg(a,b){this.Lb=a;this.W=b}g=Hg.prototype;\ng.Aa=function(a,b,c){return this.W.Aa(this.Lb,a,b,c)};g.rc=function(a){return this.W.rc(this.Lb,a)};g.ad=function(a,b,c){return this.W.ad(this.Lb,a,b,c)};g.lc=function(a){return this.W.lc(this.Lb.n(a))};g.Wd=function(a,b,c,d,e){return this.W.Wd(this.Lb,a,b,c,d,e)};g.qc=function(a,b){return this.W.qc(this.Lb,a,b)};g.n=function(a){return new Hg(this.Lb.n(a),this.W)};function Ig(){this.children={};this.bd=0;this.value=null}function Jg(a,b,c){this.ud=a?a:\"\";this.Pc=b?b:null;this.A=c?c:new Ig}function Kg(a,b){for(var c=b instanceof L?b:new L(b),d=a,e;null!==(e=J(c));)d=new Jg(e,d,w(d.A.children,e)||new Ig),c=D(c);return d}g=Jg.prototype;g.Ca=function(){return this.A.value};function Lg(a,b){H(\"undefined\"!==typeof b,\"Cannot set value to undefined\");a.A.value=b;Mg(a)}g.clear=function(){this.A.value=null;this.A.children={};this.A.bd=0;Mg(this)};\ng.kd=function(){return 0<this.A.bd};g.e=function(){return null===this.Ca()&&!this.kd()};g.O=function(a){var b=this;r(this.A.children,function(c,d){a(new Jg(d,b,c))})};function Ng(a,b,c,d){c&&!d&&b(a);a.O(function(a){Ng(a,b,!0,d)});c&&d&&b(a)}function Og(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}g.path=function(){return new L(null===this.Pc?this.ud:this.Pc.path()+\"/\"+this.ud)};g.name=function(){return this.ud};g.parent=function(){return this.Pc};\nfunction Mg(a){if(null!==a.Pc){var b=a.Pc,c=a.ud,d=a.e(),e=cb(b.A.children,c);d&&e?(delete b.A.children[c],b.A.bd--,Mg(b)):d||e||(b.A.children[c]=a.A,b.A.bd++,Mg(b))}};function Pg(a,b,c,d,e,f){this.id=Qg++;this.f=yc(\"p:\"+this.id+\":\");this.qd={};this.$={};this.pa=[];this.Oc=0;this.Kc=[];this.ma=!1;this.Sa=1E3;this.td=3E5;this.Gb=b;this.Jc=c;this.se=d;this.L=a;this.ob=this.Fa=this.Cb=this.xe=null;this.$c=e;this.be=!1;this.ie=0;if(f)throw Error(\"Auth override specified in options, but not supported on non Node.js platforms\");this.Ge=f||null;this.ub=null;this.Mb=!1;this.Gd={};this.ig=0;this.Re=!0;this.Ac=this.ke=null;Rg(this,0);tf.Vb().gc(\"visible\",this.Zf,this);-1===\na.host.indexOf(\"fblocal\")&&sf.Vb().gc(\"online\",this.Yf,this)}var Qg=0,Sg=0;g=Pg.prototype;g.ua=function(a,b,c){var d=++this.ig;a={r:d,a:a,b:b};this.f(B(a));H(this.ma,\"sendRequest call when we're not connected not allowed.\");this.Fa.ua(a);c&&(this.Gd[d]=c)};\ng.$e=function(a,b,c,d){var e=a.ja(),f=a.path.toString();this.f(\"Listen called for \"+f+\" \"+e);this.$[f]=this.$[f]||{};H(Sc(a.m)||!S(a.m),\"listen() called for non-default but complete query\");H(!this.$[f][e],\"listen() called twice for same path/queryId.\");a={G:d,ld:b,eg:a,tag:c};this.$[f][e]=a;this.ma&&Tg(this,a)};\nfunction Tg(a,b){var c=b.eg,d=c.path.toString(),e=c.ja();a.f(\"Listen on \"+d+\" for \"+e);var f={p:d};b.tag&&(f.q=ie(c.m),f.t=b.tag);f.h=b.ld();a.ua(\"q\",f,function(f){var k=f.d,l=f.s;if(k&&\"object\"===typeof k&&cb(k,\"w\")){var m=w(k,\"w\");ea(m)&&0<=Ia(m,\"no_index\")&&O(\"Using an unspecified index. Consider adding \"+('\".indexOn\": \"'+c.m.g.toString()+'\"')+\" at \"+c.path.toString()+\" to your security rules for better performance\")}(a.$[d]&&a.$[d][e])===b&&(a.f(\"listen response\",f),\"ok\"!==l&&Ug(a,d,e),b.G&&b.G(l,\nk))})}g.kf=function(a){this.ob=a;this.f(\"Auth token refreshed\");this.ob?Vg(this):this.ma&&this.ua(\"unauth\",{},function(){});if(a&&40===a.length||Pc(a))this.f(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.td=3E4};function Vg(a){if(a.ma&&a.ob){var b=a.ob,c=Oc(b)?\"auth\":\"gauth\",d={cred:b};a.Ge&&(d.authvar=a.Ge);a.ua(c,d,function(c){var d=c.s;c=c.d||\"error\";a.ob===b&&(\"ok\"===d?a.ie=0:Wg(a,d,c))})}}\ng.uf=function(a,b){var c=a.path.toString(),d=a.ja();this.f(\"Unlisten called for \"+c+\" \"+d);H(Sc(a.m)||!S(a.m),\"unlisten() called for non-default but complete query\");if(Ug(this,c,d)&&this.ma){var e=ie(a.m);this.f(\"Unlisten on \"+c+\" for \"+d);c={p:c};b&&(c.q=e,c.t=b);this.ua(\"n\",c)}};g.pe=function(a,b,c){this.ma?Xg(this,\"o\",a,b,c):this.Kc.push({ue:a,action:\"o\",data:b,G:c})};g.cf=function(a,b,c){this.ma?Xg(this,\"om\",a,b,c):this.Kc.push({ue:a,action:\"om\",data:b,G:c})};\ng.xd=function(a,b){this.ma?Xg(this,\"oc\",a,null,b):this.Kc.push({ue:a,action:\"oc\",data:null,G:b})};function Xg(a,b,c,d,e){c={p:c,d:d};a.f(\"onDisconnect \"+b,c);a.ua(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}g.put=function(a,b,c,d){Yg(this,\"p\",a,b,c,d)};g.af=function(a,b,c,d){Yg(this,\"m\",a,b,c,d)};function Yg(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.pa.push({action:b,mf:d,G:e});a.Oc++;b=a.pa.length-1;a.ma?Zg(a,b):a.f(\"Buffering put: \"+c)}\nfunction Zg(a,b){var c=a.pa[b].action,d=a.pa[b].mf,e=a.pa[b].G;a.pa[b].fg=a.ma;a.ua(c,d,function(d){a.f(c+\" response\",d);delete a.pa[b];a.Oc--;0===a.Oc&&(a.pa=[]);e&&e(d.s,d.d)})}g.we=function(a){this.ma&&(a={c:a},this.f(\"reportStats\",a),this.ua(\"s\",a,function(a){\"ok\"!==a.s&&this.f(\"reportStats\",\"Error sending stats: \"+a.d)}))};\ng.wd=function(a){if(\"r\"in a){this.f(\"from server: \"+B(a));var b=a.r,c=this.Gd[b];c&&(delete this.Gd[b],c(a.b))}else{if(\"error\"in a)throw\"A server-side error has occurred: \"+a.error;\"a\"in a&&(b=a.a,a=a.b,this.f(\"handleServerMessage\",b,a),\"d\"===b?this.Gb(a.p,a.d,!1,a.t):\"m\"===b?this.Gb(a.p,a.d,!0,a.t):\"c\"===b?$g(this,a.p,a.q):\"ac\"===b?Wg(this,a.s,a.d):\"sd\"===b?this.xe?this.xe(a):\"msg\"in a&&\"undefined\"!==typeof console&&console.log(\"FIREBASE: \"+a.msg.replace(\"\\n\",\"\\nFIREBASE: \")):zc(\"Unrecognized action received from server: \"+\nB(b)+\"\\nAre you using the latest client?\"))}};g.Lc=function(a,b){this.f(\"connection ready\");this.ma=!0;this.Ac=(new Date).getTime();this.se({serverTimeOffset:a-(new Date).getTime()});this.Cb=b;if(this.Re){var c={};c[\"sdk.js.\"+firebase.SDK_VERSION.replace(/\\./g,\"-\")]=1;qb()?c[\"framework.cordova\"]=1:\"object\"===typeof navigator&&\"ReactNative\"===navigator.product&&(c[\"framework.reactnative\"]=1);this.we(c)}ah(this);this.Re=!1;this.Jc(!0)};\nfunction Rg(a,b){H(!a.Fa,\"Scheduling a connect when we're already connected/ing?\");a.ub&&clearTimeout(a.ub);a.ub=setTimeout(function(){a.ub=null;bh(a)},Math.floor(b))}g.Zf=function(a){a&&!this.Mb&&this.Sa===this.td&&(this.f(\"Window became visible.  Reducing delay.\"),this.Sa=1E3,this.Fa||Rg(this,0));this.Mb=a};g.Yf=function(a){a?(this.f(\"Browser went online.\"),this.Sa=1E3,this.Fa||Rg(this,0)):(this.f(\"Browser went offline.  Killing connection.\"),this.Fa&&this.Fa.close())};\ng.df=function(){this.f(\"data client disconnected\");this.ma=!1;this.Fa=null;for(var a=0;a<this.pa.length;a++){var b=this.pa[a];b&&\"h\"in b.mf&&b.fg&&(b.G&&b.G(\"disconnect\"),delete this.pa[a],this.Oc--)}0===this.Oc&&(this.pa=[]);this.Gd={};ch(this)&&(this.Mb?this.Ac&&(3E4<(new Date).getTime()-this.Ac&&(this.Sa=1E3),this.Ac=null):(this.f(\"Window isn't visible.  Delaying reconnect.\"),this.Sa=this.td,this.ke=(new Date).getTime()),a=Math.max(0,this.Sa-((new Date).getTime()-this.ke)),a*=Math.random(),this.f(\"Trying to reconnect in \"+\na+\"ms\"),Rg(this,a),this.Sa=Math.min(this.td,1.3*this.Sa));this.Jc(!1)};\nfunction bh(a){if(ch(a)){a.f(\"Making a connection attempt\");a.ke=(new Date).getTime();a.Ac=null;var b=q(a.wd,a),c=q(a.Lc,a),d=q(a.df,a),e=a.id+\":\"+Sg++,f=a.Cb,h=!1,k=null,l=function(){k?k.close():(h=!0,d())};a.Fa={close:l,ua:function(a){H(k,\"sendRequest call when we're not connected not allowed.\");k.ua(a)}};var m=a.be;a.be=!1;a.$c.getToken(m).then(function(l){h?E(\"getToken() completed but was canceled\"):(E(\"getToken() completed. Creating connection.\"),a.ob=l&&l.accessToken,k=new Ce(e,a.L,b,c,d,function(b){O(b+\n\" (\"+a.L.toString()+\")\");a.ab(\"server_kill\")},f))}).then(null,function(b){a.f(\"Failed to get token: \"+b);h||l()})}}g.ab=function(a){E(\"Interrupting connection for reason: \"+a);this.qd[a]=!0;this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())};g.kc=function(a){E(\"Resuming connection for reason: \"+a);delete this.qd[a];ya(this.qd)&&(this.Sa=1E3,this.Fa||Rg(this,0))};\nfunction $g(a,b,c){c=c?La(c,function(a){return Gc(a)}).join(\"$\"):\"default\";(a=Ug(a,b,c))&&a.G&&a.G(\"permission_denied\")}function Ug(a,b,c){b=(new L(b)).toString();var d;n(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===ra(a.$[b])&&delete a.$[b]):d=void 0;return d}\nfunction Wg(a,b,c){E(\"Auth token revoked: \"+b+\"/\"+c);a.ob=null;a.be=!0;a.Fa.close();\"invalid_token\"===b&&(a.ie++,3<=a.ie&&(a.Sa=3E4,a=a.$c,b='Provided authentication credentials for the app named \"'+a.oc.name+'\" are invalid. This usually indicates your app was not initialized correctly. ',b=\"credential\"in a.oc.options?b+'Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in a.oc.options?\nb+'Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':b+'Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(b)))}\nfunction ah(a){Vg(a);r(a.$,function(b){r(b,function(b){Tg(a,b)})});for(var b=0;b<a.pa.length;b++)a.pa[b]&&Zg(a,b);for(;a.Kc.length;)b=a.Kc.shift(),Xg(a,b.action,b.ue,b.data,b.G)}function ch(a){var b;b=sf.Vb().hc;return ya(a.qd)&&b};var Y={Mf:function(){re=dd=!0}};Y.forceLongPolling=Y.Mf;Y.Nf=function(){se=!0};Y.forceWebSockets=Y.Nf;Y.Tf=function(){return cd.isAvailable()};Y.isWebSocketsAvailable=Y.Tf;Y.lg=function(a,b){a.u.Ra.xe=b};Y.setSecurityDebugCallback=Y.lg;Y.ze=function(a,b){a.u.ze(b)};Y.stats=Y.ze;Y.Ae=function(a,b){a.u.Ae(b)};Y.statsIncrementCounter=Y.Ae;Y.fd=function(a){return a.u.fd};Y.dataUpdateCount=Y.fd;Y.Sf=function(a,b){a.u.he=b};Y.interceptServerData=Y.Sf;function dh(a){this.wa=Q;this.jb=new Cg;this.Be={};this.ic={};this.Cc=a}function eh(a,b,c,d,e){var f=a.jb,h=e;H(d>f.Bc,\"Stacking an older write on top of newer ones\");n(h)||(h=!0);f.la.push({path:b,Ga:c,Zc:d,visible:h});h&&(f.S=sg(f.S,b,c));f.Bc=d;return e?fh(a,new Ab(ng,b,c)):[]}function gh(a,b,c,d){var e=a.jb;H(d>e.Bc,\"Stacking an older merge on top of newer ones\");e.la.push({path:b,children:c,Zc:d,visible:!0});e.S=tg(e.S,b,c);e.Bc=d;c=bg(c);return fh(a,new Vc(ng,b,c))}\nfunction hh(a,b,c){c=c||!1;var d=Dg(a.jb,b);if(a.jb.Ed(b)){var e=Q;null!=d.Ga?e=e.set(C,!0):db(d.children,function(a,b){e=e.set(new L(a),b)});return fh(a,new mg(d.path,e,c))}return[]}function ih(a,b,c){c=bg(c);return fh(a,new Vc(pg,b,c))}function jh(a,b,c,d){d=kh(a,d);if(null!=d){var e=lh(d);d=e.path;e=e.Hb;b=T(d,b);c=new Ab(new og(!1,!0,e,!0),b,c);return mh(a,d,c)}return[]}\nfunction nh(a,b,c,d){if(d=kh(a,d)){var e=lh(d);d=e.path;e=e.Hb;b=T(d,b);c=bg(c);c=new Vc(new og(!1,!0,e,!0),b,c);return mh(a,d,c)}return[]}\ndh.prototype.Nb=function(a,b){var c=a.path,d=null,e=!1;ig(this.wa,c,function(a,b){var f=T(a,c);d=d||b.hb(f);e=e||null!=zg(b)});var f=this.wa.get(c);f?(e=e||null!=zg(f),d=d||f.hb(C)):(f=new yg,this.wa=this.wa.set(c,f));var h;null!=d?h=!0:(h=!1,d=G,lg(this.wa.subtree(c),function(a,b){var c=b.hb(C);c&&(d=d.T(a,c))}));var k=null!=Bg(f,a);if(!k&&!S(a.m)){var l=oh(a);H(!(l in this.ic),\"View does not exist, but we have a tag\");var m=ph++;this.ic[l]=m;this.Be[\"_\"+m]=l}h=f.Nb(a,b,new Hg(c,this.jb),d,h);k||\ne||(f=Bg(f,a),h=h.concat(qh(this,a,f)));return h};\ndh.prototype.kb=function(a,b,c){var d=a.path,e=this.wa.get(d),f=[];if(e&&(\"default\"===a.ja()||null!=Bg(e,a))){f=e.kb(a,b,c);e.e()&&(this.wa=this.wa.remove(d));e=f.hg;f=f.Kf;b=-1!==Pa(e,function(a){return S(a.m)});var h=gg(this.wa,d,function(a,b){return null!=zg(b)});if(b&&!h&&(d=this.wa.subtree(d),!d.e()))for(var d=rh(d),k=0;k<d.length;++k){var l=d[k],m=l.V,l=sh(this,l);this.Cc.ye(th(m),uh(this,m),l.ld,l.G)}if(!h&&0<e.length&&!c)if(b)this.Cc.Od(th(a),null);else{var u=this;Ja(e,function(a){a.ja();\nvar b=u.ic[oh(a)];u.Cc.Od(th(a),b)})}vh(this,e)}return f};dh.prototype.Aa=function(a,b){var c=this.jb,d=gg(this.wa,a,function(b,c){var d=T(b,a);if(d=c.hb(d))return d});return c.Aa(a,d,b,!0)};function rh(a){return eg(a,function(a,c,d){if(c&&null!=zg(c))return[zg(c)];var e=[];c&&(e=Ag(c));r(d,function(a){e=e.concat(a)});return e})}function vh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!S(d.m)){var d=oh(d),e=a.ic[d];delete a.ic[d];delete a.Be[\"_\"+e]}}}\nfunction th(a){return S(a.m)&&!Sc(a.m)?a.wb():a}function qh(a,b,c){var d=b.path,e=uh(a,b);c=sh(a,c);b=a.Cc.ye(th(b),e,c.ld,c.G);d=a.wa.subtree(d);if(e)H(null==zg(d.value),\"If we're adding a query, it shouldn't be shadowed\");else for(e=eg(d,function(a,b,c){if(!a.e()&&b&&null!=zg(b))return[Qf(zg(b))];var d=[];b&&(d=d.concat(La(Ag(b),function(a){return a.V})));r(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Cc.Od(th(c),uh(a,c));return b}\nfunction sh(a,b){var c=b.V,d=uh(a,c);return{ld:function(){return(b.w()||G).hash()},G:function(b){if(\"ok\"===b){if(d){var f=c.path;if(b=kh(a,d)){var h=lh(b);b=h.path;h=h.Hb;f=T(b,f);f=new Cb(new og(!1,!0,h,!0),f);b=mh(a,b,f)}else b=[]}else b=fh(a,new Cb(pg,c.path));return b}f=\"Unknown Error\";\"too_big\"===b?f=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"==b?f=\"Client doesn't have permission to access the desired data.\":\"unavailable\"==b&&\n(f=\"The service is unavailable\");f=Error(b+\" at \"+c.path.toString()+\": \"+f);f.code=b.toUpperCase();return a.kb(c,null,f)}}}function oh(a){return a.path.toString()+\"$\"+a.ja()}function lh(a){var b=a.indexOf(\"$\");H(-1!==b&&b<a.length-1,\"Bad queryKey.\");return{Hb:a.substr(b+1),path:new L(a.substr(0,b))}}function kh(a,b){var c=a.Be,d=\"_\"+b;return d in c?c[d]:void 0}function uh(a,b){var c=oh(b);return w(a.ic,c)}var ph=1;\nfunction mh(a,b,c){var d=a.wa.get(b);H(d,\"Missing sync point for query tag that we're tracking\");return d.eb(c,new Hg(b,a.jb),null)}function fh(a,b){return wh(a,b,a.wa,null,new Hg(C,a.jb))}function wh(a,b,c,d,e){if(b.path.e())return xh(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.hb(C));var h=[],k=J(b.path),l=b.Mc(k);if((c=c.children.get(k))&&l)var m=d?d.Q(k):null,k=e.n(k),h=h.concat(wh(a,l,c,m,k));f&&(h=h.concat(f.eb(b,e,d)));return h}\nfunction xh(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.hb(C));var h=[];c.children.ha(function(c,f){var m=d?d.Q(c):null,u=e.n(c),z=b.Mc(c);z&&(h=h.concat(xh(a,z,f,m,u)))});f&&(h=h.concat(f.eb(b,e,d)));return h};function Te(a,b,c){this.app=c;var d=new Eb(c);this.L=a;this.Va=$c(a);this.Vc=null;this.ca=new Nb;this.vd=1;this.Ra=null;if(b||0<=(\"object\"===typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Qc(this.L,q(this.Gb,this),d),setTimeout(q(this.Jc,this,!0),0);else{b=c.options.databaseAuthVariableOverride||null;if(null!==b){if(\"object\"!==da(b))throw Error(\"Only objects are supported for option databaseAuthVariableOverride\");\ntry{B(b)}catch(e){throw Error(\"Invalid authOverride provided: \"+e);}}this.va=this.Ra=new Pg(this.L,q(this.Gb,this),q(this.Jc,this),q(this.se,this),d,b)}var f=this;Fb(d,function(a){f.va.kf(a)});this.og=ad(a,q(function(){return new Xc(this.Va,this.va)},this));this.mc=new Jg;this.ge=new Gb;this.pd=new dh({ye:function(a,b,c,d){b=[];c=f.ge.j(a.path);c.e()||(b=fh(f.pd,new Ab(pg,a.path,c)),setTimeout(function(){d(\"ok\")},0));return b},Od:ba});yh(this,\"connected\",!1);this.ia=new mc;this.Ya=new Se(this);this.fd=\n0;this.he=null;this.K=new dh({ye:function(a,b,c,d){f.va.$e(a,c,b,function(b,c){var e=d(b,c);Sb(f.ca,a.path,e)});return[]},Od:function(a,b){f.va.uf(a,b)}})}g=Te.prototype;g.toString=function(){return(this.L.Sc?\"https://\":\"http://\")+this.L.host};g.name=function(){return this.L.ne};function zh(a){a=a.ge.j(new L(\".info/serverTimeOffset\")).H()||0;return(new Date).getTime()+a}function Ah(a){a=a={timestamp:zh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}\ng.Gb=function(a,b,c,d){this.fd++;var e=new L(a);b=this.he?this.he(a,b):b;a=[];d?c?(b=pa(b,function(a){return M(a)}),a=nh(this.K,e,b,d)):(b=M(b),a=jh(this.K,e,b,d)):c?(d=pa(b,function(a){return M(a)}),a=ih(this.K,e,d)):(d=M(b),a=fh(this.K,new Ab(pg,e,d)));d=e;0<a.length&&(d=Bh(this,e));Sb(this.ca,d,a)};g.Jc=function(a){yh(this,\"connected\",a);!1===a&&Ch(this)};g.se=function(a){var b=this;Ic(a,function(a,d){yh(b,d,a)})};\nfunction yh(a,b,c){b=new L(\"/.info/\"+b);c=M(c);var d=a.ge;d.Jd=d.Jd.F(b,c);c=fh(a.pd,new Ab(pg,b,c));Sb(a.ca,b,c)}g.Jb=function(a,b,c,d){this.f(\"set\",{path:a.toString(),value:b,ug:c});var e=Ah(this);b=M(b,c);var e=pc(b,e),f=this.vd++,e=eh(this.K,a,e,f,!0);Ob(this.ca,e);var h=this;this.va.put(a.toString(),b.H(!0),function(b,c){var e=\"ok\"===b;e||O(\"set at \"+a+\" failed: \"+b);e=hh(h.K,f,!e);Sb(h.ca,a,e);Dh(d,b,c)});e=Eh(this,a);Bh(this,e);Sb(this.ca,e,[])};\ng.update=function(a,b,c){this.f(\"update\",{path:a.toString(),value:b});var d=!0,e=Ah(this),f={};r(b,function(a,b){d=!1;var c=M(a);f[b]=pc(c,e)});if(d)E(\"update() called with empty data.  Don't do anything.\"),Dh(c,\"ok\");else{var h=this.vd++,k=gh(this.K,a,f,h);Ob(this.ca,k);var l=this;this.va.af(a.toString(),b,function(b,d){var e=\"ok\"===b;e||O(\"update at \"+a+\" failed: \"+b);var e=hh(l.K,h,!e),f=a;0<e.length&&(f=Bh(l,a));Sb(l.ca,f,e);Dh(c,b,d)});r(b,function(b,c){var d=Eh(l,a.n(c));Bh(l,d)});Sb(this.ca,\na,[])}};function Ch(a){a.f(\"onDisconnectEvents\");var b=Ah(a),c=[];nc(lc(a.ia,b),C,function(b,e){c=c.concat(fh(a.K,new Ab(pg,b,e)));var f=Eh(a,b);Bh(a,f)});a.ia=new mc;Sb(a.ca,C,c)}g.xd=function(a,b){var c=this;this.va.xd(a.toString(),function(d,e){\"ok\"===d&&Ze(c.ia,a);Dh(b,d,e)})};function nf(a,b,c,d){var e=M(c);a.va.pe(b.toString(),e.H(!0),function(c,h){\"ok\"===c&&oc(a.ia,b,e);Dh(d,c,h)})}\nfunction of(a,b,c,d,e){var f=M(c,d);a.va.pe(b.toString(),f.H(!0),function(c,d){\"ok\"===c&&oc(a.ia,b,f);Dh(e,c,d)})}function pf(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(E(\"onDisconnect().update() called with empty data.  Don't do anything.\"),Dh(d,\"ok\")):a.va.cf(b.toString(),c,function(e,f){if(\"ok\"===e)for(var l in c){var m=M(c[l]);oc(a.ia,b.n(l),m)}Dh(d,e,f)})}function Zf(a,b,c){c=\".info\"===J(b.path)?a.pd.Nb(b,c):a.K.Nb(b,c);Qb(a.ca,b.path,c)}g.ab=function(){this.Ra&&this.Ra.ab(\"repo_interrupt\")};\ng.kc=function(){this.Ra&&this.Ra.kc(\"repo_interrupt\")};g.ze=function(a){if(\"undefined\"!==typeof console){a?(this.Vc||(this.Vc=new Mb(this.Va)),a=this.Vc.get()):a=this.Va.get();var b=Ma(ua(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=\" \";console.log(c+d)}}};g.Ae=function(a){Lb(this.Va,a);this.og.rf[a]=!0};g.f=function(a){var b=\"\";this.Ra&&(b=this.Ra.id+\":\");E(b,arguments)};\nfunction Dh(a,b,c){a&&ub(function(){if(\"ok\"==b)a(null);else{var d=(b||\"error\").toUpperCase(),e=d;c&&(e+=\": \"+c);e=Error(e);e.code=d;a(e)}})};function Fh(a,b,c,d,e){function f(){}a.f(\"transaction on \"+b);var h=new U(a,b);h.gc(\"value\",f);c={path:b,update:c,G:d,status:null,ef:rc(),Fe:e,of:0,Rd:function(){h.Ic(\"value\",f)},Td:null,Ba:null,cd:null,dd:null,ed:null};d=a.K.Aa(b,void 0)||G;c.cd=d;d=c.update(d.H());if(n(d)){ef(\"transaction failed: Data returned \",d,c.path);c.status=1;e=Kg(a.mc,b);var k=e.Ca()||[];k.push(c);Lg(e,k);\"object\"===typeof d&&null!==d&&cb(d,\".priority\")?(k=w(d,\".priority\"),H(cf(k),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\")):\nk=(a.K.Aa(b)||G).C().H();e=Ah(a);d=M(d,k);e=pc(d,e);c.dd=d;c.ed=e;c.Ba=a.vd++;c=eh(a.K,b,e,c.Ba,c.Fe);Sb(a.ca,b,c);Gh(a)}else c.Rd(),c.dd=null,c.ed=null,c.G&&(a=new W(c.cd,new U(a,c.path),N),c.G(null,!1,a))}function Gh(a,b){var c=b||a.mc;b||Hh(a,c);if(null!==c.Ca()){var d=Ih(a,c);H(0<d.length,\"Sending zero length transaction queue\");Na(d,function(a){return 1===a.status})&&Jh(a,c.path(),d)}else c.kd()&&c.O(function(b){Gh(a,b)})}\nfunction Jh(a,b,c){for(var d=La(c,function(a){return a.Ba}),e=a.K.Aa(b,d)||G,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];H(1===h.status,\"tryToSendTransactionQueue_: items in queue should all be run.\");h.status=2;h.of++;var k=T(b,h.path),d=d.F(k,h.dd)}d=d.H(!0);a.va.put(b.toString(),d,function(d){a.f(\"transaction put response\",{path:b.toString(),status:d});var e=[];if(\"ok\"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(hh(a.K,c[f].Ba));if(c[f].G){var h=c[f].ed,k=new U(a,c[f].path);d.push(q(c[f].G,\nnull,null,!0,new W(h,k,N)))}c[f].Rd()}Hh(a,Kg(a.mc,b));Gh(a);Sb(a.ca,b,e);for(f=0;f<d.length;f++)ub(d[f])}else{if(\"datastale\"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O(\"transaction at \"+b.toString()+\" failed: \"+d),f=0;f<c.length;f++)c[f].status=5,c[f].Td=d;Bh(a,b)}},e)}function Bh(a,b){var c=Kh(a,b),d=c.path(),c=Ih(a,c);Lh(a,c,d);return d}\nfunction Lh(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ka(b,function(a){return 1===a.status}),f=La(f,function(a){return a.Ba}),h=0;h<b.length;h++){var k=b[h],l=T(c,k.path),m=!1,u;H(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\");if(5===k.status)m=!0,u=k.Td,e=e.concat(hh(a.K,k.Ba,!0));else if(1===k.status)if(25<=k.of)m=!0,u=\"maxretry\",e=e.concat(hh(a.K,k.Ba,!0));else{var z=a.K.Aa(k.path,f)||G;k.cd=z;var F=b[h].update(z.H());n(F)?(ef(\"transaction failed: Data returned \",F,\nk.path),l=M(F),\"object\"===typeof F&&null!=F&&cb(F,\".priority\")||(l=l.fa(z.C())),z=k.Ba,F=Ah(a),F=pc(l,F),k.dd=l,k.ed=F,k.Ba=a.vd++,Qa(f,z),e=e.concat(eh(a.K,k.path,F,k.Ba,k.Fe)),e=e.concat(hh(a.K,z,!0))):(m=!0,u=\"nodata\",e=e.concat(hh(a.K,k.Ba,!0)))}Sb(a.ca,c,e);e=[];m&&(b[h].status=3,setTimeout(b[h].Rd,Math.floor(0)),b[h].G&&(\"nodata\"===u?(k=new U(a,b[h].path),d.push(q(b[h].G,null,null,!1,new W(b[h].cd,k,N)))):d.push(q(b[h].G,null,Error(u),!1,null))))}Hh(a,a.mc);for(h=0;h<d.length;h++)ub(d[h]);Gh(a)}}\nfunction Kh(a,b){for(var c,d=a.mc;null!==(c=J(b))&&null===d.Ca();)d=Kg(d,c),b=D(b);return d}function Ih(a,b){var c=[];Mh(a,b,c);c.sort(function(a,b){return a.ef-b.ef});return c}function Mh(a,b,c){var d=b.Ca();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.O(function(b){Mh(a,b,c)})}function Hh(a,b){var c=b.Ca();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Lg(b,0<c.length?c:null)}b.O(function(b){Hh(a,b)})}\nfunction Eh(a,b){var c=Kh(a,b).path(),d=Kg(a.mc,b);Og(d,function(b){Nh(a,b)});Nh(a,d);Ng(d,function(b){Nh(a,b)});return c}\nfunction Nh(a,b){var c=b.Ca();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(H(f===h-1,\"All SENT items should be at beginning of queue.\"),f=h,c[h].status=4,c[h].Td=\"set\"):(H(1===c[h].status,\"Unexpected transaction status in abort\"),c[h].Rd(),e=e.concat(hh(a.K,c[h].Ba,!0)),c[h].G&&d.push(q(c[h].G,null,Error(\"set\"),!1,null))));-1===f?Lg(b,null):c.length=f+1;Sb(a.ca,b.path(),e);for(h=0;h<d.length;h++)ub(d[h])}};function Ye(){this.lb={};this.wf=!1}Ye.prototype.ab=function(){for(var a in this.lb)this.lb[a].ab()};Ye.prototype.kc=function(){for(var a in this.lb)this.lb[a].kc()};Ye.prototype.ae=function(a){this.wf=a};ca(Ye);Ye.prototype.interrupt=Ye.prototype.ab;Ye.prototype.resume=Ye.prototype.kc;var Z={};Z.nc=Pg;Z.DataConnection=Z.nc;Pg.prototype.ng=function(a,b){this.ua(\"q\",{p:a},b)};Z.nc.prototype.simpleListen=Z.nc.prototype.ng;Pg.prototype.Hf=function(a,b){this.ua(\"echo\",{d:a},b)};Z.nc.prototype.echo=Z.nc.prototype.Hf;Pg.prototype.interrupt=Pg.prototype.ab;Z.zf=Ce;Z.RealTimeConnection=Z.zf;Ce.prototype.sendRequest=Ce.prototype.ua;Ce.prototype.close=Ce.prototype.close;\nZ.Rf=function(a){var b=Pg.prototype.put;Pg.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Pg.prototype.put=b}};Z.hijackHash=Z.Rf;Z.yf=Hb;Z.ConnectionTarget=Z.yf;Z.ja=function(a){return a.ja()};Z.queryIdentifier=Z.ja;Z.Uf=function(a){return a.u.Ra.$};Z.listens=Z.Uf;Z.ae=function(a){Ye.Vb().ae(a)};Z.forceRestClient=Z.ae;Z.Context=Ye;function U(a,b){if(!(a instanceof Te))throw Error(\"new Firebase() no longer supported - use app.database().\");X.call(this,a,b,fe,!1);this.then=void 0;this[\"catch\"]=void 0}la(U,X);g=U.prototype;g.getKey=function(){x(\"Firebase.key\",0,0,arguments.length);return this.path.e()?null:Bd(this.path)};\ng.n=function(a){x(\"Firebase.child\",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof L))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\\/*\\.info(\\/|$)/,\"/\"));lf(\"Firebase.child\",b)}else lf(\"Firebase.child\",a);return new U(this.u,this.path.n(a))};g.getParent=function(){x(\"Firebase.parent\",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.u,a)};\ng.Of=function(){x(\"Firebase.ref\",0,0,arguments.length);for(var a=this;null!==a.getParent();)a=a.getParent();return a};g.Gf=function(){return this.u.Ya};g.set=function(a,b){x(\"Firebase.set\",1,2,arguments.length);mf(\"Firebase.set\",this.path);df(\"Firebase.set\",a,this.path,!1);A(\"Firebase.set\",2,b,!0);var c=new hb;this.u.Jb(this.path,a,null,ib(c,b));return c.ra};\ng.update=function(a,b){x(\"Firebase.update\",1,2,arguments.length);mf(\"Firebase.update\",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[\"\"+d]=a[d];a=c;O(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}gf(\"Firebase.update\",a,this.path);A(\"Firebase.update\",2,b,!0);c=new hb;this.u.update(this.path,a,ib(c,b));return c.ra};\ng.Jb=function(a,b,c){x(\"Firebase.setWithPriority\",2,3,arguments.length);mf(\"Firebase.setWithPriority\",this.path);df(\"Firebase.setWithPriority\",a,this.path,!1);hf(\"Firebase.setWithPriority\",2,b);A(\"Firebase.setWithPriority\",3,c,!0);if(\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Firebase.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var d=new hb;this.u.Jb(this.path,a,b,ib(d,c));return d.ra};\ng.remove=function(a){x(\"Firebase.remove\",0,1,arguments.length);mf(\"Firebase.remove\",this.path);A(\"Firebase.remove\",1,a,!0);return this.set(null,a)};\ng.transaction=function(a,b,c){x(\"Firebase.transaction\",1,3,arguments.length);mf(\"Firebase.transaction\",this.path);A(\"Firebase.transaction\",1,a,!1);A(\"Firebase.transaction\",2,b,!0);if(n(c)&&\"boolean\"!=typeof c)throw Error(y(\"Firebase.transaction\",3,!0)+\"must be a boolean.\");if(\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Firebase.transaction failed: \"+this.getKey()+\" is a read-only object.\";\"undefined\"===typeof c&&(c=!0);var d=new hb;ha(b)&&jb(d.ra);Fh(this.u,this.path,a,function(a,c,h){a?\nd.reject(a):d.resolve(new pb(c,h));ha(b)&&b(a,c,h)},c);return d.ra};g.kg=function(a,b){x(\"Firebase.setPriority\",1,2,arguments.length);mf(\"Firebase.setPriority\",this.path);hf(\"Firebase.setPriority\",1,a);A(\"Firebase.setPriority\",2,b,!0);var c=new hb;this.u.Jb(this.path.n(\".priority\"),a,null,ib(c,b));return c.ra};\ng.push=function(a,b){x(\"Firebase.push\",0,2,arguments.length);mf(\"Firebase.push\",this.path);df(\"Firebase.push\",a,this.path,!0);A(\"Firebase.push\",2,b,!0);var c=zh(this.u),d=uf(c),c=this.n(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.n(d)});c.then=q(f.then,f);c[\"catch\"]=q(f.then,f,void 0);ha(b)&&jb(f)}return c};g.ib=function(){mf(\"Firebase.onDisconnect\",this.path);return new V(this.u,this.path)};U.prototype.child=U.prototype.n;U.prototype.set=U.prototype.set;U.prototype.update=U.prototype.update;\nU.prototype.setWithPriority=U.prototype.Jb;U.prototype.remove=U.prototype.remove;U.prototype.transaction=U.prototype.transaction;U.prototype.setPriority=U.prototype.kg;U.prototype.push=U.prototype.push;U.prototype.onDisconnect=U.prototype.ib;Lc(U.prototype,\"database\",U.prototype.Gf);Lc(U.prototype,\"key\",U.prototype.getKey);Lc(U.prototype,\"parent\",U.prototype.getParent);Lc(U.prototype,\"root\",U.prototype.Of);if(\"undefined\"===typeof firebase)throw Error(\"Cannot install Firebase Database - be sure to load firebase-app.js first.\");\ntry{firebase.INTERNAL.registerService(\"database\",function(a){var b=Ye.Vb(),c=a.options.databaseURL;n(c)||Ac(\"Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().\");var d=Bc(c),c=d.jc;Xe(\"Invalid Firebase Database URL\",d);d.path.e()||Ac(\"Database URL must point to the root of a Firebase Database (not including a child path).\");(d=w(b.lb,a.name))&&Ac(\"FIREBASE INTERNAL ERROR: Database initialized multiple times.\");d=new Te(c,b.wf,a);b.lb[a.name]=\nd;return d.Ya},{Reference:U,Query:X,Database:Se,enableLogging:xc,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:Ve})}catch(Oh){Ac(\"Failed to register the Firebase Database Service (\"+Oh+\")\")};})();\n\n}).call(global);\nmodule.exports = firebase.database;\n","/**\n *  Firebase libraries for browser - npm package.\n *\n * Usage:\n *\n *   firebase = require('firebase');\n */\nvar firebase = require('./app');\nrequire('./auth');\nrequire('./database');\nrequire('./storage');\nrequire('./messaging');\nmodule.exports = firebase;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.3\n    Build: 3.6.3-rc.6\n    Terms: https://firebase.google.com/terms/ */\n(function(){var e=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]},g=this,h=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=\ntypeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},k=function(a,b){function c(){}c.prototype=b.prototype;a.ga=b.prototype;a.prototype=new c;a.ca=function(a,c,p){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];\nreturn b.prototype[c].apply(a,d)}};var l={c:\"only-available-in-window\",o:\"only-available-in-sw\",O:\"should-be-overriden\",g:\"bad-sender-id\",C:\"incorrect-gcm-sender-id\",M:\"permission-default\",L:\"permission-blocked\",U:\"unsupported-browser\",G:\"notifications-blocked\",w:\"failed-serviceworker-registration\",h:\"sw-registration-expected\",B:\"get-subscription-failed\",F:\"invalid-saved-token\",l:\"sw-reg-redundant\",P:\"token-subscribe-failed\",S:\"token-subscribe-no-token\",R:\"token-subscribe-no-push-set\",V:\"use-sw-before-get-token\",D:\"invalid-delete-token\",\nv:\"delete-token-not-found\",s:\"bg-handler-function-expected\",K:\"no-window-client-to-msg\",T:\"unable-to-resubscribe\",I:\"no-fcm-token-for-resubscribe\",A:\"failed-to-delete-token\",J:\"no-sw-in-reg\"},n={},q=(n[l.c]=\"This method is available in a Window context.\",n[l.o]=\"This method is available in a service worker context.\",n[l.O]=\"This method should be overriden by extended classes.\",n[l.g]=\"Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().\",n[l.M]=\n\"The required permissions were not granted and dismissed instead.\",n[l.L]=\"The required permissions were not granted and blocked instead.\",n[l.U]=\"This browser doesn't support the API's required to use the firebase SDK.\",n[l.G]=\"Notifications have been blocked.\",n[l.w]=\"We are unable to register the default service worker. {$browserErrorMessage}\",n[l.h]=\"A service worker registration was the expected input.\",n[l.B]=\"There was an error when trying to get any existing Push Subscriptions.\",n[l.F]=\"Unable to access details of the saved token.\",\nn[l.l]=\"The service worker being used for push was made redundant.\",n[l.P]=\"A problem occured while subscribing the user to FCM: {$message}\",n[l.S]=\"FCM returned no token when subscribing the user to push.\",n[l.R]=\"FCM returned an invalid response when getting an FCM token.\",n[l.V]=\"You must call useServiceWorker() before calling getToken() to ensure your service worker is used.\",n[l.D]=\"You must pass a valid token into deleteToken(), i.e. the token from getToken().\",n[l.v]=\"The deletion attempt for token could not be performed as the token was not found.\",\nn[l.s]=\"The input to setBackgroundMessageHandler() must be a function.\",n[l.K]=\"An attempt was made to message a non-existant window client.\",n[l.T]=\"There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}\",n[l.I]=\"Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.\",n[l.A]=\"Unable to delete the currently saved token.\",n[l.J]=\"Even though the service worker registration was successful, there was a problem accessing the service worker itself.\",\nn[l.C]=\"Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.\",n);var r={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])};var t={m:\"firebase-messaging-msg-type\",u:\"firebase-messaging-msg-data\"},u={N:\"push-msg-received\",H:\"notification-clicked\"},w=function(a,b){var c={};return c[t.m]=a,c[t.u]=b,c};var x=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};k(x,Error);var y=function(a,b){for(var c=a.split(\"%s\"),d=\"\",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join(\"%s\")};var z=function(a,b){b.unshift(a);x.call(this,y.apply(null,b));b.shift()};k(z,x);var A=function(a,b,c){if(!a){var d=\"Assertion failed\";if(b)var d=d+(\": \"+b),f=Array.prototype.slice.call(arguments,2);throw new z(\"\"+d,f||[]);}};var B=null;var D=function(a){a=new Uint8Array(a);var b=h(a);A(\"array\"==b||\"object\"==b&&\"number\"==typeof a.length,\"encodeByteArray takes an array as a parameter\");if(!B)for(B={},b=0;65>b;b++)B[b]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(b);for(var b=B,c=[],d=0;d<a.length;d+=3){var f=a[d],p=d+1<a.length,m=p?a[d+1]:0,C=d+2<a.length,v=C?a[d+2]:0,P=f>>2,f=(f&3)<<4|m>>4,m=(m&15)<<2|v>>6,v=v&63;C||(v=64,p||(m=64));c.push(b[P],b[f],b[m],b[v])}return c.join(\"\").replace(/\\+/g,\"-\").replace(/\\//g,\n\"_\").replace(/=+$/,\"\")};var E=new firebase.INTERNAL.ErrorFactory(\"messaging\",\"Messaging\",q),F=function(){this.a=null},G=function(a){if(a.a)return a.a;a.a=new Promise(function(a,c){var b=g.indexedDB.open(\"fcm_token_details_db\",1);b.onerror=function(a){c(a.target.error)};b.onsuccess=function(b){a(b.target.result)};b.onupgradeneeded=function(a){a=a.target.result.createObjectStore(\"fcm_token_object_Store\",{keyPath:\"swScope\"});a.createIndex(\"fcmSenderId\",\"fcmSenderId\",{unique:!1});a.createIndex(\"fcmToken\",\"fcmToken\",{unique:!0})}});\nreturn a.a},H=function(a){a.a?a.a.then(function(b){b.close();a.a=null}):Promise.resolve()},I=function(a,b){return G(a).then(function(a){return new Promise(function(c,f){var d=a.transaction([\"fcm_token_object_Store\"]).objectStore(\"fcm_token_object_Store\").index(\"fcmToken\").get(b);d.onerror=function(a){f(a.target.error)};d.onsuccess=function(a){c(a.target.result)}})})},J=function(a,b){return G(a).then(function(a){return new Promise(function(c,f){var d=[],m=a.transaction([\"fcm_token_object_Store\"]).objectStore(\"fcm_token_object_Store\").openCursor();\nm.onerror=function(a){f(a.target.error)};m.onsuccess=function(a){(a=a.target.result)?(a.value.fcmSenderId===b&&d.push(a.value),a.continue()):c(d)}})})},K=function(a,b,c){var d=D(b.getKey(\"p256dh\")),f=D(b.getKey(\"auth\"));a=\"authorized_entity=\"+a+\"&\"+(\"endpoint=\"+b.endpoint+\"&\")+(\"encryption_key=\"+d+\"&\")+(\"encryption_auth=\"+f);c&&(a+=\"&pushSet=\"+c);c=new Headers;c.append(\"Content-Type\",\"application/x-www-form-urlencoded\");return fetch(\"https://fcm.googleapis.com/fcm/connect/subscribe\",{method:\"POST\",\nheaders:c,body:a}).then(function(a){return a.json()}).then(function(a){if(a.error)throw E.create(l.P,{message:a.error.message});if(!a.token)throw E.create(l.S);if(!a.pushSet)throw E.create(l.R);return{token:a.token,pushSet:a.pushSet}})},L=function(a,b,c,d,f,p){var m={swScope:c.scope,endpoint:d.endpoint,auth:D(d.getKey(\"auth\")),p256dh:D(d.getKey(\"p256dh\")),fcmToken:f,fcmPushSet:p,fcmSenderId:b};return G(a).then(function(a){return new Promise(function(b,c){var d=a.transaction([\"fcm_token_object_Store\"],\n\"readwrite\").objectStore(\"fcm_token_object_Store\").put(m);d.onerror=function(a){c(a.target.error)};d.onsuccess=function(){b()}})})};\nF.prototype.X=function(a,b){return b instanceof ServiceWorkerRegistration?\"string\"!==typeof a||0===a.length?Promise.reject(E.create(l.g)):J(this,a).then(function(c){if(0!==c.length){var d=c.findIndex(function(c){return b.scope===c.swScope&&a===c.fcmSenderId});if(-1!==d)return c[d]}}).then(function(a){if(a)return b.pushManager.getSubscription().catch(function(){throw E.create(l.B);}).then(function(b){var c;if(c=b)c=b.endpoint===a.endpoint&&D(b.getKey(\"auth\"))===a.auth&&D(b.getKey(\"p256dh\"))===a.p256dh;\nif(c)return a.fcmToken})}):Promise.reject(E.create(l.h))};F.prototype.getSavedToken=F.prototype.X;F.prototype.W=function(a,b){var c=this;return\"string\"!==typeof a||0===a.length?Promise.reject(E.create(l.g)):b instanceof ServiceWorkerRegistration?b.pushManager.getSubscription().then(function(a){return a?a:b.pushManager.subscribe(r)}).then(function(d){return K(a,d).then(function(f){return L(c,a,b,d,f.token,f.pushSet).then(function(){return f.token})})}):Promise.reject(E.create(l.h))};\nF.prototype.createToken=F.prototype.W;F.prototype.deleteToken=function(a){var b=this;return\"string\"!==typeof a||0===a.length?Promise.reject(E.create(l.D)):I(this,a).then(function(a){if(!a)throw E.create(l.v);return G(b).then(function(b){return new Promise(function(c,d){var f=b.transaction([\"fcm_token_object_Store\"],\"readwrite\").objectStore(\"fcm_token_object_Store\").delete(a.swScope);f.onerror=function(a){d(a.target.error)};f.onsuccess=function(b){0===b.target.result?d(E.create(l.A)):c(a)}})})})};var M=function(a){var b=this;this.a=new firebase.INTERNAL.ErrorFactory(\"messaging\",\"Messaging\",q);if(!a.options.messagingSenderId||\"string\"!==typeof a.options.messagingSenderId)throw this.a.create(l.g);this.Z=a.options.messagingSenderId;this.f=new F;this.app=a;this.INTERNAL={};this.INTERNAL.delete=function(){return b.delete}};\nM.prototype.getToken=function(){var a=this,b=Notification.permission;return\"granted\"!==b?\"denied\"===b?Promise.reject(this.a.create(l.G)):Promise.resolve(null):this.i().then(function(b){return a.f.X(a.Z,b).then(function(c){return c?c:a.f.W(a.Z,b)})})};M.prototype.getToken=M.prototype.getToken;M.prototype.deleteToken=function(a){var b=this;return this.f.deleteToken(a).then(function(){return b.i()}).then(function(a){return a?a.pushManager.getSubscription():null}).then(function(a){if(a)return a.unsubscribe()})};\nM.prototype.deleteToken=M.prototype.deleteToken;M.prototype.i=function(){throw this.a.create(l.O);};M.prototype.requestPermission=function(){throw this.a.create(l.c);};M.prototype.useServiceWorker=function(){throw this.a.create(l.c);};M.prototype.useServiceWorker=M.prototype.useServiceWorker;M.prototype.onMessage=function(){throw this.a.create(l.c);};M.prototype.onMessage=M.prototype.onMessage;M.prototype.onTokenRefresh=function(){throw this.a.create(l.c);};M.prototype.onTokenRefresh=M.prototype.onTokenRefresh;\nM.prototype.setBackgroundMessageHandler=function(){throw this.a.create(l.o);};M.prototype.setBackgroundMessageHandler=M.prototype.setBackgroundMessageHandler;M.prototype.delete=function(){H(this.f)};var N=self,S=function(a){M.call(this,a);var b=this;this.a=new firebase.INTERNAL.ErrorFactory(\"messaging\",\"Messaging\",q);N.addEventListener(\"push\",function(a){return O(b,a)},!1);N.addEventListener(\"pushsubscriptionchange\",function(a){return Q(b,a)},!1);N.addEventListener(\"notificationclick\",function(a){return R(b,a)},!1);this.b=null};e(S,M);\nvar O=function(a,b){var c;try{c=b.data.json()}catch(f){return}var d=T().then(function(b){if(b){if(c.notification||a.b)return U(a,c)}else{if((b=c)&&\"object\"===typeof b.notification){var d=Object.assign({},b.notification),f={};d.data=(f.FCM_MSG=b,f);b=d}else b=void 0;if(b)return N.registration.showNotification(b.title||\"\",b);if(a.b)return a.b(c)}});b.waitUntil(d)},Q=function(a,b){var c=a.getToken().then(function(b){if(!b)throw a.a.create(l.I);var c=a.f;return I(c,b).then(function(b){if(!b)throw a.a.create(l.F);\nreturn N.registration.pushManager.subscribe(r).then(function(a){return K(b.ea,a,b.da)}).catch(function(d){return c.deleteToken(b.fa).then(function(){throw a.a.create(l.T,{message:d});})})})});b.waitUntil(c)},R=function(a,b){if(b.notification&&b.notification.data&&b.notification.data.FCM_MSG){b.stopImmediatePropagation();b.notification.close();var c=b.notification.data.FCM_MSG,d=c.notification.click_action;if(d){var f=V(d).then(function(a){return a?a:N.clients.openWindow(d)}).then(function(b){if(b)return delete c.notification,\nW(a,b,w(u.H,c))});b.waitUntil(f)}}};S.prototype.setBackgroundMessageHandler=function(a){if(a&&\"function\"!==typeof a)throw this.a.create(l.s);this.b=a};S.prototype.setBackgroundMessageHandler=S.prototype.setBackgroundMessageHandler;\nvar V=function(a){var b=(new URL(a)).href;return N.clients.matchAll({type:\"window\",includeUncontrolled:!0}).then(function(a){for(var c=null,f=0;f<a.length;f++)if((new URL(a[f].url)).href===b){c=a[f];break}if(c)return c.focus(),c})},W=function(a,b,c){return new Promise(function(d,f){if(!b)return f(a.a.create(l.K));b.postMessage(c);d()})},T=function(){return N.clients.matchAll({type:\"window\",includeUncontrolled:!0}).then(function(a){return a.some(function(a){return\"visible\"===a.visibilityState})})},\nU=function(a,b){return N.clients.matchAll({type:\"window\",includeUncontrolled:!0}).then(function(c){var d=w(u.N,b);return Promise.all(c.map(function(b){return W(a,b,d)}))})};S.prototype.i=function(){return Promise.resolve(N.registration)};var Y=function(a){M.call(this,a);var b=this;this.Y=null;this.$=firebase.INTERNAL.createSubscribe(function(a){b.Y=a});this.ba=null;this.aa=firebase.INTERNAL.createSubscribe(function(a){b.ba=a});X(this)};e(Y,M);\nY.prototype.getToken=function(){var a=this;return\"serviceWorker\"in navigator&&\"PushManager\"in window&&\"Notification\"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty(\"showNotification\")&&PushSubscription.prototype.hasOwnProperty(\"getKey\")?aa(this).then(function(){return M.prototype.getToken.call(a)}):Promise.reject(this.a.create(l.U))};Y.prototype.getToken=Y.prototype.getToken;\nvar aa=function(a){if(a.j)return a.j;var b=document.querySelector('link[rel=\"manifest\"]');b?a.j=fetch(b.href).then(function(a){return a.json()}).catch(function(){return Promise.resolve()}).then(function(b){if(b&&b.gcm_sender_id&&\"103953800507\"!==b.gcm_sender_id)throw a.a.create(l.C);}):a.j=Promise.resolve();return a.j};\nY.prototype.requestPermission=function(){var a=this;return\"granted\"===Notification.permission?Promise.resolve():new Promise(function(b,c){var d=function(d){return\"granted\"===d?b():\"denied\"===d?c(a.a.create(l.L)):c(a.a.create(l.M))},f=Notification.requestPermission(function(a){f||d(a)});f&&f.then(d)})};Y.prototype.requestPermission=Y.prototype.requestPermission;\nY.prototype.useServiceWorker=function(a){if(!(a instanceof ServiceWorkerRegistration))throw this.a.create(l.h);if(\"undefined\"!==typeof this.b)throw this.a.create(l.V);this.b=a};Y.prototype.useServiceWorker=Y.prototype.useServiceWorker;Y.prototype.onMessage=function(a,b,c){return this.$(a,b,c)};Y.prototype.onMessage=Y.prototype.onMessage;Y.prototype.onTokenRefresh=function(a,b,c){return this.aa(a,b,c)};Y.prototype.onTokenRefresh=Y.prototype.onTokenRefresh;\nvar Z=function(a,b){var c=b.installing||b.waiting||b.active;return new Promise(function(d,f){if(c)if(\"activated\"===c.state)d(b);else if(\"redundant\"===c.state)f(a.a.create(l.l));else{var p=function(){if(\"activated\"===c.state)d(b);else if(\"redundant\"===c.state)f(a.a.create(l.l));else return;c.removeEventListener(\"statechange\",p)};c.addEventListener(\"statechange\",p)}else f(a.a.create(l.J))})};\nY.prototype.i=function(){var a=this;if(this.b)return Z(this,this.b);this.b=null;return navigator.serviceWorker.register(\"/firebase-messaging-sw.js\",{scope:\"/firebase-cloud-messaging-push-scope\"}).catch(function(b){throw a.a.create(l.w,{browserErrorMessage:b.message});}).then(function(b){return Z(a,b).then(function(){a.b=b;b.update();return b})})};\nvar X=function(a){\"serviceWorker\"in navigator&&navigator.serviceWorker.addEventListener(\"message\",function(b){if(b.data&&b.data[t.m])switch(b=b.data,b[t.m]){case u.N:case u.H:a.Y.next(b[t.u])}},!1)};if(!(firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService))throw Error(\"Cannot install Firebase Messaging - be sure to load firebase-app.js first.\");firebase.INTERNAL.registerService(\"messaging\",function(a){return self&&\"ServiceWorkerGlobalScope\"in self?new S(a):new Y(a)},{Messaging:Y});}).call(this);\n}).call(global);\nmodule.exports = firebase.messaging;\n","var firebase = require('./app');\n(function(){\n/*! @license Firebase v3.6.3\n    Build: 3.6.3-rc.6\n    Terms: https://firebase.google.com/terms/ */\n(function(){var k,l=this,n=function(a){return void 0!==a},aa=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&\n!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},p=function(a){return\"string\"==typeof a},ba=function(a,b){function c(){}c.prototype=b.prototype;a.sa=b.prototype;a.prototype=new c;a.ra=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var ca=function(a,b,c){function d(){z||(z=!0,b.apply(null,arguments))}function e(b){m=setTimeout(function(){m=null;a(f,2===C)},b)}function f(a,b){if(!z)if(a)d.apply(null,arguments);else if(2===C||B)d.apply(null,arguments);else{64>h&&(h*=2);var c;1===C?(C=2,c=0):c=1E3*(h+Math.random());e(c)}}function g(a){Na||(Na=!0,z||(null!==m?(a||(C=2),clearTimeout(m),e(0)):a||(C=1)))}var h=1,m=null,B=!1,C=0,z=!1,Na=!1;e(0);setTimeout(function(){B=!0;g(!0)},c);return g};var q=\"https://firebasestorage.googleapis.com\";var r=function(a,b){this.code=\"storage/\"+a;this.message=\"Firebase Storage: \"+b;this.serverResponse=null;this.name=\"FirebaseError\"};ba(r,Error);\nvar da=function(){return new r(\"unknown\",\"An unknown error occurred, please check the error payload for server response.\")},ea=function(){return new r(\"canceled\",\"User canceled the upload/download.\")},fa=function(){return new r(\"cannot-slice-blob\",\"Cannot slice blob for upload. Please retry the upload.\")},ga=function(a,b,c){return new r(\"invalid-argument\",\"Invalid argument in `\"+b+\"` at index \"+a+\": \"+c)},ha=function(){return new r(\"app-deleted\",\"The Firebase app was deleted.\")},t=function(a,b){return new r(\"invalid-format\",\n\"String does not match format '\"+a+\"': \"+b)},ia=function(a){throw new r(\"internal-error\",\"Internal error: \"+a);};var ja=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},ka=function(a){var b={};ja(a,function(a,d){b[a]=d});return b};var la=function(a){if(\"undefined\"!==typeof firebase)return new firebase.Promise(a);throw Error(\"Error in Firebase Storage - be sure to load firebase-app.js first.\");};var u=function(a,b,c,d){this.h=a;this.b={};this.method=b;this.headers={};this.body=null;this.j=c;this.l=this.a=null;this.c=[200];this.g=[];this.timeout=d;this.f=!0};var ma={STATE_CHANGED:\"state_changed\"},v={RUNNING:\"running\",PAUSED:\"paused\",SUCCESS:\"success\",CANCELED:\"canceled\",ERROR:\"error\"},na=function(a){switch(a){case \"running\":case \"pausing\":case \"canceling\":return\"running\";case \"paused\":return\"paused\";case \"success\":return\"success\";case \"canceled\":return\"canceled\";case \"error\":return\"error\";default:return\"error\"}};var w=function(a){return n(a)&&null!==a},oa=function(a){return\"string\"===typeof a||a instanceof String},pa=function(){return\"undefined\"!==typeof Blob};var qa=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,qa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};ba(qa,Error);var sa=function(a,b){var c=ra;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var ta=function(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")},ua=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},va=function(a,b){return a<b?-1:a>b?1:0};var x=function(a){return function(){var b=[];Array.prototype.push.apply(b,arguments);firebase.Promise.resolve(!0).then(function(){a.apply(null,b)})}};var y=function(a,b){this.bucket=a;this.path=b},wa=function(a){var b=encodeURIComponent;return\"/b/\"+b(a.bucket)+\"/o/\"+b(a.path)},xa=function(a){for(var b=null,c=[{K:/^gs:\\/\\/([A-Za-z0-9.\\-]+)(\\/(.*))?$/i,G:{bucket:1,path:3},J:function(a){\"/\"===a.path.charAt(a.path.length-1)&&(a.path=a.path.slice(0,-1))}},{K:/^https?:\\/\\/firebasestorage\\.googleapis\\.com\\/v[A-Za-z0-9_]+\\/b\\/([A-Za-z0-9.\\-]+)\\/o(\\/([^?#]*).*)?$/i,G:{bucket:1,path:3},J:function(a){a.path=decodeURIComponent(a.path)}}],d=0;d<c.length;d++){var e=\nc[d],f=e.K.exec(a);if(f){b=f[e.G.bucket];(f=f[e.G.path])||(f=\"\");b=new y(b,f);e.J(b);break}}if(null==b)throw new r(\"invalid-url\",\"Invalid URL '\"+a+\"'.\");return b};var ya=function(a,b,c){\"function\"==aa(a)||w(b)||w(c)?(this.c=a,this.a=b||null,this.b=c||null):(this.c=a.next||null,this.a=a.error||null,this.b=a.complete||null)};var A={RAW:\"raw\",BASE64:\"base64\",BASE64URL:\"base64url\",DATA_URL:\"data_url\"},za=function(a){switch(a){case \"raw\":case \"base64\":case \"base64url\":case \"data_url\":break;default:throw\"Expected one of the event types: [raw, base64, base64url, data_url].\";}},Aa=function(a,b){this.b=a;this.a=b||null},Ea=function(a,b){switch(a){case \"raw\":return new Aa(Ba(b));case \"base64\":case \"base64url\":return new Aa(Ca(a,b));case \"data_url\":return a=new Da(b),a=a.a?Ca(\"base64\",a.c):Ba(a.c),new Aa(a,(new Da(b)).b)}throw da();\n},Ba=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else if(2047>=d)b.push(192|d>>6,128|d&63);else if(55296==(d&64512))if(c<a.length-1&&56320==(a.charCodeAt(c+1)&64512)){var e=a.charCodeAt(++c),d=65536|(d&1023)<<10|e&1023;b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|d&63)}else b.push(239,191,189);else 56320==(d&64512)?b.push(239,191,189):b.push(224|d>>12,128|d>>6&63,128|d&63)}return new Uint8Array(b)},Ca=function(a,b){switch(a){case \"base64\":var c=-1!==b.indexOf(\"-\"),\nd=-1!==b.indexOf(\"_\");if(c||d)throw t(a,\"Invalid character '\"+(c?\"-\":\"_\")+\"' found: is it base64url encoded?\");break;case \"base64url\":c=-1!==b.indexOf(\"+\");d=-1!==b.indexOf(\"/\");if(c||d)throw t(a,\"Invalid character '\"+(c?\"+\":\"/\")+\"' found: is it base64 encoded?\");b=b.replace(/-/g,\"+\").replace(/_/g,\"/\")}var e;try{e=atob(b)}catch(f){throw t(a,\"Invalid character found\");}a=new Uint8Array(e.length);for(b=0;b<e.length;b++)a[b]=e.charCodeAt(b);return a},Da=function(a){var b=a.match(/^data:([^,]+)?,/);if(null===\nb)throw t(\"data_url\",\"Must be formatted 'data:[<mediatype>][;base64],<data>\");b=b[1]||null;this.a=!1;this.b=null;if(null!=b){var c=b.length-7;this.b=(this.a=0<=c&&b.indexOf(\";base64\",c)==c)?b.substring(0,b.length-7):b}this.c=a.substring(a.indexOf(\",\")+1)};var Fa=function(a){var b=encodeURIComponent,c=\"?\";ja(a,function(a,e){a=b(a)+\"=\"+b(e);c=c+a+\"&\"});return c=c.slice(0,-1)};var Ga=function(){var a=this;this.a=new XMLHttpRequest;this.c=0;this.f=la(function(b){a.a.addEventListener(\"abort\",function(){a.c=2;b(a)});a.a.addEventListener(\"error\",function(){a.c=1;b(a)});a.a.addEventListener(\"load\",function(){b(a)})});this.b=!1},Ha=function(a,b,c,d,e){if(a.b)throw ia(\"cannot .send() more than once\");a.b=!0;a.a.open(c,b,!0);w(e)&&ja(e,function(b,c){a.a.setRequestHeader(b,c.toString())});w(d)?a.a.send(d):a.a.send();return a.f},Ia=function(a){if(!a.b)throw ia(\"cannot .getErrorCode() before sending\");\nreturn a.c},D=function(a){if(!a.b)throw ia(\"cannot .getStatus() before sending\");try{return a.a.status}catch(b){return-1}},Ja=function(a){if(!a.b)throw ia(\"cannot .getResponseText() before sending\");return a.a.responseText};Ga.prototype.abort=function(){this.a.abort()};var E=function(a,b,c,d,e,f){this.b=a;this.h=b;this.f=c;this.a=d;this.g=e;this.c=f};k=E.prototype;k.V=function(){return this.b};k.qa=function(){return this.h};k.na=function(){return this.f};k.ia=function(){return this.a};k.W=function(){if(w(this.a)){var a=this.a.downloadURLs;return w(a)&&w(a[0])?a[0]:null}return null};k.pa=function(){return this.g};k.la=function(){return this.c};var Ka=function(a,b){b.unshift(a);qa.call(this,ta.apply(null,b));b.shift()};ba(Ka,qa);var F=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),e=\"Assertion failed\";if(b)var e=e+(\": \"+b),f=d;throw new Ka(\"\"+e,f||[]);}};var G;a:{var La=l.navigator;if(La){var Ma=La.userAgent;if(Ma){G=Ma;break a}}G=\"\"};var Oa=function(){};var H=Array.prototype.indexOf?function(a,b,c){F(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){F(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.filter?function(a,\nb,c){F(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=p(a)?a.split(\"\"):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Ra=Array.prototype.map?function(a,b,c){F(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Sa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];\nreturn c}return[]};var Ta=function(a,b){b=Qa(b.split(\"/\"),function(a){return 0<a.length}).join(\"/\");return 0===a.length?b:a+\"/\"+b},Ua=function(a){var b=a.lastIndexOf(\"/\",a.length-2);return-1===b?a:a.slice(b+1)};var Wa=function(a,b,c,d,e,f,g,h,m,B,C){this.C=a;this.A=b;this.v=c;this.o=d;this.B=e.slice();this.m=f.slice();this.j=this.l=this.c=this.b=null;this.f=this.g=!1;this.s=g;this.h=h;this.D=C;this.w=m;var z=this;this.u=la(function(a,b){z.l=a;z.j=b;Va(z)})},Xa=function(a,b,c){this.b=a;this.c=b;this.a=!!c},Va=function(a){function b(a,b){b?a(!1,new Xa(!1,null,!0)):(b=new Ga,b.a.withCredentials=d.D,d.b=b,Ha(b,d.C,d.A,d.o,d.v).then(function(b){d.b=null;var c=0===Ia(b),e=D(b);if(!(c=!c)){var f=d,c=500<=e&&600>\ne,g;g=0<=H([408,429],e);f=0<=H(f.m,e);c=c||g||f}c?(b=2===Ia(b),a(!1,new Xa(!1,null,b))):(e=0<=H(d.B,e),a(!0,new Xa(e,b)))}))}function c(a,b){var c=d.l;a=d.j;var e=b.c;if(b.b)try{var f=d.s(e,Ja(e));n(f)?c(f):c()}catch(B){a(B)}else null!==e?(b=da(),f=Ja(e),b.serverResponse=f,d.h?a(d.h(e,b)):a(b)):(b=b.a?d.f?ha():ea():new r(\"retry-limit-exceeded\",\"Max retry time for operation exceeded, please try again.\"),a(b))}var d=a;a.g?c(0,new Xa(!1,null,!0)):a.c=ca(b,c,a.w)};Wa.prototype.a=function(){return this.u};\nWa.prototype.cancel=function(a){this.g=!0;this.f=a||!1;null!==this.c&&(0,this.c)(!1);null!==this.b&&this.b.abort()};var Ya=function(a,b,c){var d=Fa(a.b),d=a.h+d,e=a.headers?ka(a.headers):{};null!==b&&0<b.length&&(e.Authorization=\"Firebase \"+b);e[\"X-Firebase-Storage-Version\"]=\"webjs/\"+(\"undefined\"!==typeof firebase?firebase.SDK_VERSION:\"AppManager\");return new Wa(d,a.method,e,a.body,a.c,a.g,a.j,a.a,a.timeout,0,c)};var Za=function(a){this.b=firebase.Promise.reject(a)};Za.prototype.a=function(){return this.b};Za.prototype.cancel=function(){};var $a=function(){this.a={};this.b=Number.MIN_SAFE_INTEGER},ab=function(a,b){function c(){delete e.a[d]}var d=a.b;a.b++;a.a[d]=b;var e=a;b.a().then(c,c)},bb=function(a){ja(a.a,function(a,c){c&&c.cancel(!0)});a.a={}};var cb=-1!=G.indexOf(\"Opera\"),db=-1!=G.indexOf(\"Trident\")||-1!=G.indexOf(\"MSIE\"),eb=-1!=G.indexOf(\"Edge\"),fb=-1!=G.indexOf(\"Gecko\")&&!(-1!=G.toLowerCase().indexOf(\"webkit\")&&-1==G.indexOf(\"Edge\"))&&!(-1!=G.indexOf(\"Trident\")||-1!=G.indexOf(\"MSIE\"))&&-1==G.indexOf(\"Edge\"),gb=-1!=G.toLowerCase().indexOf(\"webkit\")&&-1==G.indexOf(\"Edge\"),hb;\na:{var ib=\"\",jb=function(){var a=G;if(fb)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(eb)return/Edge\\/([\\d\\.]+)/.exec(a);if(db)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(gb)return/WebKit\\/(\\S+)/.exec(a);if(cb)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();jb&&(ib=jb?jb[1]:\"\");if(db){var kb,lb=l.document;kb=lb?lb.documentMode:void 0;if(null!=kb&&kb>parseFloat(ib)){hb=String(kb);break a}}hb=ib}\nvar mb=hb,ra={},nb=function(a){return sa(a,function(){for(var b=0,c=ua(String(mb)).split(\".\"),d=ua(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\";do{g=/(\\d*)(\\D*)(.*)/.exec(g)||[\"\",\"\",\"\",\"\"];h=/(\\d*)(\\D*)(.*)/.exec(h)||[\"\",\"\",\"\",\"\"];if(0==g[0].length&&0==h[0].length)break;b=va(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||va(0==g[2].length,0==h[2].length)||va(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})};var ob=function(a,b,c,d,e){this.a=a;this.g=null;if(null!==this.a&&(a=this.a.options,w(a))){a=a.storageBucket||null;if(null==a)a=null;else{var f=null;try{f=xa(a)}catch(g){}if(null!==f){if(\"\"!==f.path)throw new r(\"invalid-default-bucket\",\"Invalid default bucket '\"+a+\"'.\");a=f.bucket}}this.g=a}this.o=b;this.m=c;this.j=e;this.l=d;this.c=12E4;this.b=6E4;this.h=new $a;this.f=!1},pb=function(a){return null!==a.a&&w(a.a.INTERNAL)&&w(a.a.INTERNAL.getToken)?a.a.INTERNAL.getToken().then(function(a){return w(a)?\na.accessToken:null},function(){return null}):firebase.Promise.resolve(null)};ob.prototype.bucket=function(){if(this.f)throw ha();return this.g};var I=function(a,b,c){if(a.f)return new Za(ha());b=a.m(b,c,null===a.a,a.j);ab(a.h,b);return b};var qb=function(a){var b=l.BlobBuilder||l.WebKitBlobBuilder;if(n(b)){for(var b=new b,c=0;c<arguments.length;c++)b.append(arguments[c]);return b.getBlob()}b=Sa(arguments);c=l.BlobBuilder||l.WebKitBlobBuilder;if(n(c)){for(var c=new c,d=0;d<b.length;d++)c.append(b[d],void 0);b=c.getBlob(void 0)}else if(n(l.Blob))b=new Blob(b,{});else throw Error(\"This browser doesn't seem to support creating Blobs\");return b},rb=function(a,b,c){n(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,\nc):a.slice?fb&&!nb(\"13.0\")||gb&&!nb(\"537.1\")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null};var J=function(a,b){pa()&&a instanceof Blob?(this.i=a,b=a.size,a=a.type):(a instanceof ArrayBuffer?(b?this.i=new Uint8Array(a):(this.i=new Uint8Array(a.byteLength),this.i.set(new Uint8Array(a))),b=this.i.length):(b?this.i=a:(this.i=new Uint8Array(a.length),this.i.set(a)),b=a.length),a=\"\");this.a=b;this.b=a};J.prototype.type=function(){return this.b};\nJ.prototype.slice=function(a,b){if(pa()&&this.i instanceof Blob)return a=rb(this.i,a,b),null===a?null:new J(a);a=new Uint8Array(this.i.buffer,a,b-a);return new J(a,!0)};\nvar sb=function(a){var b=[];Array.prototype.push.apply(b,arguments);if(pa())return b=Ra(b,function(a){return a instanceof J?a.i:a}),new J(qb.apply(null,b));var b=Ra(b,function(a){return oa(a)?Ea(\"raw\",a).b.buffer:a.i.buffer}),c=0;Pa(b,function(a){c+=a.byteLength});var d=new Uint8Array(c),e=0;Pa(b,function(a){a=new Uint8Array(a);for(var b=0;b<a.length;b++)d[e++]=a[b]});return new J(d,!0)};var tb=function(a,b){return b},K=function(a,b,c,d){this.c=a;this.b=b||a;this.writable=!!c;this.a=d||tb},ub=null,vb=function(){if(ub)return ub;var a=[];a.push(new K(\"bucket\"));a.push(new K(\"generation\"));a.push(new K(\"metageneration\"));a.push(new K(\"name\",\"fullPath\",!0));var b=new K(\"name\");b.a=function(a,b){return!oa(b)||2>b.length?b:Ua(b)};a.push(b);b=new K(\"size\");b.a=function(a,b){return w(b)?+b:b};a.push(b);a.push(new K(\"timeCreated\"));a.push(new K(\"updated\"));a.push(new K(\"md5Hash\",null,!0));\na.push(new K(\"cacheControl\",null,!0));a.push(new K(\"contentDisposition\",null,!0));a.push(new K(\"contentEncoding\",null,!0));a.push(new K(\"contentLanguage\",null,!0));a.push(new K(\"contentType\",null,!0));a.push(new K(\"metadata\",\"customMetadata\",!0));a.push(new K(\"downloadTokens\",\"downloadURLs\",!1,function(a,b){if(!(oa(b)&&0<b.length))return[];var c=encodeURIComponent;return Ra(b.split(\",\"),function(b){var d=a.fullPath,d=\"https://firebasestorage.googleapis.com/v0\"+(\"/b/\"+c(a.bucket)+\"/o/\"+c(d));b=Fa({alt:\"media\",\ntoken:b});return d+b})}));return ub=a},wb=function(a,b){Object.defineProperty(a,\"ref\",{get:function(){return b.o(b,new y(a.bucket,a.fullPath))}})},xb=function(a,b){for(var c={},d=b.length,e=0;e<d;e++){var f=b[e];f.writable&&(c[f.c]=a[f.b])}return JSON.stringify(c)},yb=function(a){if(!a||\"object\"!==typeof a)throw\"Expected Metadata object.\";for(var b in a){var c=a[b];if(\"customMetadata\"===b&&\"object\"!==typeof c)throw\"Expected object for 'customMetadata' mapping.\";}};var L=function(a,b,c){for(var d=b.length,e=b.length,f=0;f<b.length;f++)if(b[f].b){d=f;break}if(!(d<=c.length&&c.length<=e))throw d===e?(b=d,d=1===d?\"argument\":\"arguments\"):(b=\"between \"+d+\" and \"+e,d=\"arguments\"),new r(\"invalid-argument-count\",\"Invalid argument count in `\"+a+\"`: Expected \"+b+\" \"+d+\", received \"+c.length+\".\");for(f=0;f<c.length;f++)try{b[f].a(c[f])}catch(g){if(g instanceof Error)throw ga(f,a,g.message);throw ga(f,a,g);}},M=function(a,b){var c=this;this.a=function(b){c.b&&!n(b)||a(b)};\nthis.b=!!b},zb=function(a,b){return function(c){a(c);b(c)}},N=function(a,b){function c(a){if(!(\"string\"===typeof a||a instanceof String))throw\"Expected string.\";}var d;a?d=zb(c,a):d=c;return new M(d,b)},Ab=function(){return new M(function(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||pa()&&a instanceof Blob))throw\"Expected Blob or File.\";})},Bb=function(){return new M(function(a){if(!((\"number\"===typeof a||a instanceof Number)&&0<=a))throw\"Expected a number 0 or greater.\";})},Cb=function(a,\nb){return new M(function(b){if(!(null===b||w(b)&&b instanceof Object))throw\"Expected an Object.\";w(a)&&a(b)},b)},O=function(){return new M(function(a){if(null!==a&&\"function\"!=aa(a))throw\"Expected a Function.\";},!0)};var P=function(a){if(!a)throw da();},Db=function(a,b){return function(c,d){var e;a:{try{e=JSON.parse(d)}catch(h){e=null;break a}c=typeof e;e=\"object\"==c&&null!=e||\"function\"==c?e:null}if(null===e)e=null;else{c={type:\"file\"};d=b.length;for(var f=0;f<d;f++){var g=b[f];c[g.b]=g.a(c,e[g.c])}wb(c,a);e=c}P(null!==e);return e}},Q=function(a){return function(b,c){b=401===D(b)?new r(\"unauthenticated\",\"User is not authenticated, please authenticate using Firebase Authentication and try again.\"):402===D(b)?\nnew r(\"quota-exceeded\",\"Quota for bucket '\"+a.bucket+\"' exceeded, please view quota on https://firebase.google.com/pricing/.\"):403===D(b)?new r(\"unauthorized\",\"User does not have permission to access '\"+a.path+\"'.\"):c;b.serverResponse=c.serverResponse;return b}},Eb=function(a){var b=Q(a);return function(c,d){var e=b(c,d);404===D(c)&&(e=new r(\"object-not-found\",\"Object '\"+a.path+\"' does not exist.\"));e.serverResponse=d.serverResponse;return e}},Fb=function(a,b,c){var d=wa(b);a=new u(q+\"/v0\"+d,\"GET\",\nDb(a,c),a.c);a.a=Eb(b);return a},Gb=function(a,b){var c=wa(b);a=new u(q+\"/v0\"+c,\"DELETE\",function(){},a.c);a.c=[200,204];a.a=Eb(b);return a},Hb=function(a,b,c){c=c?ka(c):{};c.fullPath=a.path;c.size=b.a;c.contentType||(a=b&&b.type()||\"application/octet-stream\",c.contentType=a);return c},Ib=function(a,b,c,d,e){var f=\"/b/\"+encodeURIComponent(b.bucket)+\"/o\",g={\"X-Goog-Upload-Protocol\":\"multipart\"},h;h=\"\";for(var m=0;2>m;m++)h+=Math.random().toString().slice(2);g[\"Content-Type\"]=\"multipart/related; boundary=\"+\nh;e=Hb(b,d,e);m=xb(e,c);d=sb(\"--\"+h+\"\\r\\nContent-Type: application/json; charset=utf-8\\r\\n\\r\\n\"+m+\"\\r\\n--\"+h+\"\\r\\nContent-Type: \"+e.contentType+\"\\r\\n\\r\\n\",d,\"\\r\\n--\"+h+\"--\");if(null===d)throw fa();a=new u(q+\"/v0\"+f,\"POST\",Db(a,c),a.b);a.b={name:e.fullPath};a.headers=g;a.body=d.i;a.a=Q(b);return a},Jb=function(a,b,c,d){this.a=a;this.b=b;this.c=!!c;this.f=d||null},Kb=function(a,b){var c;try{c=a.a.getResponseHeader(\"X-Goog-Upload-Status\")}catch(d){P(!1)}a=0<=H(b||[\"active\"],c);P(a);return c},Lb=function(a,\nb,c,d,e){var f=\"/b/\"+encodeURIComponent(b.bucket)+\"/o\",g=Hb(b,d,e);e={name:g.fullPath};f=q+\"/v0\"+f;d={\"X-Goog-Upload-Protocol\":\"resumable\",\"X-Goog-Upload-Command\":\"start\",\"X-Goog-Upload-Header-Content-Length\":d.a,\"X-Goog-Upload-Header-Content-Type\":g.contentType,\"Content-Type\":\"application/json; charset=utf-8\"};c=xb(g,c);a=new u(f,\"POST\",function(a){Kb(a);var b;try{b=a.a.getResponseHeader(\"X-Goog-Upload-URL\")}catch(B){P(!1)}P(oa(b));return b},a.b);a.b=e;a.headers=d;a.body=c;a.a=Q(b);return a},Mb=\nfunction(a,b,c,d){a=new u(c,\"POST\",function(a){var b=Kb(a,[\"active\",\"final\"]),c;try{c=a.a.getResponseHeader(\"X-Goog-Upload-Size-Received\")}catch(h){P(!1)}a=c;isFinite(a)&&(a=String(a));a=p(a)?/^\\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;P(!isNaN(a));return new Jb(a,d.a,\"final\"===b)},a.b);a.headers={\"X-Goog-Upload-Command\":\"query\"};a.a=Q(b);a.f=!1;return a},Nb=function(a,b,c,d,e,f,g){var h=new Jb(0,0);g?(h.a=g.a,h.b=g.b):(h.a=0,h.b=d.a);if(d.a!==h.b)throw new r(\"server-file-wrong-size\",\"Server recorded incorrect upload file size, please retry the upload.\");\nvar m=g=h.b-h.a;0<e&&(m=Math.min(m,e));var B=h.a;e={\"X-Goog-Upload-Command\":m===g?\"upload, finalize\":\"upload\",\"X-Goog-Upload-Offset\":h.a};g=d.slice(B,B+m);if(null===g)throw fa();c=new u(c,\"POST\",function(a,c){var e=Kb(a,[\"active\",\"final\"]),g=h.a+m,C=d.a,z;\"final\"===e?z=Db(b,f)(a,c):z=null;return new Jb(g,C,\"final\"===e,z)},b.b);c.headers=e;c.body=g.i;c.l=null;c.a=Q(a);c.f=!1;return c};var T=function(a,b,c,d,e,f){this.L=a;this.c=b;this.l=c;this.f=e;this.h=f||null;this.s=d;this.m=0;this.D=this.u=!1;this.B=[];this.S=262144<this.f.a;this.b=\"running\";this.a=this.v=this.g=null;this.j=1;var g=this;this.F=function(a){g.a=null;g.j=1;\"storage/canceled\"===a.code?(g.u=!0,R(g)):(g.g=a,S(g,\"error\"))};this.P=function(a){g.a=null;\"storage/canceled\"===a.code?R(g):(g.g=a,S(g,\"error\"))};this.A=this.o=null;this.C=la(function(a,b){g.o=a;g.A=b;Ob(g)});this.C.then(null,function(){})},Ob=function(a){\"running\"===\na.b&&null===a.a&&(a.S?null===a.v?Pb(a):a.u?Qb(a):a.D?Rb(a):Sb(a):Tb(a))},U=function(a,b){pb(a.c).then(function(c){switch(a.b){case \"running\":b(c);break;case \"canceling\":S(a,\"canceled\");break;case \"pausing\":S(a,\"paused\")}})},Pb=function(a){U(a,function(b){var c=Lb(a.c,a.l,a.s,a.f,a.h);a.a=I(a.c,c,b);a.a.a().then(function(b){a.a=null;a.v=b;a.u=!1;R(a)},this.F)})},Qb=function(a){var b=a.v;U(a,function(c){var d=Mb(a.c,a.l,b,a.f);a.a=I(a.c,d,c);a.a.a().then(function(b){a.a=null;Ub(a,b.a);a.u=!1;b.c&&(a.D=\n!0);R(a)},a.F)})},Sb=function(a){var b=262144*a.j,c=new Jb(a.m,a.f.a),d=a.v;U(a,function(e){var f;try{f=Nb(a.l,a.c,d,a.f,b,a.s,c)}catch(g){a.g=g;S(a,\"error\");return}a.a=I(a.c,f,e);a.a.a().then(function(b){33554432>262144*a.j&&(a.j*=2);a.a=null;Ub(a,b.a);b.c?(a.h=b.f,S(a,\"success\")):R(a)},a.F)})},Rb=function(a){U(a,function(b){var c=Fb(a.c,a.l,a.s);a.a=I(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;S(a,\"success\")},a.P)})},Tb=function(a){U(a,function(b){var c=Ib(a.c,a.l,a.s,a.f,a.h);a.a=I(a.c,c,\nb);a.a.a().then(function(b){a.a=null;a.h=b;Ub(a,a.f.a);S(a,\"success\")},a.F)})},Ub=function(a,b){var c=a.m;a.m=b;a.m>c&&V(a)},S=function(a,b){if(a.b!==b)switch(b){case \"canceling\":a.b=b;null!==a.a&&a.a.cancel();break;case \"pausing\":a.b=b;null!==a.a&&a.a.cancel();break;case \"running\":var c=\"paused\"===a.b;a.b=b;c&&(V(a),Ob(a));break;case \"paused\":a.b=b;V(a);break;case \"canceled\":a.g=ea();a.b=b;V(a);break;case \"error\":a.b=b;V(a);break;case \"success\":a.b=b,V(a)}},R=function(a){switch(a.b){case \"pausing\":S(a,\n\"paused\");break;case \"canceling\":S(a,\"canceled\");break;case \"running\":Ob(a)}};T.prototype.w=function(){return new E(this.m,this.f.a,na(this.b),this.h,this,this.L)};\nT.prototype.M=function(a,b,c,d){function e(a){try{g(a);return}catch(z){}try{if(h(a),!(n(a.next)||n(a.error)||n(a.complete)))throw\"\";}catch(z){throw\"Expected a function or an Object with one of `next`, `error`, `complete` properties.\";}}function f(a){return function(b,c,d){null!==a&&L(\"on\",a,arguments);var e=new ya(b,c,d);Vb(m,e);return function(){var a=m.B,b=H(a,e);0<=b&&(F(null!=a.length),Array.prototype.splice.call(a,b,1))}}}var g=O().a,h=Cb(null,!0).a;L(\"on\",[N(function(){if(\"state_changed\"!==\na)throw\"Expected one of the event types: [state_changed].\";}),Cb(e,!0),O(),O()],arguments);var m=this,B=[Cb(function(a){if(null===a)throw\"Expected a function or an Object with one of `next`, `error`, `complete` properties.\";e(a)}),O(),O()];return n(b)||n(c)||n(d)?f(null)(b,c,d):f(B)};T.prototype.then=function(a,b){return this.C.then(a,b)};\nvar Vb=function(a,b){a.B.push(b);Wb(a,b)},V=function(a){Xb(a);var b=Sa(a.B);Pa(b,function(b){Wb(a,b)})},Xb=function(a){if(null!==a.o){var b=!0;switch(na(a.b)){case \"success\":x(a.o.bind(null,a.w()))();break;case \"canceled\":case \"error\":x(a.A.bind(null,a.g))();break;default:b=!1}b&&(a.o=null,a.A=null)}},Wb=function(a,b){switch(na(a.b)){case \"running\":case \"paused\":null!==b.c&&x(b.c.bind(b,a.w()))();break;case \"success\":null!==b.b&&x(b.b.bind(b))();break;case \"canceled\":case \"error\":null!==b.a&&x(b.a.bind(b,\na.g))();break;default:null!==b.a&&x(b.a.bind(b,a.g))()}};T.prototype.O=function(){L(\"resume\",[],arguments);var a=\"paused\"===this.b||\"pausing\"===this.b;a&&S(this,\"running\");return a};T.prototype.N=function(){L(\"pause\",[],arguments);var a=\"running\"===this.b;a&&S(this,\"pausing\");return a};T.prototype.cancel=function(){L(\"cancel\",[],arguments);var a=\"running\"===this.b||\"pausing\"===this.b;a&&S(this,\"canceling\");return a};var W=function(a,b){this.b=a;if(b)this.a=b instanceof y?b:xa(b);else if(a=a.bucket(),null!==a)this.a=new y(a,\"\");else throw new r(\"no-default-bucket\",\"No default bucket found. Did you set the 'storageBucket' property when initializing the app?\");};W.prototype.toString=function(){L(\"toString\",[],arguments);return\"gs://\"+this.a.bucket+\"/\"+this.a.path};var Yb=function(a,b){return new W(a,b)};k=W.prototype;\nk.H=function(a){L(\"child\",[N()],arguments);var b=Ta(this.a.path,a);return Yb(this.b,new y(this.a.bucket,b))};k.ka=function(){var a;a=this.a.path;if(0==a.length)a=null;else{var b=a.lastIndexOf(\"/\");a=-1===b?\"\":a.slice(0,b)}return null===a?null:Yb(this.b,new y(this.a.bucket,a))};k.ma=function(){return Yb(this.b,new y(this.a.bucket,\"\"))};k.U=function(){return this.a.bucket};k.fa=function(){return this.a.path};k.ja=function(){return Ua(this.a.path)};k.oa=function(){return this.b.l};\nk.Z=function(a,b){L(\"put\",[Ab(),new M(yb,!0)],arguments);X(this,\"put\");return new T(this,this.b,this.a,vb(),new J(a),b)};k.$=function(a,b,c){L(\"putString\",[N(),N(za,!0),new M(yb,!0)],arguments);X(this,\"putString\");var d=Ea(w(b)?b:\"raw\",a),e=c?ka(c):{};!w(e.contentType)&&w(d.a)&&(e.contentType=d.a);return new T(this,this.b,this.a,vb(),new J(d.b,!0),e)};k.X=function(){L(\"delete\",[],arguments);X(this,\"delete\");var a=this;return pb(this.b).then(function(b){var c=Gb(a.b,a.a);return I(a.b,c,b).a()})};\nk.I=function(){L(\"getMetadata\",[],arguments);X(this,\"getMetadata\");var a=this;return pb(this.b).then(function(b){var c=Fb(a.b,a.a,vb());return I(a.b,c,b).a()})};k.aa=function(a){L(\"updateMetadata\",[new M(yb,void 0)],arguments);X(this,\"updateMetadata\");var b=this;return pb(this.b).then(function(c){var d=b.b,e=b.a,f=a,g=vb(),h=wa(e),h=q+\"/v0\"+h,f=xb(f,g),d=new u(h,\"PATCH\",Db(d,g),d.c);d.headers={\"Content-Type\":\"application/json; charset=utf-8\"};d.body=f;d.a=Eb(e);return I(b.b,d,c).a()})};\nk.Y=function(){L(\"getDownloadURL\",[],arguments);X(this,\"getDownloadURL\");return this.I().then(function(a){a=a.downloadURLs[0];if(w(a))return a;throw new r(\"no-download-url\",\"The given file does not have any download URLs.\");})};var X=function(a,b){if(\"\"===a.a.path)throw new r(\"invalid-root-operation\",\"The operation '\"+b+\"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').\");};var Y=function(a,b){this.a=new ob(a,function(a,b){return new W(a,b)},Ya,this,w(b)?b:new Oa);this.b=a;this.c=new Zb(this)};k=Y.prototype;k.ba=function(a){L(\"ref\",[N(function(a){if(/^[A-Za-z]+:\\/\\//.test(a))throw\"Expected child path but got a URL, use refFromURL instead.\";},!0)],arguments);var b=new W(this.a);return n(a)?b.H(a):b};\nk.ca=function(a){L(\"refFromURL\",[N(function(a){if(!/^[A-Za-z]+:\\/\\//.test(a))throw\"Expected full URL but got a child path, use ref instead.\";try{xa(a)}catch(c){throw\"Expected valid full URL but got an invalid one.\";}},!1)],arguments);return new W(this.a,a)};k.ha=function(){return this.a.b};k.ea=function(a){L(\"setMaxUploadRetryTime\",[Bb()],arguments);this.a.b=a};k.ga=function(){return this.a.c};k.da=function(a){L(\"setMaxOperationRetryTime\",[Bb()],arguments);this.a.c=a};k.T=function(){return this.b};\nk.R=function(){return this.c};var Zb=function(a){this.a=a};Zb.prototype.b=function(){var a=this.a.a;a.f=!0;a.a=null;bb(a.h)};var Z=function(a,b,c){Object.defineProperty(a,b,{get:c})};W.prototype.toString=W.prototype.toString;W.prototype.child=W.prototype.H;W.prototype.put=W.prototype.Z;W.prototype.putString=W.prototype.$;W.prototype[\"delete\"]=W.prototype.X;W.prototype.getMetadata=W.prototype.I;W.prototype.updateMetadata=W.prototype.aa;W.prototype.getDownloadURL=W.prototype.Y;Z(W.prototype,\"parent\",W.prototype.ka);Z(W.prototype,\"root\",W.prototype.ma);Z(W.prototype,\"bucket\",W.prototype.U);Z(W.prototype,\"fullPath\",W.prototype.fa);\nZ(W.prototype,\"name\",W.prototype.ja);Z(W.prototype,\"storage\",W.prototype.oa);Y.prototype.ref=Y.prototype.ba;Y.prototype.refFromURL=Y.prototype.ca;Z(Y.prototype,\"maxOperationRetryTime\",Y.prototype.ga);Y.prototype.setMaxOperationRetryTime=Y.prototype.da;Z(Y.prototype,\"maxUploadRetryTime\",Y.prototype.ha);Y.prototype.setMaxUploadRetryTime=Y.prototype.ea;Z(Y.prototype,\"app\",Y.prototype.T);Z(Y.prototype,\"INTERNAL\",Y.prototype.R);Zb.prototype[\"delete\"]=Zb.prototype.b;Y.prototype.capi_=function(a){q=a};\nT.prototype.on=T.prototype.M;T.prototype.resume=T.prototype.O;T.prototype.pause=T.prototype.N;T.prototype.cancel=T.prototype.cancel;Z(T.prototype,\"snapshot\",T.prototype.w);Z(E.prototype,\"bytesTransferred\",E.prototype.V);Z(E.prototype,\"totalBytes\",E.prototype.qa);Z(E.prototype,\"state\",E.prototype.na);Z(E.prototype,\"metadata\",E.prototype.ia);Z(E.prototype,\"downloadURL\",E.prototype.W);Z(E.prototype,\"task\",E.prototype.pa);Z(E.prototype,\"ref\",E.prototype.la);ma.STATE_CHANGED=\"state_changed\";\nv.RUNNING=\"running\";v.PAUSED=\"paused\";v.SUCCESS=\"success\";v.CANCELED=\"canceled\";v.ERROR=\"error\";A.RAW=\"raw\";A.BASE64=\"base64\";A.BASE64URL=\"base64url\";A.DATA_URL=\"data_url\";(function(){function a(a){return new Y(a)}var b={TaskState:v,TaskEvent:ma,StringFormat:A,Storage:Y,Reference:W};if(\"undefined\"!==typeof firebase)firebase.INTERNAL.registerService(\"storage\",a,b);else throw Error(\"Cannot install Firebase Storage - be sure to load firebase-app.js first.\");})();}).call(this);\n}).call(global);\nmodule.exports = firebase.storage;\n","// get successful control from form and assemble into object\n// http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2\n\n// types which indicate a submit action and are not successful controls\n// these will be ignored\nvar k_r_submitter = /^(?:submit|button|image|reset|file)$/i;\n\n// node names which could be successful controls\nvar k_r_success_contrls = /^(?:input|select|textarea|keygen)/i;\n\n// Matches bracket notation.\nvar brackets = /(\\[[^\\[\\]]*\\])/g;\n\n// serializes form fields\n// @param form MUST be an HTMLForm element\n// @param options is an optional argument to configure the serialization. Default output\n// with no options specified is a url encoded string\n//    - hash: [true | false] Configure the output type. If true, the output will\n//    be a js object.\n//    - serializer: [function] Optional serializer function to override the default one.\n//    The function takes 3 arguments (result, key, value) and should return new result\n//    hash and url encoded str serializers are provided with this module\n//    - disabled: [true | false]. If true serialize disabled fields.\n//    - empty: [true | false]. If true serialize empty fields\nfunction serialize(form, options) {\n    if (typeof options != 'object') {\n        options = { hash: !!options };\n    }\n    else if (options.hash === undefined) {\n        options.hash = true;\n    }\n\n    var result = (options.hash) ? {} : '';\n    var serializer = options.serializer || ((options.hash) ? hash_serializer : str_serialize);\n\n    var elements = form && form.elements ? form.elements : [];\n\n    //Object store each radio and set if it's empty or not\n    var radio_store = Object.create(null);\n\n    for (var i=0 ; i<elements.length ; ++i) {\n        var element = elements[i];\n\n        // ingore disabled fields\n        if ((!options.disabled && element.disabled) || !element.name) {\n            continue;\n        }\n        // ignore anyhting that is not considered a success field\n        if (!k_r_success_contrls.test(element.nodeName) ||\n            k_r_submitter.test(element.type)) {\n            continue;\n        }\n\n        var key = element.name;\n        var val = element.value;\n\n        // we can't just use element.value for checkboxes cause some browsers lie to us\n        // they say \"on\" for value when the box isn't checked\n        if ((element.type === 'checkbox' || element.type === 'radio') && !element.checked) {\n            val = undefined;\n        }\n\n        // If we want empty elements\n        if (options.empty) {\n            // for checkbox\n            if (element.type === 'checkbox' && !element.checked) {\n                val = '';\n            }\n\n            // for radio\n            if (element.type === 'radio') {\n                if (!radio_store[element.name] && !element.checked) {\n                    radio_store[element.name] = false;\n                }\n                else if (element.checked) {\n                    radio_store[element.name] = true;\n                }\n            }\n\n            // if options empty is true, continue only if its radio\n            if (!val && element.type == 'radio') {\n                continue;\n            }\n        }\n        else {\n            // value-less fields are ignored unless options.empty is true\n            if (!val) {\n                continue;\n            }\n        }\n\n        // multi select boxes\n        if (element.type === 'select-multiple') {\n            val = [];\n\n            var selectOptions = element.options;\n            var isSelectedOptions = false;\n            for (var j=0 ; j<selectOptions.length ; ++j) {\n                var option = selectOptions[j];\n                var allowedEmpty = options.empty && !option.value;\n                var hasValue = (option.value || allowedEmpty);\n                if (option.selected && hasValue) {\n                    isSelectedOptions = true;\n\n                    // If using a hash serializer be sure to add the\n                    // correct notation for an array in the multi-select\n                    // context. Here the name attribute on the select element\n                    // might be missing the trailing bracket pair. Both names\n                    // \"foo\" and \"foo[]\" should be arrays.\n                    if (options.hash && key.slice(key.length - 2) !== '[]') {\n                        result = serializer(result, key + '[]', option.value);\n                    }\n                    else {\n                        result = serializer(result, key, option.value);\n                    }\n                }\n            }\n\n            // Serialize if no selected options and options.empty is true\n            if (!isSelectedOptions && options.empty) {\n                result = serializer(result, key, '');\n            }\n\n            continue;\n        }\n\n        result = serializer(result, key, val);\n    }\n\n    // Check for all empty radio buttons and serialize them with key=\"\"\n    if (options.empty) {\n        for (var key in radio_store) {\n            if (!radio_store[key]) {\n                result = serializer(result, key, '');\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction parse_keys(string) {\n    var keys = [];\n    var prefix = /^([^\\[\\]]*)/;\n    var children = new RegExp(brackets);\n    var match = prefix.exec(string);\n\n    if (match[1]) {\n        keys.push(match[1]);\n    }\n\n    while ((match = children.exec(string)) !== null) {\n        keys.push(match[1]);\n    }\n\n    return keys;\n}\n\nfunction hash_assign(result, keys, value) {\n    if (keys.length === 0) {\n        result = value;\n        return result;\n    }\n\n    var key = keys.shift();\n    var between = key.match(/^\\[(.+?)\\]$/);\n\n    if (key === '[]') {\n        result = result || [];\n\n        if (Array.isArray(result)) {\n            result.push(hash_assign(null, keys, value));\n        }\n        else {\n            // This might be the result of bad name attributes like \"[][foo]\",\n            // in this case the original `result` object will already be\n            // assigned to an object literal. Rather than coerce the object to\n            // an array, or cause an exception the attribute \"_values\" is\n            // assigned as an array.\n            result._values = result._values || [];\n            result._values.push(hash_assign(null, keys, value));\n        }\n\n        return result;\n    }\n\n    // Key is an attribute name and can be assigned directly.\n    if (!between) {\n        result[key] = hash_assign(result[key], keys, value);\n    }\n    else {\n        var string = between[1];\n        // +var converts the variable into a number\n        // better than parseInt because it doesn't truncate away trailing\n        // letters and actually fails if whole thing is not a number\n        var index = +string;\n\n        // If the characters between the brackets is not a number it is an\n        // attribute name and can be assigned directly.\n        if (isNaN(index)) {\n            result = result || {};\n            result[string] = hash_assign(result[string], keys, value);\n        }\n        else {\n            result = result || [];\n            result[index] = hash_assign(result[index], keys, value);\n        }\n    }\n\n    return result;\n}\n\n// Object/hash encoding serializer.\nfunction hash_serializer(result, key, value) {\n    var matches = key.match(brackets);\n\n    // Has brackets? Use the recursive assignment function to walk the keys,\n    // construct any missing objects in the result tree and make the assignment\n    // at the end of the chain.\n    if (matches) {\n        var keys = parse_keys(key);\n        hash_assign(result, keys, value);\n    }\n    else {\n        // Non bracket notation can make assignments directly.\n        var existing = result[key];\n\n        // If the value has been assigned already (for instance when a radio and\n        // a checkbox have the same name attribute) convert the previous value\n        // into an array before pushing into it.\n        //\n        // NOTE: If this requirement were removed all hash creation and\n        // assignment could go through `hash_assign`.\n        if (existing) {\n            if (!Array.isArray(existing)) {\n                result[key] = [ existing ];\n            }\n\n            result[key].push(value);\n        }\n        else {\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\n// urlform encoding serializer\nfunction str_serialize(result, key, value) {\n    // encode newlines as \\r\\n cause the html spec says so\n    value = value.replace(/(\\r)?\\n/g, '\\r\\n');\n    value = encodeURIComponent(value);\n\n    // spaces should be '+' rather than '%20'.\n    value = value.replace(/%20/g, '+');\n    return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + value;\n}\n\nmodule.exports = serialize;\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.vexDialog = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n/**\n * Expose `parse`.\n */\n\nmodule.exports = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\n},{}],2:[function(require,module,exports){\n// get successful control from form and assemble into object\n// http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2\n\n// types which indicate a submit action and are not successful controls\n// these will be ignored\nvar k_r_submitter = /^(?:submit|button|image|reset|file)$/i;\n\n// node names which could be successful controls\nvar k_r_success_contrls = /^(?:input|select|textarea|keygen)/i;\n\n// Matches bracket notation.\nvar brackets = /(\\[[^\\[\\]]*\\])/g;\n\n// serializes form fields\n// @param form MUST be an HTMLForm element\n// @param options is an optional argument to configure the serialization. Default output\n// with no options specified is a url encoded string\n//    - hash: [true | false] Configure the output type. If true, the output will\n//    be a js object.\n//    - serializer: [function] Optional serializer function to override the default one.\n//    The function takes 3 arguments (result, key, value) and should return new result\n//    hash and url encoded str serializers are provided with this module\n//    - disabled: [true | false]. If true serialize disabled fields.\n//    - empty: [true | false]. If true serialize empty fields\nfunction serialize(form, options) {\n    if (typeof options != 'object') {\n        options = { hash: !!options };\n    }\n    else if (options.hash === undefined) {\n        options.hash = true;\n    }\n\n    var result = (options.hash) ? {} : '';\n    var serializer = options.serializer || ((options.hash) ? hash_serializer : str_serialize);\n\n    var elements = form && form.elements ? form.elements : [];\n\n    //Object store each radio and set if it's empty or not\n    var radio_store = Object.create(null);\n\n    for (var i=0 ; i<elements.length ; ++i) {\n        var element = elements[i];\n\n        // ingore disabled fields\n        if ((!options.disabled && element.disabled) || !element.name) {\n            continue;\n        }\n        // ignore anyhting that is not considered a success field\n        if (!k_r_success_contrls.test(element.nodeName) ||\n            k_r_submitter.test(element.type)) {\n            continue;\n        }\n\n        var key = element.name;\n        var val = element.value;\n\n        // we can't just use element.value for checkboxes cause some browsers lie to us\n        // they say \"on\" for value when the box isn't checked\n        if ((element.type === 'checkbox' || element.type === 'radio') && !element.checked) {\n            val = undefined;\n        }\n\n        // If we want empty elements\n        if (options.empty) {\n            // for checkbox\n            if (element.type === 'checkbox' && !element.checked) {\n                val = '';\n            }\n\n            // for radio\n            if (element.type === 'radio') {\n                if (!radio_store[element.name] && !element.checked) {\n                    radio_store[element.name] = false;\n                }\n                else if (element.checked) {\n                    radio_store[element.name] = true;\n                }\n            }\n\n            // if options empty is true, continue only if its radio\n            if (!val && element.type == 'radio') {\n                continue;\n            }\n        }\n        else {\n            // value-less fields are ignored unless options.empty is true\n            if (!val) {\n                continue;\n            }\n        }\n\n        // multi select boxes\n        if (element.type === 'select-multiple') {\n            val = [];\n\n            var selectOptions = element.options;\n            var isSelectedOptions = false;\n            for (var j=0 ; j<selectOptions.length ; ++j) {\n                var option = selectOptions[j];\n                var allowedEmpty = options.empty && !option.value;\n                var hasValue = (option.value || allowedEmpty);\n                if (option.selected && hasValue) {\n                    isSelectedOptions = true;\n\n                    // If using a hash serializer be sure to add the\n                    // correct notation for an array in the multi-select\n                    // context. Here the name attribute on the select element\n                    // might be missing the trailing bracket pair. Both names\n                    // \"foo\" and \"foo[]\" should be arrays.\n                    if (options.hash && key.slice(key.length - 2) !== '[]') {\n                        result = serializer(result, key + '[]', option.value);\n                    }\n                    else {\n                        result = serializer(result, key, option.value);\n                    }\n                }\n            }\n\n            // Serialize if no selected options and options.empty is true\n            if (!isSelectedOptions && options.empty) {\n                result = serializer(result, key, '');\n            }\n\n            continue;\n        }\n\n        result = serializer(result, key, val);\n    }\n\n    // Check for all empty radio buttons and serialize them with key=\"\"\n    if (options.empty) {\n        for (var key in radio_store) {\n            if (!radio_store[key]) {\n                result = serializer(result, key, '');\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction parse_keys(string) {\n    var keys = [];\n    var prefix = /^([^\\[\\]]*)/;\n    var children = new RegExp(brackets);\n    var match = prefix.exec(string);\n\n    if (match[1]) {\n        keys.push(match[1]);\n    }\n\n    while ((match = children.exec(string)) !== null) {\n        keys.push(match[1]);\n    }\n\n    return keys;\n}\n\nfunction hash_assign(result, keys, value) {\n    if (keys.length === 0) {\n        result = value;\n        return result;\n    }\n\n    var key = keys.shift();\n    var between = key.match(/^\\[(.+?)\\]$/);\n\n    if (key === '[]') {\n        result = result || [];\n\n        if (Array.isArray(result)) {\n            result.push(hash_assign(null, keys, value));\n        }\n        else {\n            // This might be the result of bad name attributes like \"[][foo]\",\n            // in this case the original `result` object will already be\n            // assigned to an object literal. Rather than coerce the object to\n            // an array, or cause an exception the attribute \"_values\" is\n            // assigned as an array.\n            result._values = result._values || [];\n            result._values.push(hash_assign(null, keys, value));\n        }\n\n        return result;\n    }\n\n    // Key is an attribute name and can be assigned directly.\n    if (!between) {\n        result[key] = hash_assign(result[key], keys, value);\n    }\n    else {\n        var string = between[1];\n        // +var converts the variable into a number\n        // better than parseInt because it doesn't truncate away trailing\n        // letters and actually fails if whole thing is not a number\n        var index = +string;\n\n        // If the characters between the brackets is not a number it is an\n        // attribute name and can be assigned directly.\n        if (isNaN(index)) {\n            result = result || {};\n            result[string] = hash_assign(result[string], keys, value);\n        }\n        else {\n            result = result || [];\n            result[index] = hash_assign(result[index], keys, value);\n        }\n    }\n\n    return result;\n}\n\n// Object/hash encoding serializer.\nfunction hash_serializer(result, key, value) {\n    var matches = key.match(brackets);\n\n    // Has brackets? Use the recursive assignment function to walk the keys,\n    // construct any missing objects in the result tree and make the assignment\n    // at the end of the chain.\n    if (matches) {\n        var keys = parse_keys(key);\n        hash_assign(result, keys, value);\n    }\n    else {\n        // Non bracket notation can make assignments directly.\n        var existing = result[key];\n\n        // If the value has been assigned already (for instance when a radio and\n        // a checkbox have the same name attribute) convert the previous value\n        // into an array before pushing into it.\n        //\n        // NOTE: If this requirement were removed all hash creation and\n        // assignment could go through `hash_assign`.\n        if (existing) {\n            if (!Array.isArray(existing)) {\n                result[key] = [ existing ];\n            }\n\n            result[key].push(value);\n        }\n        else {\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\n// urlform encoding serializer\nfunction str_serialize(result, key, value) {\n    // encode newlines as \\r\\n cause the html spec says so\n    value = value.replace(/(\\r)?\\n/g, '\\r\\n');\n    value = encodeURIComponent(value);\n\n    // spaces should be '+' rather than '%20'.\n    value = value.replace(/%20/g, '+');\n    return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + value;\n}\n\nmodule.exports = serialize;\n\n},{}],3:[function(require,module,exports){\nvar domify = require('domify')\r\nvar serialize = require('form-serialize')\r\n\r\n// Build DOM elements for the structure of the dialog\r\nvar buildDialogForm = function buildDialogForm (options) {\r\n  var form = document.createElement('form')\r\n  form.classList.add('vex-dialog-form')\r\n\r\n  var message = document.createElement('div')\r\n  message.classList.add('vex-dialog-message')\r\n  message.appendChild(options.message instanceof window.Node ? options.message : domify(options.message))\r\n\r\n  var input = document.createElement('div')\r\n  input.classList.add('vex-dialog-input')\r\n  input.appendChild(options.input instanceof window.Node ? options.input : domify(options.input))\r\n\r\n  form.appendChild(message)\r\n  form.appendChild(input)\r\n\r\n  return form\r\n}\r\n\r\n// Take an array of buttons (see the default buttons below) and turn them into DOM elements\r\nvar buttonsToDOM = function buttonsToDOM (buttons) {\r\n  var domButtons = document.createElement('div')\r\n  domButtons.classList.add('vex-dialog-buttons')\r\n\r\n  for (var i = 0; i < buttons.length; i++) {\r\n    var button = buttons[i]\r\n    var domButton = document.createElement('button')\r\n    domButton.type = button.type\r\n    domButton.textContent = button.text\r\n    domButton.classList.add(button.className)\r\n    domButton.classList.add('vex-dialog-button')\r\n    if (i === 0) {\r\n      domButton.classList.add('vex-first')\r\n    } else if (i === buttons.length - 1) {\r\n      domButton.classList.add('vex-last')\r\n    }\r\n    // Attach click listener to button with closure\r\n    (function (button) {\r\n      domButton.addEventListener('click', function (e) {\r\n        if (button.click) {\r\n          button.click.call(this, e)\r\n        }\r\n      }.bind(this))\r\n    }.bind(this)(button))\r\n\r\n    domButtons.appendChild(domButton)\r\n  }\r\n\r\n  return domButtons\r\n}\r\n\r\nvar plugin = function plugin (vex) {\r\n  // Define the API first\r\n  var dialog = {\r\n    // Plugin name\r\n    name: 'dialog',\r\n\r\n    // Open\r\n    open: function open (opts) {\r\n      var options = Object.assign({}, this.defaultOptions, opts)\r\n\r\n      // `message` is unsafe internally, so translate\r\n      // safe default: HTML-escape the message before passing it through\r\n      if (options.unsafeMessage && !options.message) {\r\n        options.message = options.unsafeMessage\r\n      } else if (options.message) {\r\n        options.message = vex._escapeHtml(options.message)\r\n      }\r\n\r\n      // Build the form from the options\r\n      var form = options.unsafeContent = buildDialogForm(options)\r\n\r\n      // Open the dialog\r\n      var dialogInstance = vex.open(options)\r\n\r\n      // Quick comment - these options and appending buttons and everything\r\n      // would preferably be done _before_ opening the dialog. However, since\r\n      // they rely on the context of the vex instance, we have to do them\r\n      // after. A potential future fix would be to differentiate between\r\n      // a \"created\" vex instance and an \"opened\" vex instance, so any actions\r\n      // that rely on the specific context of the instance can do their stuff\r\n      // before opening the dialog on the page.\r\n\r\n      // Override the before close callback to also pass the value of the form\r\n      var beforeClose = options.beforeClose && options.beforeClose.bind(dialogInstance)\r\n      dialogInstance.options.beforeClose = function dialogBeforeClose () {\r\n        // Only call the callback once - when the validation in beforeClose, if present, is true\r\n        var shouldClose = beforeClose ? beforeClose() : true\r\n        if (shouldClose) {\r\n          options.callback(this.value || false)\r\n        }\r\n        // Return the result of beforeClose() to vex\r\n        return shouldClose\r\n      }.bind(dialogInstance)\r\n\r\n      // Append buttons to form with correct context\r\n      form.appendChild(buttonsToDOM.call(dialogInstance, options.buttons))\r\n\r\n      // Attach form to instance\r\n      dialogInstance.form = form\r\n\r\n      // Add submit listener to form\r\n      form.addEventListener('submit', options.onSubmit.bind(dialogInstance))\r\n\r\n      // Optionally focus the first input in the form\r\n      if (options.focusFirstInput) {\r\n        var el = dialogInstance.contentEl.querySelector('button, input, textarea')\r\n        if (el) {\r\n          el.focus()\r\n        }\r\n      }\r\n\r\n      // For chaining\r\n      return dialogInstance\r\n    },\r\n\r\n    // Alert\r\n    alert: function (options) {\r\n      // Allow string as message\r\n      if (typeof options === 'string') {\r\n        options = {\r\n          message: options\r\n        }\r\n      }\r\n      options = Object.assign({}, this.defaultOptions, this.defaultAlertOptions, options)\r\n      return this.open(options)\r\n    },\r\n\r\n    // Confirm\r\n    confirm: function (options) {\r\n      if (typeof options !== 'object' || typeof options.callback !== 'function') {\r\n        throw new Error('dialog.confirm(options) requires options.callback.')\r\n      }\r\n      options = Object.assign({}, this.defaultOptions, this.defaultConfirmOptions, options)\r\n      return this.open(options)\r\n    },\r\n\r\n    // Prompt\r\n    prompt: function (options) {\r\n      if (typeof options !== 'object' || typeof options.callback !== 'function') {\r\n        throw new Error('dialog.prompt(options) requires options.callback.')\r\n      }\r\n      var defaults = Object.assign({}, this.defaultOptions, this.defaultPromptOptions)\r\n      var dynamicDefaults = {\r\n        unsafeMessage: '<label for=\"vex\">' + vex._escapeHtml(options.label || defaults.label) + '</label>',\r\n        input: '<input name=\"vex\" type=\"text\" class=\"vex-dialog-prompt-input\" placeholder=\"' + vex._escapeHtml(options.placeholder || defaults.placeholder) + '\" value=\"' + vex._escapeHtml(options.value || defaults.value) + '\" />'\r\n      }\r\n      options = Object.assign(defaults, dynamicDefaults, options)\r\n      // Pluck the value of the \"vex\" input field as the return value for prompt's callback\r\n      // More closely mimics \"window.prompt\" in that a single string is returned\r\n      var callback = options.callback\r\n      options.callback = function promptCallback (value) {\r\n        value = value[Object.keys(value)[0]]\r\n        callback(value)\r\n      }\r\n      return this.open(options)\r\n    }\r\n  }\r\n\r\n  // Now define any additional data that's not the direct dialog API\r\n  dialog.buttons = {\r\n    YES: {\r\n      text: 'OK',\r\n      type: 'submit',\r\n      className: 'vex-dialog-button-primary',\r\n      click: function yesClick () {\r\n        this.value = true\r\n      }\r\n    },\r\n\r\n    NO: {\r\n      text: 'Cancel',\r\n      type: 'button',\r\n      className: 'vex-dialog-button-secondary',\r\n      click: function noClick () {\r\n        this.value = false\r\n        this.close()\r\n      }\r\n    }\r\n  }\r\n\r\n  dialog.defaultOptions = {\r\n    callback: function () {},\r\n    afterOpen: function () {},\r\n    message: '',\r\n    input: '',\r\n    buttons: [\r\n      dialog.buttons.YES,\r\n      dialog.buttons.NO\r\n    ],\r\n    showCloseButton: false,\r\n    onSubmit: function onDialogSubmit (e) {\r\n      e.preventDefault()\r\n      if (this.options.input) {\r\n        this.value = serialize(this.form, { hash: true })\r\n      }\r\n      return this.close()\r\n    },\r\n    focusFirstInput: true\r\n  }\r\n\r\n  dialog.defaultAlertOptions = {\r\n    buttons: [\r\n      dialog.buttons.YES\r\n    ]\r\n  }\r\n\r\n  dialog.defaultPromptOptions = {\r\n    label: 'Prompt:',\r\n    placeholder: '',\r\n    value: ''\r\n  }\r\n\r\n  dialog.defaultConfirmOptions = {}\r\n\r\n  return dialog\r\n}\r\n\r\nmodule.exports = plugin\r\n\n},{\"domify\":1,\"form-serialize\":2}]},{},[3])(3)\n});","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.vex = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*\n * classList.js: Cross-browser full element.classList implementation.\n * 2014-07-23\n *\n * By Eli Grey, http://eligrey.com\n * Public Domain.\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/\n\n/* Copied from MDN:\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\n */\n\nif (\"document\" in window.self) {\n\n  // Full polyfill for browsers with no classList support\n  // Including IE < Edge missing SVGElement.classList\n  if (!(\"classList\" in document.createElement(\"_\"))\n    || document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\"))) {\n\n  (function (view) {\n\n    \"use strict\";\n\n    if (!('Element' in view)) return;\n\n    var\n        classListProp = \"classList\"\n      , protoProp = \"prototype\"\n      , elemCtrProto = view.Element[protoProp]\n      , objCtr = Object\n      , strTrim = String[protoProp].trim || function () {\n        return this.replace(/^\\s+|\\s+$/g, \"\");\n      }\n      , arrIndexOf = Array[protoProp].indexOf || function (item) {\n        var\n            i = 0\n          , len = this.length\n        ;\n        for (; i < len; i++) {\n          if (i in this && this[i] === item) {\n            return i;\n          }\n        }\n        return -1;\n      }\n      // Vendors: please allow content code to instantiate DOMExceptions\n      , DOMEx = function (type, message) {\n        this.name = type;\n        this.code = DOMException[type];\n        this.message = message;\n      }\n      , checkTokenAndGetIndex = function (classList, token) {\n        if (token === \"\") {\n          throw new DOMEx(\n              \"SYNTAX_ERR\"\n            , \"An invalid or illegal string was specified\"\n          );\n        }\n        if (/\\s/.test(token)) {\n          throw new DOMEx(\n              \"INVALID_CHARACTER_ERR\"\n            , \"String contains an invalid character\"\n          );\n        }\n        return arrIndexOf.call(classList, token);\n      }\n      , ClassList = function (elem) {\n        var\n            trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n          , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n          , i = 0\n          , len = classes.length\n        ;\n        for (; i < len; i++) {\n          this.push(classes[i]);\n        }\n        this._updateClassName = function () {\n          elem.setAttribute(\"class\", this.toString());\n        };\n      }\n      , classListProto = ClassList[protoProp] = []\n      , classListGetter = function () {\n        return new ClassList(this);\n      }\n    ;\n    // Most DOMException implementations don't allow calling DOMException's toString()\n    // on non-DOMExceptions. Error's toString() is sufficient here.\n    DOMEx[protoProp] = Error[protoProp];\n    classListProto.item = function (i) {\n      return this[i] || null;\n    };\n    classListProto.contains = function (token) {\n      token += \"\";\n      return checkTokenAndGetIndex(this, token) !== -1;\n    };\n    classListProto.add = function () {\n      var\n          tokens = arguments\n        , i = 0\n        , l = tokens.length\n        , token\n        , updated = false\n      ;\n      do {\n        token = tokens[i] + \"\";\n        if (checkTokenAndGetIndex(this, token) === -1) {\n          this.push(token);\n          updated = true;\n        }\n      }\n      while (++i < l);\n\n      if (updated) {\n        this._updateClassName();\n      }\n    };\n    classListProto.remove = function () {\n      var\n          tokens = arguments\n        , i = 0\n        , l = tokens.length\n        , token\n        , updated = false\n        , index\n      ;\n      do {\n        token = tokens[i] + \"\";\n        index = checkTokenAndGetIndex(this, token);\n        while (index !== -1) {\n          this.splice(index, 1);\n          updated = true;\n          index = checkTokenAndGetIndex(this, token);\n        }\n      }\n      while (++i < l);\n\n      if (updated) {\n        this._updateClassName();\n      }\n    };\n    classListProto.toggle = function (token, force) {\n      token += \"\";\n\n      var\n          result = this.contains(token)\n        , method = result ?\n          force !== true && \"remove\"\n        :\n          force !== false && \"add\"\n      ;\n\n      if (method) {\n        this[method](token);\n      }\n\n      if (force === true || force === false) {\n        return force;\n      } else {\n        return !result;\n      }\n    };\n    classListProto.toString = function () {\n      return this.join(\" \");\n    };\n\n    if (objCtr.defineProperty) {\n      var classListPropDesc = {\n          get: classListGetter\n        , enumerable: true\n        , configurable: true\n      };\n      try {\n        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n      } catch (ex) { // IE 8 doesn't support enumerable:true\n        if (ex.number === -0x7FF5EC54) {\n          classListPropDesc.enumerable = false;\n          objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n        }\n      }\n    } else if (objCtr[protoProp].__defineGetter__) {\n      elemCtrProto.__defineGetter__(classListProp, classListGetter);\n    }\n\n    }(window.self));\n\n    } else {\n    // There is full or partial native classList support, so just check if we need\n    // to normalize the add/remove and toggle APIs.\n\n    (function () {\n      \"use strict\";\n\n      var testElement = document.createElement(\"_\");\n\n      testElement.classList.add(\"c1\", \"c2\");\n\n      // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n      // classList.remove exist but support only one argument at a time.\n      if (!testElement.classList.contains(\"c2\")) {\n        var createMethod = function(method) {\n          var original = DOMTokenList.prototype[method];\n\n          DOMTokenList.prototype[method] = function(token) {\n            var i, len = arguments.length;\n\n            for (i = 0; i < len; i++) {\n              token = arguments[i];\n              original.call(this, token);\n            }\n          };\n        };\n        createMethod('add');\n        createMethod('remove');\n      }\n\n      testElement.classList.toggle(\"c3\", false);\n\n      // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n      // support the second argument.\n      if (testElement.classList.contains(\"c3\")) {\n        var _toggle = DOMTokenList.prototype.toggle;\n\n        DOMTokenList.prototype.toggle = function(token, force) {\n          if (1 in arguments && !this.contains(token) === !force) {\n            return force;\n          } else {\n            return _toggle.call(this, token);\n          }\n        };\n\n      }\n\n      testElement = null;\n    }());\n  }\n}\n\n},{}],2:[function(require,module,exports){\n\n/**\n * Expose `parse`.\n */\n\nmodule.exports = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\n},{}],3:[function(require,module,exports){\n/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n\n},{}],4:[function(require,module,exports){\n// classList polyfill for old browsers\nrequire('classlist-polyfill')\n// Object.assign polyfill\nrequire('es6-object-assign').polyfill()\n\n// String to DOM function\nvar domify = require('domify')\n\n// Use the DOM's HTML parsing to escape any dangerous strings\nvar escapeHtml = function escapeHtml (str) {\n  if (typeof str !== 'undefined') {\n    var div = document.createElement('div')\n    div.appendChild(document.createTextNode(str))\n    return div.innerHTML\n  } else {\n    return ''\n  }\n}\n\n// Utility function to add space-delimited class strings to a DOM element's classList\nvar addClasses = function addClasses (el, classStr) {\n  if (typeof classStr !== 'string' || classStr.length === 0) {\n    return\n  }\n  var classes = classStr.split(' ')\n  for (var i = 0; i < classes.length; i++) {\n    var className = classes[i]\n    if (className.length) {\n      el.classList.add(className)\n    }\n  }\n}\n\n// Detect CSS Animation End Support\n// https://github.com/limonte/sweetalert2/blob/99bd539f85e15ac170f69d35001d12e092ef0054/src/utils/dom.js#L194\nvar animationEndEvent = (function detectAnimationEndEvent () {\n  var el = document.createElement('div')\n  var eventNames = {\n    'WebkitAnimation': 'webkitAnimationEnd',\n    'MozAnimation': 'animationend',\n    'OAnimation': 'oanimationend',\n    'msAnimation': 'MSAnimationEnd',\n    'animation': 'animationend'\n  }\n  for (var i in eventNames) {\n    if (el.style[i] !== undefined) {\n      return eventNames[i]\n    }\n  }\n  return false\n})()\n\n// vex base CSS classes\nvar baseClassNames = {\n  vex: 'vex',\n  content: 'vex-content',\n  overlay: 'vex-overlay',\n  close: 'vex-close',\n  closing: 'vex-closing',\n  open: 'vex-open'\n}\n\n// Private lookup table of all open vex objects, keyed by id\nvar vexes = {}\nvar globalId = 1\n\n// Private boolean to assist the escapeButtonCloses option\nvar isEscapeActive = false\n\n// vex itself is an object that exposes a simple API to open and close vex objects in various ways\nvar vex = {\n  open: function open (opts) {\n    // Check for usage of deprecated options, and log a warning\n    var warnDeprecated = function warnDeprecated (prop) {\n      console.warn('The \"' + prop + '\" property is deprecated in vex 3. Use CSS classes and the appropriate \"ClassName\" options, instead.')\n      console.warn('See http://github.hubspot.com/vex/api/advanced/#options')\n    }\n    if (opts.css) {\n      warnDeprecated('css')\n    }\n    if (opts.overlayCSS) {\n      warnDeprecated('overlayCSS')\n    }\n    if (opts.contentCSS) {\n      warnDeprecated('contentCSS')\n    }\n    if (opts.closeCSS) {\n      warnDeprecated('closeCSS')\n    }\n\n    // The dialog instance\n    var vexInstance = {}\n\n    // Set id\n    vexInstance.id = globalId++\n\n    // Store internally\n    vexes[vexInstance.id] = vexInstance\n\n    // Set state\n    vexInstance.isOpen = true\n\n    // Close function on the vex instance\n    // This is how all API functions should close individual vexes\n    vexInstance.close = function instanceClose () {\n      // Check state\n      if (!this.isOpen) {\n        return true\n      }\n\n      var options = this.options\n\n      // escapeButtonCloses is checked first\n      if (isEscapeActive && !options.escapeButtonCloses) {\n        return false\n      }\n\n      // Allow the user to validate any info or abort the close with the beforeClose callback\n      var shouldClose = (function shouldClose () {\n        // Call before close callback\n        if (options.beforeClose) {\n          return options.beforeClose.call(this)\n        }\n        // Otherwise indicate that it's ok to continue with close\n        return true\n      }.bind(this)())\n\n      // If beforeClose() fails, abort the close\n      if (shouldClose === false) {\n        return false\n      }\n\n      // Update state\n      this.isOpen = false\n\n      // Detect if the content el has any CSS animations defined\n      var style = window.getComputedStyle(this.contentEl)\n      function hasAnimationPre (prefix) {\n        return style.getPropertyValue(prefix + 'animation-name') !== 'none' && style.getPropertyValue(prefix + 'animation-duration') !== '0s'\n      }\n      var hasAnimation = hasAnimationPre('') || hasAnimationPre('-webkit-') || hasAnimationPre('-moz-') || hasAnimationPre('-o-')\n\n      // Define the function that will actually close the instance\n      var close = function close () {\n        if (!this.rootEl.parentNode) {\n          return\n        }\n        // Run once\n        this.rootEl.removeEventListener(animationEndEvent, close)\n        // Remove from lookup table (prevent memory leaks)\n        delete vexes[this.id]\n        // Remove the dialog from the DOM\n        this.rootEl.parentNode.removeChild(this.rootEl)\n        // Call after close callback\n        if (options.afterClose) {\n          options.afterClose.call(this)\n        }\n        // Remove styling from the body, if no more vexes are open\n        if (Object.keys(vexes).length === 0) {\n          document.body.classList.remove(baseClassNames.open)\n        }\n      }.bind(this)\n\n      // Close the vex\n      if (animationEndEvent && hasAnimation) {\n        // Setup the end event listener, to remove the el from the DOM\n        this.rootEl.addEventListener(animationEndEvent, close)\n        // Add the closing class to the dialog, showing the close animation\n        this.rootEl.classList.add(baseClassNames.closing)\n      } else {\n        close()\n      }\n\n      return true\n    }\n\n    // Allow strings as content\n    if (typeof opts === 'string') {\n      opts = {\n        content: opts\n      }\n    }\n\n    // `content` is unsafe internally, so translate\n    // safe default: HTML-escape the content before passing it through\n    if (opts.unsafeContent && !opts.content) {\n      opts.content = opts.unsafeContent\n    } else if (opts.content) {\n      opts.content = escapeHtml(opts.content)\n    }\n\n    // Store options on instance for future reference\n    var options = vexInstance.options = Object.assign({}, vex.defaultOptions, opts)\n\n    // vex root\n    var rootEl = vexInstance.rootEl = document.createElement('div')\n    rootEl.classList.add(baseClassNames.vex)\n    addClasses(rootEl, options.className)\n\n    // Overlay\n    var overlayEl = vexInstance.overlayEl = document.createElement('div')\n    overlayEl.classList.add(baseClassNames.overlay)\n    addClasses(overlayEl, options.overlayClassName)\n    if (options.overlayClosesOnClick) {\n      overlayEl.addEventListener('click', function overlayClickListener (e) {\n        if (e.target === overlayEl) {\n          vexInstance.close()\n        }\n      })\n    }\n    rootEl.appendChild(overlayEl)\n\n    // Content\n    var contentEl = vexInstance.contentEl = document.createElement('div')\n    contentEl.classList.add(baseClassNames.content)\n    addClasses(contentEl, options.contentClassName)\n    contentEl.appendChild(options.content instanceof window.Node ? options.content : domify(options.content))\n    rootEl.appendChild(contentEl)\n\n    // Close button\n    if (options.showCloseButton) {\n      var closeEl = vexInstance.closeEl = document.createElement('div')\n      closeEl.classList.add(baseClassNames.close)\n      addClasses(closeEl, options.closeClassName)\n      closeEl.addEventListener('click', vexInstance.close.bind(vexInstance))\n      contentEl.appendChild(closeEl)\n    }\n\n    // Add to DOM\n    document.querySelector(options.appendLocation).appendChild(rootEl)\n\n    // Call after open callback\n    if (options.afterOpen) {\n      options.afterOpen.call(vexInstance)\n    }\n\n    // Apply styling to the body\n    document.body.classList.add(baseClassNames.open)\n\n    // Return the created vex instance\n    return vexInstance\n  },\n\n  // A top-level vex.close function to close dialogs by reference or id\n  close: function close (vexOrId) {\n    var id\n    if (vexOrId.id) {\n      id = vexOrId.id\n    } else if (typeof vexOrId === 'string') {\n      id = vexOrId\n    } else {\n      throw new TypeError('close requires a vex object or id string')\n    }\n    if (!vexes[id]) {\n      return false\n    }\n    return vexes[id].close()\n  },\n\n  // Close the most recently created/opened vex\n  closeTop: function closeTop () {\n    var ids = Object.keys(vexes)\n    if (!ids.length) {\n      return false\n    }\n    return vexes[ids[ids.length - 1]].close()\n  },\n\n  // Close every vex!\n  closeAll: function closeAll () {\n    for (var id in vexes) {\n      this.close(id)\n    }\n    return true\n  },\n\n  // A getter for the internal lookup table\n  getAll: function getAll () {\n    return vexes\n  },\n\n  // A getter for the internal lookup table\n  getById: function getById (id) {\n    return vexes[id]\n  }\n}\n\n// Close top vex on escape\nwindow.addEventListener('keyup', function vexKeyupListener (e) {\n  if (e.keyCode === 27) {\n    isEscapeActive = true\n    vex.closeTop()\n    isEscapeActive = false\n  }\n})\n// Close all vexes on history pop state (useful in single page apps)\nwindow.addEventListener('popstate', vex.closeAll)\n\nvex.defaultOptions = {\n  content: '',\n  showCloseButton: true,\n  escapeButtonCloses: true,\n  overlayClosesOnClick: true,\n  appendLocation: 'body',\n  className: '',\n  overlayClassName: '',\n  contentClassName: '',\n  closeClassName: ''\n}\n\n// TODO Loading symbols?\n\n// Include escapeHtml function on the library object\nObject.defineProperty(vex, '_escapeHtml', {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n  value: escapeHtml\n})\n\n// Plugin system!\nvex.registerPlugin = function registerPlugin (pluginFn, name) {\n  var plugin = pluginFn(vex)\n  var pluginName = name || plugin.name\n  if (vex[pluginName]) {\n    throw new Error('Plugin ' + name + ' is already registered.')\n  }\n  vex[pluginName] = plugin\n}\n\nmodule.exports = vex\n\n},{\"classlist-polyfill\":1,\"domify\":2,\"es6-object-assign\":3}]},{},[4])(4)\n});"],"preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJfc3JjXFxhcHAuanMiLCJfc3JjXFxjb25maWcuanMiLCJfc3JjXFxwYXltZW50LWNvbmZpcm1hdGlvbi5qcyIsIl9zcmNcXHBheW1lbnQuanMiLCJfc3JjXFxyb3V0ZXIuanMiLCJub2RlX21vZHVsZXMvY2xhc3NsaXN0LXBvbHlmaWxsL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kb21pZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXM2LW9iamVjdC1hc3NpZ24vc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2FwcC5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9hdXRoLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2RhdGFiYXNlLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2ZpcmViYXNlLWJyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvbWVzc2FnaW5nLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL3N0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvZm9ybS1zZXJpYWxpemUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvdmV4LWRpYWxvZy9kaXN0L3ZleC5kaWFsb2cuanMiLCJub2RlX21vZHVsZXMvdmV4LWpzL2Rpc3QvanMvdmV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRU0sRztBQUNGLGlCQUFZLElBQVosRUFBa0I7QUFBQTs7QUFDZCx3QkFBSSxjQUFKO0FBQ0Esd0JBQUksY0FBSixDQUFtQixTQUFuQixHQUErQixpQkFBTyxRQUFQLEVBQS9CO0FBQ0EsYUFBSyxHQUFMO0FBQ0EsYUFBSyxRQUFMLEdBQWdCLG1CQUFTLGFBQVQsQ0FBdUIsaUJBQU8sUUFBUCxFQUF2QixDQUFoQjtBQUNBLGFBQUssVUFBTCxHQUFrQixLQUFLLFFBQUwsQ0FBYyxPQUFkLEdBQXdCLEdBQXhCLEVBQWxCO0FBQ0EsYUFBSyxHQUFMLEdBQVcsS0FBSyxLQUFMLENBQVcsS0FBSyxHQUFoQixDQUFYO0FBQ0EsYUFBSyxJQUFMLEdBQVksS0FBSyxJQUFqQjtBQUNBLGFBQUssTUFBTCxHQUFjLHNCQUFkO0FBQ0EsWUFBSSxDQUFDLEtBQUssTUFBTCxDQUFZLGNBQVosRUFBTCxFQUFtQyxLQUFLLE9BQUw7QUFDdEM7Ozs7eUNBRWdCLEcsRUFBSztBQUNsQixpQkFBSyxNQUFMLENBQVksZ0JBQVosQ0FBNkIsR0FBN0I7QUFDSDs7QUFFRDs7Ozs7Ozs7a0NBS1U7QUFBQTs7QUFDTjtBQUNBLGlCQUFLLFFBQUwsQ0FBYyxJQUFkLEdBQXFCLGtCQUFyQixDQUF3QyxVQUFDLElBQUQsRUFBVTtBQUM5QyxvQkFBSSxrQkFBSixFQUF3QjtBQUNwQix3QkFBSSxZQUFZLFNBQVMsY0FBVCxDQUF3QixvQkFBeEIsRUFBOEMsS0FBOUQ7QUFDQSx3QkFBSSxXQUFXLFNBQVMsY0FBVCxDQUF3QixtQkFBeEIsRUFBNkMsS0FBNUQ7QUFDQSx3QkFBSSxnQkFBZ0IsU0FBUyxjQUFULENBQXdCLHdCQUF4QixFQUFrRCxLQUF0RTtBQUNBLHdCQUFJLGlCQUFpQixTQUFTLGNBQVQsQ0FBd0IseUJBQXhCLEVBQW1ELEtBQXhFO0FBQ0EsMEJBQUssUUFBTCxDQUFjLFFBQWQsR0FBeUIsR0FBekIsQ0FBNkIsV0FBVyxLQUFLLEdBQTdDLEVBQWtELEdBQWxELENBQXNEO0FBQ2xELG1DQUFXLFNBRHVDO0FBRWxELGtDQUFVLFFBRndDO0FBR2xELHVDQUFlLGFBSG1DO0FBSWxELHdDQUFnQixjQUprQztBQUtsRCxpQ0FBUztBQUx5QyxxQkFBdEQ7QUFPQSx5Q0FBcUIsS0FBckI7QUFDSDtBQUNELHNCQUFLLEdBQUwsQ0FBUyxPQUFULENBQWlCLFVBQUMsVUFBRCxFQUFnQjtBQUM3Qix3QkFBSSxXQUFXLElBQVgsSUFBbUIsTUFBSyxJQUE1QixFQUFrQzs7QUFFbEMsd0JBQUksSUFBSixFQUFVO0FBQ04sOEJBQUssTUFBTCxDQUFZLE9BQVosQ0FBb0IsSUFBcEI7O0FBRUE7QUFDQSxpQ0FBUyxjQUFULENBQXdCLGNBQXhCLEVBQXdDLFdBQXhDLEdBQXNELFdBQVcsTUFBakU7QUFDQSxpQ0FBUyxjQUFULENBQXdCLFNBQXhCLEVBQW1DLEtBQW5DLENBQXlDLE9BQXpDLEdBQW1ELFFBQW5EOztBQUVBO0FBQ0EsNEJBQUksaUJBQWlCLFNBQVMsc0JBQVQsQ0FBZ0MsY0FBaEMsQ0FBckI7QUFBQSw0QkFBc0UsQ0FBdEU7QUFDQSw2QkFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGVBQWUsTUFBbkMsRUFBMkMsR0FBM0M7QUFDSSwyQ0FBZSxDQUFmLEVBQWtCLEtBQWxCLENBQXdCLE9BQXhCLEdBQWtDLE9BQWxDO0FBREoseUJBVE0sQ0FXTjtBQUNBLDRCQUFJLG9CQUFvQixTQUFTLHNCQUFULENBQWdDLGFBQWhDLENBQXhCO0FBQUEsNEJBQXdFLENBQXhFO0FBQ0EsNkJBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxrQkFBa0IsTUFBdEMsRUFBOEMsR0FBOUM7QUFDSSw4Q0FBa0IsQ0FBbEIsRUFBcUIsS0FBckIsQ0FBMkIsT0FBM0IsR0FBcUMsTUFBckM7QUFESix5QkFiTSxDQWVOO0FBQ0EsNEJBQUksZ0JBQWdCLFNBQVMsc0JBQVQsQ0FBZ0MsV0FBaEMsQ0FBcEI7QUFBQSw0QkFBa0UsQ0FBbEU7QUFDQSw2QkFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGNBQWMsTUFBbEMsRUFBMEMsR0FBMUM7QUFDSSwwQ0FBYyxDQUFkLEVBQWlCLFFBQWpCLEdBQTRCLEtBQTVCO0FBREoseUJBakJNLENBbUJOO0FBQ0EsOEJBQUssUUFBTCxDQUFjLFFBQWQsR0FBeUIsR0FBekIsQ0FBNkIsWUFBWSxLQUFLLEdBQTlDLEVBQW1ELElBQW5ELENBQXdELE9BQXhELEVBQWlFLElBQWpFLENBQXNFLFVBQVUsUUFBVixFQUFvQjtBQUN0RixnQ0FBSSxTQUFTLEdBQVQsR0FBZSxPQUFmLEtBQTJCLElBQS9CLEVBQXFDO0FBQ2pDLG9DQUFJLGdCQUFnQixTQUFTLHNCQUFULENBQWdDLFlBQWhDLENBQXBCO0FBQUEsb0NBQW1FLENBQW5FO0FBQ0EscUNBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxjQUFjLE1BQWxDLEVBQTBDLEdBQTFDO0FBQ0ksa0RBQWMsQ0FBZCxFQUFpQixLQUFqQixDQUF1QixPQUF2QixHQUFpQyxPQUFqQztBQURKO0FBRUg7QUFDSix5QkFORDtBQU9BO0FBQ0EsNEJBQUksZ0JBQWdCLFNBQVMsc0JBQVQsQ0FBZ0MsV0FBaEMsQ0FBcEI7QUFBQSw0QkFBa0UsQ0FBbEU7QUFDQSw2QkFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGNBQWMsTUFBbEMsRUFBMEMsR0FBMUMsRUFBK0M7QUFDM0MsMENBQWMsQ0FBZCxFQUFpQixnQkFBakIsQ0FBa0MsUUFBbEMsRUFBNEMsZ0JBQTVDLEVBQThELEtBQTlEO0FBQ0g7QUFDSixxQkFoQ0QsTUFpQ0s7QUFDRDtBQUNBLGlDQUFTLGNBQVQsQ0FBd0IsY0FBeEIsRUFBd0MsV0FBeEMsR0FBc0QsV0FBVyxLQUFqRTtBQUNBLGlDQUFTLGNBQVQsQ0FBd0IsU0FBeEIsRUFBbUMsS0FBbkMsQ0FBeUMsT0FBekMsR0FBbUQsTUFBbkQ7O0FBRUE7QUFDQSw0QkFBSSxpQkFBaUIsU0FBUyxzQkFBVCxDQUFnQyxjQUFoQyxDQUFyQjtBQUFBLDRCQUFzRSxDQUF0RTtBQUNBLDZCQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksZUFBZSxNQUFuQyxFQUEyQyxHQUEzQztBQUNJLDJDQUFlLENBQWYsRUFBa0IsS0FBbEIsQ0FBd0IsT0FBeEIsR0FBa0MsTUFBbEM7QUFESix5QkFQQyxDQVNEO0FBQ0EsNEJBQUksb0JBQW9CLFNBQVMsc0JBQVQsQ0FBZ0MsYUFBaEMsQ0FBeEI7QUFBQSw0QkFBd0UsQ0FBeEU7QUFDQSw2QkFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGtCQUFrQixNQUF0QyxFQUE4QyxHQUE5QztBQUNJLDhDQUFrQixDQUFsQixFQUFxQixLQUFyQixDQUEyQixPQUEzQixHQUFxQyxPQUFyQztBQURKLHlCQVhDLENBYUQ7QUFDQSw0QkFBSSxnQkFBZ0IsU0FBUyxzQkFBVCxDQUFnQyxXQUFoQyxDQUFwQjtBQUFBLDRCQUFrRSxDQUFsRTtBQUNBLDZCQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksY0FBYyxNQUFsQyxFQUEwQyxHQUExQyxFQUErQztBQUMzQywwQ0FBYyxDQUFkLEVBQWlCLFFBQWpCLEdBQTRCLElBQTVCO0FBQ0Esb0NBQVEsY0FBYyxDQUFkLEVBQWlCLGtCQUF6QjtBQUNBLGtDQUFNLGFBQU4sQ0FBb0IsTUFBcEIsRUFBNEIsU0FBNUIsR0FBd0MsdUJBQXhDO0FBQ0EscUNBQVMsY0FBVCxDQUF3QixjQUFjLENBQWQsRUFBaUIsRUFBakIsR0FBc0IsT0FBOUMsRUFBdUQsU0FBdkQsR0FBbUUsRUFBbkU7QUFDSDtBQUNEO0FBQ0EsNEJBQUksZ0JBQWdCLFNBQVMsc0JBQVQsQ0FBZ0MsWUFBaEMsQ0FBcEI7QUFBQSw0QkFBbUUsQ0FBbkU7QUFDQSw2QkFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGNBQWMsTUFBbEMsRUFBMEMsR0FBMUM7QUFDSSwwQ0FBYyxDQUFkLEVBQWlCLEtBQWpCLENBQXVCLE9BQXZCLEdBQWlDLE1BQWpDO0FBREo7QUFFSDtBQUNKLGlCQTlERDs7QUFpRUE7QUFDQSxvQkFBSSxPQUFPLFFBQVAsQ0FBZ0IsUUFBaEIsSUFBNEIsV0FBNUIsSUFDRyxPQUFPLFFBQVAsQ0FBZ0IsUUFBaEIsSUFBNEIsa0RBRG5DLEVBQ3VGO0FBQ25GLHdCQUFJLElBQUosRUFBVTtBQUNOLDhCQUFLLFFBQUwsQ0FBYyxRQUFkLEdBQXlCLEdBQXpCLENBQTZCLFlBQVksS0FBSyxHQUE5QyxFQUFtRCxJQUFuRCxDQUF3RCxPQUF4RCxFQUFpRSxJQUFqRSxDQUFzRSxVQUFVLFFBQVYsRUFBb0I7QUFDdEYsZ0NBQUksWUFBWSxTQUFTLEdBQVQsR0FBZSxTQUEvQjtBQUNBLGdDQUFJLFdBQVcsU0FBUyxHQUFULEdBQWUsUUFBOUI7QUFDQSxxQ0FBUyxjQUFULENBQXdCLGNBQXhCLEVBQXdDLFdBQXhDLEdBQXNELFlBQVksR0FBWixHQUFrQixRQUF4RTtBQUNBLHFDQUFTLGNBQVQsQ0FBd0IsZ0JBQXhCLEVBQTBDLFdBQTFDLEdBQXdELFNBQVMsR0FBVCxHQUFlLGFBQXZFO0FBQ0EscUNBQVMsY0FBVCxDQUF3QixtQkFBeEIsRUFBNkMsV0FBN0MsR0FBMkQsU0FBUyxHQUFULEdBQWUsY0FBMUU7QUFDQSxnQ0FBSSxlQUFlLFNBQVMsY0FBVCxDQUF3QixlQUF4QixDQUFuQjtBQUNBLHlDQUFhLFdBQWIsR0FBMkIsS0FBSyxLQUFoQztBQUNBLHlDQUFhLElBQWIsR0FBb0IsWUFBWSxLQUFLLEtBQXJDO0FBQ0gseUJBVEQ7QUFVSCxxQkFYRCxNQVlLO0FBQ0QsaUNBQVMsY0FBVCxDQUF3QixjQUF4QixFQUF3QyxXQUF4QyxHQUFzRCxFQUF0RDtBQUNBLGlDQUFTLGNBQVQsQ0FBd0IsZ0JBQXhCLEVBQTBDLFdBQTFDLEdBQXdELEVBQXhEO0FBQ0EsaUNBQVMsY0FBVCxDQUF3QixtQkFBeEIsRUFBNkMsV0FBN0MsR0FBMkQsRUFBM0Q7QUFDQSw0QkFBSSxlQUFlLFNBQVMsY0FBVCxDQUF3QixlQUF4QixDQUFuQjtBQUNBLHFDQUFhLFdBQWIsR0FBMkIsRUFBM0I7QUFDQSxxQ0FBYSxJQUFiLEdBQW9CLEVBQXBCO0FBQ0g7QUFDSjs7QUFFRDtBQUNBLG9CQUFJLFFBQVEsT0FBTyxRQUFQLENBQWdCLFFBQWhCLElBQTRCLGtEQUF4QyxFQUE0Rjs7QUFFeEY7QUFDQSx3QkFBSSxVQUFVLHNCQUFzQixtQ0FBcEM7QUFDQSwwQkFBSyxRQUFMLENBQWMsUUFBZCxHQUF5QixHQUF6QixDQUE2QixPQUE3QixFQUFzQyxJQUF0QyxDQUEyQyxPQUEzQyxFQUFvRCxJQUFwRCxDQUF5RCxVQUFVLFFBQVYsRUFBb0I7QUFDekU7QUFDQSw0QkFBSSxTQUFTLEtBQVQsQ0FBZSxLQUFLLEdBQXBCLEVBQXlCLE1BQXpCLEVBQUosRUFBdUM7QUFDbkMsZ0NBQUksY0FBYyxTQUFTLEtBQVQsQ0FBZSxLQUFLLEdBQXBCLENBQWxCO0FBQ0E7QUFDQSxnQ0FBSSxZQUFZLEtBQVosQ0FBa0IsV0FBbEIsRUFBK0IsTUFBL0IsRUFBSixFQUE2QztBQUN6QztBQUNIO0FBQ0Q7QUFIQSxpQ0FJSztBQUNELDhDQUFVLFVBQVUsR0FBVixHQUFnQixLQUFLLEdBQS9CO0FBQ0Esd0NBQUksWUFBWSxLQUFaLENBQWtCLG1CQUFsQixFQUF1QyxNQUF2QyxFQUFKLEVBQ0ksYUFBYSxPQUFiLEVBQXNCLG9CQUF0QixFQUE0QyxZQUFZLEdBQVosR0FBa0IsaUJBQTlEO0FBQ0osd0NBQUksWUFBWSxLQUFaLENBQWtCLGlCQUFsQixFQUFxQyxNQUFyQyxFQUFKLEVBQ0ksYUFBYSxPQUFiLEVBQXNCLGtCQUF0QixFQUEwQyxZQUFZLEdBQVosR0FBa0IsZUFBNUQ7QUFDSix3Q0FBSSxZQUFZLEtBQVosQ0FBa0Isb0JBQWxCLEVBQXdDLE1BQXhDLEVBQUosRUFDSSxhQUFhLE9BQWIsRUFBc0Isc0JBQXRCLEVBQThDLFlBQVksR0FBWixHQUFrQixrQkFBaEU7QUFDSix3Q0FBSSxZQUFZLEtBQVosQ0FBa0IsWUFBbEIsRUFBZ0MsTUFBaEMsRUFBSixFQUNJLGFBQWEsT0FBYixFQUFzQixhQUF0QixFQUFxQyxZQUFZLEdBQVosR0FBa0IsVUFBdkQ7QUFDSix3Q0FBSSxZQUFZLEtBQVosQ0FBa0IsWUFBbEIsRUFBZ0MsTUFBaEMsRUFBSixFQUNJLGFBQWEsT0FBYixFQUFzQixhQUF0QixFQUFxQyxZQUFZLEdBQVosR0FBa0IsVUFBdkQ7O0FBRUosd0NBQUksMkJBQTJCLFNBQVMsc0JBQVQsQ0FBZ0MsbUJBQWhDLENBQS9CO0FBQUEsd0NBQXFGLENBQXJGO0FBQ0EseUNBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSx5QkFBeUIsTUFBN0MsRUFBcUQsR0FBckQ7QUFDSSxpRUFBeUIsQ0FBekIsRUFBNEIsS0FBNUIsQ0FBa0MsT0FBbEMsR0FBNEMsT0FBNUM7QUFESixxQ0FFQSxJQUFJLDBCQUEwQixTQUFTLHNCQUFULENBQWdDLGtCQUFoQyxDQUE5QjtBQUFBLHdDQUFtRixDQUFuRjtBQUNBLHlDQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksd0JBQXdCLE1BQTVDLEVBQW9ELEdBQXBEO0FBQ0ksZ0VBQXdCLENBQXhCLEVBQTJCLEtBQTNCLENBQWlDLE9BQWpDLEdBQTJDLE1BQTNDO0FBREo7QUFFSDtBQUNKLHlCQTNCRCxNQTRCSztBQUNELGdDQUFJLDJCQUEyQixTQUFTLHNCQUFULENBQWdDLG1CQUFoQyxDQUEvQjtBQUFBLGdDQUFxRixDQUFyRjtBQUNBLGlDQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUkseUJBQXlCLE1BQTdDLEVBQXFELEdBQXJEO0FBQ0kseURBQXlCLENBQXpCLEVBQTRCLEtBQTVCLENBQWtDLE9BQWxDLEdBQTRDLE9BQTVDO0FBREosNkJBRUEsSUFBSSwwQkFBMEIsU0FBUyxzQkFBVCxDQUFnQyxrQkFBaEMsQ0FBOUI7QUFBQSxnQ0FBbUYsQ0FBbkY7QUFDQSxpQ0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLHdCQUF3QixNQUE1QyxFQUFvRCxHQUFwRDtBQUNJLHdEQUF3QixDQUF4QixFQUEyQixLQUEzQixDQUFpQyxPQUFqQyxHQUEyQyxNQUEzQztBQURKO0FBRUg7QUFDSixxQkF0Q0Q7QUF1Q0g7O0FBRUQ7QUFDQSxvQkFBSSxRQUFRLE9BQU8sUUFBUCxDQUFnQixRQUFoQixJQUE0Qix3REFBeEMsRUFBa0c7O0FBRTlGO0FBQ0EsMEJBQUssUUFBTCxDQUFjLFFBQWQsR0FBeUIsR0FBekIsQ0FBNkIsWUFBWSxLQUFLLEdBQTlDLEVBQW1ELElBQW5ELENBQXdELE9BQXhELEVBQWlFLElBQWpFLENBQXNFLFVBQVUsUUFBVixFQUFvQjtBQUN0Riw0QkFBSSxTQUFTLEdBQVQsR0FBZSxPQUFmLEtBQTJCLElBQS9CLEVBQXFDOztBQUVqQztBQUNBLHFDQUFTLGNBQVQsQ0FBd0IsZ0JBQXhCLEVBQTBDLEtBQTFDLENBQWdELE9BQWhELEdBQTBELE1BQTFEOztBQUVBO0FBQ0EsZ0NBQUksUUFBUSxLQUFLLFFBQUwsQ0FBYyxRQUFkLEdBQXlCLEdBQXpCLENBQTZCLHNCQUFzQixvQ0FBbkQsRUFBeUYsVUFBekYsRUFBWjtBQUNBO0FBQ0Esa0NBQU0sSUFBTixDQUFXLE9BQVgsRUFBb0IsSUFBcEIsQ0FBeUIsVUFBVSxRQUFWLEVBQW9CO0FBQ3pDLG9DQUFJLG1CQUFtQixFQUF2QjtBQUNBLG9DQUFJLGVBQWUsQ0FBbkI7QUFDQSx5Q0FBUyxPQUFULENBQWlCLFVBQVUsYUFBVixFQUF5QjtBQUN0Qzs7QUFFQTtBQUNBLHdDQUFJLGNBQWMsS0FBZCxDQUFvQixXQUFwQixFQUFpQyxNQUFqQyxFQUFKLEVBQStDO0FBQzNDLDRDQUFJLGFBQWEsYUFBakI7QUFDQSw0REFBb0IseUlBQXBCO0FBQ0EsNERBQW9CLG9EQUFwQjtBQUNBLDREQUFvQixXQUFXLEdBQVgsR0FBaUIsSUFBakIsR0FBd0IsUUFBNUM7QUFDQSw0REFBb0IsOERBQXBCO0FBQ0EsNERBQW9CLFdBQVcsR0FBWCxHQUFpQixhQUFqQixHQUFpQyxRQUFyRDtBQUNBLDREQUFvQiwrREFBcEI7QUFDQSw0REFBb0IsV0FBVyxHQUFYLEdBQWlCLGNBQWpCLEdBQWtDLFFBQXREO0FBQ0EsNERBQW9CLDZEQUFwQjtBQUNBLDREQUFvQixXQUFXLEdBQVgsR0FBaUIsWUFBakIsR0FBZ0MsUUFBcEQ7QUFDQSw0REFBb0IsaUVBQXBCO0FBQ0EsNERBQW9CLFdBQVcsR0FBWCxHQUFpQixlQUFqQixHQUFtQyxRQUF2RDtBQUNBLDREQUFvQiw4REFBcEI7QUFDQSw0Q0FBSSxnQkFBZ0IsV0FBVyxHQUFYLEdBQWlCLGFBQXJDO0FBQ0EsNENBQUksa0JBQWtCLEVBQXRCLEVBQ0ksb0JBQW9CLGlCQUFwQixDQURKLEtBR0ksb0JBQW9CLGtDQUFrQyxjQUFjLFNBQWQsQ0FBd0IsQ0FBeEIsQ0FBbEMsR0FBK0Qsb0JBQS9ELEdBQXNGLGFBQXRGLEdBQXNHLFlBQTFIO0FBQ0osNERBQW9CLHVFQUFwQjtBQUNBLDREQUFvQixXQUFXLEdBQVgsR0FBaUIsaUJBQWpCLEdBQXFDLFFBQXpEO0FBQ0EsNERBQW9CLGlHQUFwQjtBQUNBLDREQUFvQixrQkFBa0IsV0FBVyxHQUFYLEdBQWlCLHFCQUFuQyxHQUEyRCwrQ0FBL0U7QUFDQSw0REFBb0Isa0JBQWtCLFdBQVcsR0FBWCxHQUFpQixtQkFBbkMsR0FBeUQsb0RBQTdFO0FBQ0EsNERBQW9CLGtCQUFrQixXQUFXLEdBQVgsR0FBaUIsc0JBQW5DLEdBQTRELG1EQUFoRjtBQUNBLDREQUFvQixrQkFBa0IsV0FBVyxHQUFYLEdBQWlCLGNBQW5DLEdBQW9ELGdEQUF4RTtBQUNBLDREQUFvQixrQkFBa0IsV0FBVyxHQUFYLEdBQWlCLGNBQW5DLEdBQW9ELGdEQUF4RTtBQUNBLDREQUFvQiwrQ0FBcEI7QUFDQSw0REFBb0IsK0RBQStELFdBQVcsR0FBWCxHQUFpQixhQUFoRixHQUFnRyxRQUFwSDtBQUNBLDREQUFvQixnQ0FBcEI7QUFDSDtBQUNKLGlDQW5DRDtBQW9DQTtBQUNBLG9DQUFJLGlCQUFpQixDQUFyQixFQUNJLFNBQVMsY0FBVCxDQUF3Qiw2QkFBeEIsRUFBdUQsU0FBdkQsR0FBbUUsZ0JBQW5FLENBREosS0FHSSxTQUFTLGNBQVQsQ0FBd0IsNkJBQXhCLEVBQXVELFNBQXZELEdBQW1FLGdJQUFuRTtBQUNQLDZCQTVDRDtBQTZDQTtBQUNIO0FBQ0oscUJBeEREO0FBeURIO0FBQ0osYUFyTkQ7QUF3Tkg7Ozs7OztBQUNKOztBQUVELE9BQU8sR0FBUCxHQUFhLEdBQWI7Ozs7Ozs7Ozs7Ozs7SUN6UHFCLE07Ozs7Ozs7bUNBQ0M7QUFDZCxtQkFBTztBQUNILHdCQUFRLHlDQURMO0FBRUgsNEJBQVksaUNBRlQ7QUFHSCw2QkFBYSx3Q0FIVjtBQUlILCtCQUFlLDZCQUpaO0FBS0gsbUNBQW1CO0FBTGhCLGFBQVA7QUFPSDs7O21DQUVpQjtBQUNkLG1CQUFPLG1CQUFQO0FBQ0g7Ozs7OztrQkFiZ0IsTTs7Ozs7Ozs7Ozs7OztJQ0NBLG1CO0FBQ2pCLGlDQUFZLElBQVosRUFBa0IsYUFBbEIsRUFBaUM7QUFBQTs7QUFDN0IsYUFBSyxJQUFMLEdBQVksSUFBWjtBQUNBLGFBQUssUUFBTCxHQUFnQixjQUFjLEdBQWQsQ0FBa0IsTUFBbEIsQ0FBaEI7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsUUFBUSxTQUFTLGNBQWMsR0FBZCxDQUFrQixhQUFsQixDQUFULENBQVIsQ0FBaEI7QUFDQSxZQUFJLEtBQUssUUFBVCxFQUFtQixPQUFPLEdBQVAsQ0FBVyxHQUFYLENBQWUsTUFBZixDQUFzQixLQUF0QixDQUE0QixlQUE1QjtBQUNuQixhQUFLLFVBQUw7QUFDSDs7OztxQ0FFWTtBQUNULGdCQUFJLE1BQU0sU0FBUyxjQUFULENBQXdCLGFBQXhCLENBQVY7QUFDQSxnQkFBSSxTQUFKLHFCQUFnQyxLQUFLLFFBQXJDO0FBQ0EsbUJBQU8sNEJBQTRCLEtBQUssUUFBeEM7QUFDSDs7Ozs7O2tCQWJnQixtQjs7Ozs7Ozs7Ozs7OztJQ0RBLE87QUFDakIscUJBQVksSUFBWixFQUFrQixhQUFsQixFQUFpQztBQUFBOztBQUM3QixhQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsYUFBSyxHQUFMLEdBQVcsYUFBWDtBQUNBLGFBQUssZUFBTDtBQUNIOzs7OzBDQUVpQjtBQUNkLGdCQUFJLE9BQU8sU0FBUyxhQUFULENBQXVCLFFBQXZCLENBQVg7QUFDQSxpQkFBSyxZQUFMLENBQWtCLElBQWxCLEVBQXdCLGNBQXhCLEVBRmMsQ0FFMkI7QUFDekMsZ0JBQUksS0FBSyxTQUFTLGNBQVQsQ0FBd0IsbUJBQXhCLENBQVQ7QUFDQSxlQUFHLFVBQUgsQ0FBYyxZQUFkLENBQTJCLElBQTNCLEVBQWlDLEVBQWpDLEVBSmMsQ0FJd0I7QUFDdEMsaUJBQUssWUFBTCxDQUFrQixLQUFsQixFQUF5QixLQUFLLEdBQUwsR0FBVyw4RUFBWCxHQUE0RixLQUFLLElBQUwsQ0FBVSxHQUEvSDtBQUNIOzs7Ozs7a0JBYmdCLE87Ozs7Ozs7Ozs7O0FDQXJCOzs7O0FBQ0E7Ozs7Ozs7O0lBRXFCLE07QUFDakIsc0JBQWM7QUFBQTs7QUFDVixhQUFLLElBQUw7QUFDQSxhQUFLLE9BQUw7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQSxhQUFLLGFBQUw7QUFDQSxhQUFLLE1BQUw7QUFDSDs7OztpQ0FFUTtBQUNMLGdCQUFJLEtBQUssSUFBVCxFQUFlO0FBQ1gsb0JBQUksSUFBSSxNQUFKLENBQVcseUJBQVgsRUFBc0MsSUFBdEMsQ0FBMkMsT0FBTyxRQUFQLENBQWdCLFFBQTNELEtBQXdFLEtBQUssYUFBakYsRUFBZ0c7QUFDNUYsMkJBQU8sS0FBSyxpQkFBTCxFQUFQO0FBQ0g7QUFDSjs7QUFFRCxvQkFBUSxPQUFPLFFBQVAsQ0FBZ0IsUUFBeEI7QUFDSSxxQkFBSyxxQ0FBTDtBQUNJLHlCQUFLLHlCQUFMO0FBQ0E7QUFDSjtBQUNJLDRCQUFRLEdBQVIsQ0FBWSxPQUFaO0FBTFI7QUFPSDs7OzRDQUVtQjtBQUNoQixnQkFBSSxDQUFDLEtBQUssT0FBVixFQUFtQixLQUFLLE9BQUwsR0FBZSxzQkFBWSxLQUFLLElBQWpCLEVBQXVCLEtBQUssYUFBNUIsQ0FBZjtBQUN0Qjs7O3lDQUVnQixHLEVBQUs7QUFDbEIsaUJBQUssYUFBTCxHQUFxQixHQUFyQjtBQUNBLGlCQUFLLE1BQUw7QUFDSDs7O29EQUUyQjtBQUN4QixpQkFBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsZ0JBQUksWUFBWSxJQUFJLGVBQUosQ0FBb0IsT0FBTyxRQUFQLENBQWdCLE1BQXBDLENBQWhCO0FBQ0EsOENBQXdCLEtBQUssSUFBN0IsRUFBbUMsU0FBbkM7QUFDSDs7O3lDQUVnQjtBQUNiLG1CQUFPLEtBQUssUUFBWjtBQUNIOzs7Z0NBRU8sSSxFQUFNO0FBQ1YsaUJBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxpQkFBSyxNQUFMO0FBQ0g7Ozs7OztrQkEvQ2dCLE07OztBQ0hyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3psQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgRmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IFJvdXRlciBmcm9tICcuL3JvdXRlcic7XHJcbmltcG9ydCBWZXggZnJvbSAndmV4LWpzJztcclxuaW1wb3J0IFZleERpYWxvZyBmcm9tICd2ZXgtZGlhbG9nJztcclxuXHJcbmNsYXNzIEFwcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgVmV4LnJlZ2lzdGVyUGx1Z2luKFZleERpYWxvZyk7XHJcbiAgICAgICAgVmV4LmRlZmF1bHRPcHRpb25zLmNsYXNzTmFtZSA9IENvbmZpZy52ZXhUaGVtZSgpO1xyXG4gICAgICAgIHRoaXMudmV4ID0gVmV4O1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2UgPSBGaXJlYmFzZS5pbml0aWFsaXplQXBwKENvbmZpZy5maXJlYmFzZSgpKTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2VSZWYgPSB0aGlzLmZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoKTtcclxuICAgICAgICB0aGlzLm5hdiA9IEpTT04ucGFyc2UoZGF0YS5uYXYpO1xyXG4gICAgICAgIHRoaXMubGFuZyA9IGRhdGEubGFuZztcclxuICAgICAgICB0aGlzLnJvdXRlciA9IG5ldyBSb3V0ZXIoKTtcclxuICAgICAgICBpZiAoIXRoaXMucm91dGVyLnNob3VsZFNraXBJbml0KCkpIHRoaXMuaW5pdEFwcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEJlYW5zdHJlYW1VUkwodXJsKSB7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIuc2V0QmVhbnN0cmVhbVVSTCh1cmwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaW5pdEFwcCBoYW5kbGVzIHNldHRpbmcgdXAgVUkgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWdpc3RlcmluZyBGaXJlYmFzZSBhdXRoIGxpc3RlbmVyczpcclxuICAgICAqICAtIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQ6IFRoaXMgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHVzZXIgaXMgc2lnbmVkIGluIG9yXHJcbiAgICAgKiAgICBvdXQsIGFuZCB0aGF0IGlzIHdoZXJlIHdlIHVwZGF0ZSB0aGUgVUkuXHJcbiAgICAgKi9cclxuICAgIGluaXRBcHAoKSB7XHJcbiAgICAgICAgLy8gTGlzdGVuaW5nIGZvciBhdXRoIHN0YXRlIGNoYW5nZXMuXHJcbiAgICAgICAgdGhpcy5maXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY2NvdW50SnVzdENyZWF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudC1maXJzdC1uYW1lJykudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudC1sYXN0LW5hbWUnKS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBtZWRpY2FsU2Nob29sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnQtbWVkaWNhbC1zY2hvb2wnKS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBncmFkdWF0aW9uWWVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50LWdyYWR1YXRpb24teWVhcicpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndXNlcnMvJyArIHVzZXIudWlkKS5zZXQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBtZWRpY2FsU2Nob29sOiBtZWRpY2FsU2Nob29sLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyYWR1YXRpb25ZZWFyOiBncmFkdWF0aW9uWWVhcixcclxuICAgICAgICAgICAgICAgICAgICBpc0FkbWluOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGFjY291bnRKdXN0Q3JlYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubmF2LmZvckVhY2goKG5hdmlnYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0aW9uLmxhbmcgIT0gdGhpcy5sYW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5zZXRVc2VyKHVzZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBpbi5cclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tYnV0dG9uJykudGV4dENvbnRlbnQgPSBuYXZpZ2F0aW9uLmxvZ291dDtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVtYmVycycpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9TaG93IGFsbCBtZW1iZXItb25seSBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZW1iZXJFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21lbWJlcnMtb25seScpLCBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVtYmVyRWxlbWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlckVsZW1lbnRzW2ldLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vSGlkZSBhbGwgbm9uLW1lbWJlciBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub25NZW1iZXJFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25vbi1tZW1iZXJzJyksIGk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25NZW1iZXJFbGVtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uTWVtYmVyRWxlbWVudHNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICAvL0VuYWJsZSBmaWxlIHVwbG9hZHNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVwbG9hZGVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2lucHV0ZmlsZScpLCBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZVVwbG9hZGVycy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVVwbG9hZGVyc1tpXS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vU2hvdyBhZG1pbiBlbGVtZW50cyBpZiBpcyBhZG1pblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJy91c2Vycy8nICsgdXNlci51aWQpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LnZhbCgpLmlzQWRtaW4gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZG1pbkVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWRtaW4tb25seScpLCBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZG1pbkVsZW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluRWxlbWVudHNbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL0ZpbGUgdXBsb2FkIHN1cHBvcnRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVwbG9hZGVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2lucHV0ZmlsZScpLCBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZVVwbG9hZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlVXBsb2FkZXJzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZUZpbGVTZWxlY3QsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBvdXQuXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luLWJ1dHRvbicpLnRleHRDb250ZW50ID0gbmF2aWdhdGlvbi5sb2dpbjtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVtYmVycycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vSGlkZSBhbGwgbWVtYmVyLW9ubHkgZWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVtYmVyRWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZW1iZXJzLW9ubHknKSwgaTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbWJlckVsZW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJFbGVtZW50c1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vU2hvdyBhbGwgbm9uLW1lbWJlciBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub25NZW1iZXJFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25vbi1tZW1iZXJzJyksIGk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25NZW1iZXJFbGVtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uTWVtYmVyRWxlbWVudHNbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EaXNhYmxlIGZpbGUgdXBsb2Fkc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVXBsb2FkZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5wdXRmaWxlJyksIGk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlVXBsb2FkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVVcGxvYWRlcnNbaV0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGZpbGVVcGxvYWRlcnNbaV0ubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJIVE1MID0gXCJDaG9vc2UgYSBmaWxlJmhlbGxpcDtcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmlsZVVwbG9hZGVyc1tpXS5pZCArICctbGluaycpLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL0hpZGUgQWRtaW4gRWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWRtaW5FbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FkbWluLW9ubHknKSwgaTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkbWluRWxlbWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluRWxlbWVudHNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9TaG93cyBNZW1iZXIgQWNjb3VudCBJbmZvcm1hdGlvbiBvbiB0aGUgTWVtYmVycyBQYWdlXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT0gJy9tZW1iZXJzLydcclxuICAgICAgICAgICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PSAnL3Jlc291cmNlcy9tZC1sZWFkZXJzaGlwLWF3YXJkcy1hcHBsaWNhdGlvbi5odG1sJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCcvdXNlcnMvJyArIHVzZXIudWlkKS5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdE5hbWUgPSBzbmFwc2hvdC52YWwoKS5maXJzdE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0TmFtZSA9IHNuYXBzaG90LnZhbCgpLmxhc3ROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudC1uYW1lJykudGV4dENvbnRlbnQgPSBmaXJzdE5hbWUgKyAnICcgKyBsYXN0TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnQtc2Nob29sJykudGV4dENvbnRlbnQgPSBzbmFwc2hvdC52YWwoKS5tZWRpY2FsU2Nob29sO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudC1ncmFkLXllYXInKS50ZXh0Q29udGVudCA9IHNuYXBzaG90LnZhbCgpLmdyYWR1YXRpb25ZZWFyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWNjb3VudEVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnQtZW1haWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsLnRleHRDb250ZW50ID0gdXNlci5lbWFpbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsLmhyZWYgPSAnbWFpbHRvOicgKyB1c2VyLmVtYWlsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnQtbmFtZScpLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnQtc2Nob29sJykudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudC1ncmFkLXllYXInKS50ZXh0Q29udGVudCA9ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnRFbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50LWVtYWlsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsLmhyZWYgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9Mb2FkcyBwcmV2aW91cyBNRCBMZWFkZXJzaGlwIEF3YXJkIEZpbGVzIGlmIHVwbG9hZGVkXHJcbiAgICAgICAgICAgIGlmICh1c2VyICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PSAnL3Jlc291cmNlcy9tZC1sZWFkZXJzaGlwLWF3YXJkcy1hcHBsaWNhdGlvbi5odG1sJykge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vSGF2ZSB0aGV5IGV2ZW4gc2F2ZWQgYW55IGZpbGVzP1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlZlBhdGggPSAnbGVhZGVyc2hpcC1hd2FyZC8nICsgJ3t7IHNpdGUubGVhZGVyc2hpcF9hd2FyZF95ZWFycyB9fSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHJlZlBhdGgpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0lmIHRoZXkgaGF2ZSwgbG9hZCBpbmZvcm1hdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuY2hpbGQodXNlci51aWQpLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcHBsaWNhdGlvbiA9IHNuYXBzaG90LmNoaWxkKHVzZXIudWlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9Mb2FkcyB0aGUgc3VibWl0dGVkIGFwcGxpY2F0aW9uIGlmIG9uZSBleGlzdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uLmNoaWxkKCdzdWJtaXR0ZWQnKS5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFN1Ym1pc3Npb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL090aGVyd2lzZSBkaXNwbGF5cyBzYXZlZCBmaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZlBhdGggPSByZWZQYXRoICsgJy8nICsgdXNlci51aWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwbGljYXRpb24uY2hpbGQoJ3BlcnNvbmFsU3RhdGVtZW50JykuZXhpc3RzKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByZXZGaWxlKHJlZlBhdGgsICdwZXJzb25hbC1zdGF0ZW1lbnQnLCBhcHBsaWNhdGlvbi52YWwoKS5wZXJzb25hbFN0YXRlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwbGljYXRpb24uY2hpbGQoJ2N1cnJpY3VsdW1WaXRhZScpLmV4aXN0cygpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQcmV2RmlsZShyZWZQYXRoLCAnY3VycmljdWx1bS12aXRhZScsIGFwcGxpY2F0aW9uLnZhbCgpLmN1cnJpY3VsdW1WaXRhZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwbGljYXRpb24uY2hpbGQoJ2xldHRlckdvb2RTdGFuZGluZycpLmV4aXN0cygpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQcmV2RmlsZShyZWZQYXRoLCAnbGV0dGVyLWdvb2Qtc3RhbmRpbmcnLCBhcHBsaWNhdGlvbi52YWwoKS5sZXR0ZXJHb29kU3RhbmRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uLmNoaWxkKCdyZWZlcmVuY2UxJykuZXhpc3RzKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByZXZGaWxlKHJlZlBhdGgsICdyZWZlcmVuY2UtMScsIGFwcGxpY2F0aW9uLnZhbCgpLnJlZmVyZW5jZTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uLmNoaWxkKCdyZWZlcmVuY2UyJykuZXhpc3RzKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByZXZGaWxlKHJlZlBhdGgsICdyZWZlcmVuY2UtMicsIGFwcGxpY2F0aW9uLnZhbCgpLnJlZmVyZW5jZTIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZWZvcmVTdWJtaXNzaW9uRWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdiZWZvcmUtc3VibWlzc2lvbicpLCBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZWZvcmVTdWJtaXNzaW9uRWxlbWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlU3VibWlzc2lvbkVsZW1lbnRzW2ldLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFmdGVyU3VibWlzc2lvbkVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWZ0ZXItc3VibWlzc2lvbicpLCBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZnRlclN1Ym1pc3Npb25FbGVtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlclN1Ym1pc3Npb25FbGVtZW50c1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlU3VibWlzc2lvbkVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYmVmb3JlLXN1Ym1pc3Npb24nKSwgaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiZWZvcmVTdWJtaXNzaW9uRWxlbWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVTdWJtaXNzaW9uRWxlbWVudHNbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZnRlclN1Ym1pc3Npb25FbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FmdGVyLXN1Ym1pc3Npb24nKSwgaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZnRlclN1Ym1pc3Npb25FbGVtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyU3VibWlzc2lvbkVsZW1lbnRzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vTG9hZHMgU3VibWl0dGVkIEFwcGxpY2F0aW9uc1xyXG4gICAgICAgICAgICBpZiAodXNlciAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT0gJy9yZXNvdXJjZXMvbWQtbGVhZGVyc2hpcC1hd2FyZHMtdmlldy1hcHBsaWNhdGlvbnMuaHRtbCcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0NvbmZpcm0gdGhhdCBwcmVzZW50IHVzZXIgaXMgYW4gYWRtaW4uXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCcvdXNlcnMvJyArIHVzZXIudWlkKS5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LnZhbCgpLmlzQWRtaW4gPT09IHRydWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSGlkZSB0aGUgbm90LWF1dGhvcml6ZWQgc2lnbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdC1hdXRob3JpemVkJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSXRlcmF0ZXMgdGhyb3VnaCBlYWNoIHN1Ym1pdHRlZCBhcHBsaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdsZWFkZXJzaGlwLWF3YXJkLycgKyAne3sgc2l0ZS5sZWFkZXJzaGlwX2F3YXJkX3llYXJzIH19LycpLm9yZGVyQnlLZXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9bIS0gU1RBUlQgUVVFUlldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Lm9uY2UoXCJ2YWx1ZVwiKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uc0hUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0FwcGxpY2FudHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRTbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vQXBwbGljYW50cysrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lmIGEgbWVtYmVyIGhhcyBzdWJtaXR0ZWQgYW4gYXBwbGljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRTbmFwc2hvdC5jaGlsZCgnc3VibWl0dGVkJykuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ym1pc3Npb24gPSBjaGlsZFNuYXBzaG90O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9ICc8YmxvY2txdW90ZT48ZGl2IGNsYXNzPVwiZmxleC13cmFwcGVyIGF3YXJkLWFwcGxpY2F0aW9uXCI+PGRpdiBjbGFzcz1cImxlZnQtY29sXCI+PGg0IGNsYXNzPVwicmV2aWV3LWhlYWRlclwiPjxzdHJvbmc+QXBwbGljYW50PC9zdHJvbmc+PC9oND4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9ICc8bGFiZWw+TmFtZTwvbGFiZWw+PGRpdiBjbGFzcz1cInJldmlldy10ZXh0LWZpZWxkXCI+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSBzdWJtaXNzaW9uLnZhbCgpLm5hbWUgKyAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPGxhYmVsPk1lZGljYWwgU2Nob29sPC9sYWJlbD48ZGl2IGNsYXNzPVwicmV2aWV3LXRleHQtZmllbGRcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9IHN1Ym1pc3Npb24udmFsKCkubWVkaWNhbFNjaG9vbCArICc8L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9ICc8bGFiZWw+R3JhZHVhdGluZyBZZWFyPC9sYWJlbD48ZGl2IGNsYXNzPVwicmV2aWV3LXRleHQtZmllbGRcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9IHN1Ym1pc3Npb24udmFsKCkuZ3JhZHVhdGlvblllYXIgKyAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPGxhYmVsPkVtYWlsIEFkZHJlc3M8L2xhYmVsPjxkaXYgY2xhc3M9XCJyZXZpZXctdGV4dC1maWVsZFwiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uc0hUTUwgKz0gc3VibWlzc2lvbi52YWwoKS5lbWFpbEFkZHJlc3MgKyAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPGxhYmVsPkNNQSBNZW1iZXJzaGlwIElEPC9sYWJlbD48ZGl2IGNsYXNzPVwicmV2aWV3LXRleHQtZmllbGRcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9IHN1Ym1pc3Npb24udmFsKCkuY21hTWVtYmVyc2hpcElEICsgJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uc0hUTUwgKz0gJzxsYWJlbD5Ud2l0dGVyIEhhbmRsZTwvbGFiZWw+PGRpdiBjbGFzcz1cInJldmlldy10ZXh0LWZpZWxkXCI+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR3aXR0ZXJIYW5kbGUgPSBzdWJtaXNzaW9uLnZhbCgpLnR3aXR0ZXJIYW5kbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0d2l0dGVySGFuZGxlID09PSAnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uc0hUTUwgKz0gJ05vdCBnaXZlbjwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uc0hUTUwgKz0gJzxhIGhyZWY9XCJodHRwczovL3R3aXR0ZXIuY29tLycgKyB0d2l0dGVySGFuZGxlLnN1YnN0cmluZygxKSArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgdHdpdHRlckhhbmRsZSArICc8L2E+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPGxhYmVsPkF0dGVuZGluZyB0aGUgQ0ZNUyBTR00/PC9sYWJlbD48ZGl2IGNsYXNzPVwicmV2aWV3LXRleHQtZmllbGRcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9IHN1Ym1pc3Npb24udmFsKCkubWVldGluZ0F0dGVuZGFuY2UgKyAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPC9kaXY+PGRpdiBjbGFzcz1cInJpZ2h0LWNvbFwiPjxoNCBjbGFzcz1cInJldmlldy1oZWFkZXJcIj48c3Ryb25nPkF0dGFjaGVkIEZpbGVzPC9zdHJvbmc+PC9oND48dWw+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPGxpPjxhIGhyZWY9XCInICsgc3VibWlzc2lvbi52YWwoKS5saW5rUGVyc29uYWxTdGF0ZW1lbnQgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+UGVyc29uYWwgU3RhdGVtZW50PC9hPjwvbGk+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPGxpPjxhIGhyZWY9XCInICsgc3VibWlzc2lvbi52YWwoKS5saW5rQ3VycmljdWx1bVZpdGFlICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPlJlc3VtZS9DdXJyaWN1bHVtIFZpdGFlPC9hPjwvbGk+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPGxpPjxhIGhyZWY9XCInICsgc3VibWlzc2lvbi52YWwoKS5saW5rTGV0dGVyR29vZFN0YW5kaW5nICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPlByb29mIG9mIEdvb2QgU3RhbmRpbmc8L2E+PC9saT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9ICc8bGk+PGEgaHJlZj1cIicgKyBzdWJtaXNzaW9uLnZhbCgpLmxpbmtSZWZlcmVuY2UxICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPlJlZmVyZW5jZSBMZXR0ZXIgIzE8L2E+PC9saT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9ICc8bGk+PGEgaHJlZj1cIicgKyBzdWJtaXNzaW9uLnZhbCgpLmxpbmtSZWZlcmVuY2UyICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPlJlZmVyZW5jZSBMZXR0ZXIgIzI8L2E+PC9saT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9ICc8L3VsPjxoND48c3Ryb25nPkRhdGUgU3VibWl0dGVkPC9zdHJvbmc+PC9oND4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbnNIVE1MICs9ICc8ZGl2IGNsYXNzPVwicmV2aWV3LXRleHQtZmllbGRcIiBzdHlsZT1cImZvbnQtd2VpZ2h0Om5vcm1hbFwiPicgKyBzdWJtaXNzaW9uLnZhbCgpLmRhdGVTdWJtaXR0ZWQgKyAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25zSFRNTCArPSAnPC91bD48L2Rpdj48L2Rpdj48L2Jsb2NrcXVvdGU+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vV3JpdGUgdGhlIEhUTUwgZm9yIHRoZSBzdWJtaXNzaW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vQXBwbGljYW50cyAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0dGVkLWFwcGxpY2F0aW9ucy1saXN0JykuaW5uZXJIVE1MID0gYXBwbGljYXRpb25zSFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0dGVkLWFwcGxpY2F0aW9ucy1saXN0JykuaW5uZXJIVE1MID0gJzxibG9ja3F1b3RlPjxoMz48c3Ryb25nPk5vIFN1Ym1pdHRlZCBBcHBsaWNhdGlvbnMgWWV0PC9zdHJvbmc+PC9oMz48dWw+PGxpPkl0XFwncyBvbmx5IGEgbWF0dGVyIG9mIHRpbWUhPC9saT48L3VsPjwvYmxvY2txdW90ZT4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1shLSBFTkQgUVVFUlldXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG59O1xyXG5cclxud2luZG93LkFwcCA9IEFwcDsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWcge1xyXG4gICAgc3RhdGljIGZpcmViYXNlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFwaUtleTogXCJBSXphU3lDUmFKU3RRRHVaMG5ybjBiNTlrellwaGxBa0o2MmZsbzhcIixcclxuICAgICAgICAgICAgYXV0aERvbWFpbjogXCJhbWJlci1oZWF0LTkxMzIuZmlyZWJhc2VhcHAuY29tXCIsXHJcbiAgICAgICAgICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vYW1iZXItaGVhdC05MTMyLmZpcmViYXNlaW8uY29tXCIsXHJcbiAgICAgICAgICAgIHN0b3JhZ2VCdWNrZXQ6IFwiYW1iZXItaGVhdC05MTMyLmFwcHNwb3QuY29tXCIsXHJcbiAgICAgICAgICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjQ2NjIzMjAzOTIxOFwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdmV4VGhlbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuICd2ZXgtdGhlbWUtZGVmYXVsdCc7XHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudENvbmZpcm1hdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih1c2VyLCB1cmxQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcclxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXJsUGFyYW1ldGVycy5nZXQoJ3JlZjEnKTtcclxuICAgICAgICB0aGlzLmFwcHJvdmVkID0gQm9vbGVhbihwYXJzZUludCh1cmxQYXJhbWV0ZXJzLmdldCgndHJuQXBwcm92ZWQnKSkpO1xyXG4gICAgICAgIGlmICh0aGlzLmFwcHJvdmVkKSB3aW5kb3cuYXBwLnZleC5kaWFsb2cuYWxlcnQoJ0hlbGxvLCBXb3JsZCEnKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZvcm0oKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVGb3JtKCkge1xyXG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFRoZSB1c2VyIGlzOiAke3RoaXMudXNlcm5hbWV9YDtcclxuICAgICAgICByZXR1cm4gJ1BheW1lbnQgY29uZmlybWVkIGZvcjogJyArIHRoaXMudXNlcm5hbWU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHVzZXIsIGJlYW5zdHJlYW1VUkwpIHtcclxuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgIHRoaXMudXJsID0gYmVhbnN0cmVhbVVSTDtcclxuICAgICAgICB0aGlzLmluaXRQYXltZW50Rm9ybSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRQYXltZW50Rm9ybSgpIHtcclxuICAgICAgICBsZXQgaWZybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG4gICAgICAgIGlmcm0uc2V0QXR0cmlidXRlKCdpZCcsICdwYXltZW50LWZvcm0nKTsgLy8gYXNzaWduIGFuIGlkIFxyXG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctYWNjb3VudC1yaWdodCcpO1xyXG4gICAgICAgIGVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGlmcm0sIGVsKTsgLy8gYXNzaWduXHJcbiAgICAgICAgaWZybS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMudXJsICsgJyZhcHByb3ZlZFBhZ2U9aHR0cDovLzEyNy4wLjAuMTo0MDAwL21lbWJlcnMvcGF5bWVudHMvY29uZmlybWF0aW9uLmh0bWwmcmVmMT0nICsgdGhpcy51c2VyLnVpZCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGF5bWVudCBmcm9tICcuL3BheW1lbnQnO1xyXG5pbXBvcnQgUGF5bWVudENvbmZpcm1hdGlvbiBmcm9tICcuL3BheW1lbnQtY29uZmlybWF0aW9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnVzZXI7XHJcbiAgICAgICAgdGhpcy5wYXltZW50O1xyXG4gICAgICAgIHRoaXMuc2tpcEluaXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJlYW5zdHJlYW1VUkw7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXNlcikge1xyXG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCgnXFwvbWVtYmVyc1xcL3BheW1lbnRzXFwvLisnKS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSkgJiYgdGhpcy5iZWFuc3RyZWFtVVJMKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQYXltZW50SW5pdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlICcvbWVtYmVycy9wYXltZW50cy9jb25maXJtYXRpb24uaHRtbCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBheW1lbnRDb25maXJtYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ090aGVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVBheW1lbnRJbml0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wYXltZW50KSB0aGlzLnBheW1lbnQgPSBuZXcgUGF5bWVudCh0aGlzLnVzZXIsIHRoaXMuYmVhbnN0cmVhbVVSTCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QmVhbnN0cmVhbVVSTCh1cmwpIHtcclxuICAgICAgICB0aGlzLmJlYW5zdHJlYW1VUkwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVQYXltZW50Q29uZmlybWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2tpcEluaXQgPSB0cnVlO1xyXG4gICAgICAgIGxldCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIG5ldyBQYXltZW50Q29uZmlybWF0aW9uKHRoaXMudXNlciwgdXJsUGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG91bGRTa2lwSW5pdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5za2lwSW5pdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VyKHVzZXIpIHtcclxuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcbn0iLCIvKlxuICogY2xhc3NMaXN0LmpzOiBDcm9zcy1icm93c2VyIGZ1bGwgZWxlbWVudC5jbGFzc0xpc3QgaW1wbGVtZW50YXRpb24uXG4gKiAyMDE0LTA3LTIzXG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogUHVibGljIERvbWFpbi5cbiAqIE5PIFdBUlJBTlRZIEVYUFJFU1NFRCBPUiBJTVBMSUVELiBVU0UgQVQgWU9VUiBPV04gUklTSy5cbiAqL1xuXG4vKmdsb2JhbCBzZWxmLCBkb2N1bWVudCwgRE9NRXhjZXB0aW9uICovXG5cbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvY2xhc3NMaXN0LmpzKi9cblxuLyogQ29waWVkIGZyb20gTUROOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xhc3NMaXN0XG4gKi9cblxuaWYgKFwiZG9jdW1lbnRcIiBpbiB3aW5kb3cuc2VsZikge1xuXG4gIC8vIEZ1bGwgcG9seWZpbGwgZm9yIGJyb3dzZXJzIHdpdGggbm8gY2xhc3NMaXN0IHN1cHBvcnRcbiAgLy8gSW5jbHVkaW5nIElFIDwgRWRnZSBtaXNzaW5nIFNWR0VsZW1lbnQuY2xhc3NMaXN0XG4gIGlmICghKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikpXG4gICAgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmICEoXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiZ1wiKSkpIHtcblxuICAoZnVuY3Rpb24gKHZpZXcpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKCEoJ0VsZW1lbnQnIGluIHZpZXcpKSByZXR1cm47XG5cbiAgICB2YXJcbiAgICAgICAgY2xhc3NMaXN0UHJvcCA9IFwiY2xhc3NMaXN0XCJcbiAgICAgICwgcHJvdG9Qcm9wID0gXCJwcm90b3R5cGVcIlxuICAgICAgLCBlbGVtQ3RyUHJvdG8gPSB2aWV3LkVsZW1lbnRbcHJvdG9Qcm9wXVxuICAgICAgLCBvYmpDdHIgPSBPYmplY3RcbiAgICAgICwgc3RyVHJpbSA9IFN0cmluZ1twcm90b1Byb3BdLnRyaW0gfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbiAgICAgIH1cbiAgICAgICwgYXJySW5kZXhPZiA9IEFycmF5W3Byb3RvUHJvcF0uaW5kZXhPZiB8fCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGkgPSAwXG4gICAgICAgICAgLCBsZW4gPSB0aGlzLmxlbmd0aFxuICAgICAgICA7XG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICAvLyBWZW5kb3JzOiBwbGVhc2UgYWxsb3cgY29udGVudCBjb2RlIHRvIGluc3RhbnRpYXRlIERPTUV4Y2VwdGlvbnNcbiAgICAgICwgRE9NRXggPSBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSB0eXBlO1xuICAgICAgICB0aGlzLmNvZGUgPSBET01FeGNlcHRpb25bdHlwZV07XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICB9XG4gICAgICAsIGNoZWNrVG9rZW5BbmRHZXRJbmRleCA9IGZ1bmN0aW9uIChjbGFzc0xpc3QsIHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJcIikge1xuICAgICAgICAgIHRocm93IG5ldyBET01FeChcbiAgICAgICAgICAgICAgXCJTWU5UQVhfRVJSXCJcbiAgICAgICAgICAgICwgXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9cXHMvLnRlc3QodG9rZW4pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IERPTUV4KFxuICAgICAgICAgICAgICBcIklOVkFMSURfQ0hBUkFDVEVSX0VSUlwiXG4gICAgICAgICAgICAsIFwiU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJJbmRleE9mLmNhbGwoY2xhc3NMaXN0LCB0b2tlbik7XG4gICAgICB9XG4gICAgICAsIENsYXNzTGlzdCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdHJpbW1lZENsYXNzZXMgPSBzdHJUcmltLmNhbGwoZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKVxuICAgICAgICAgICwgY2xhc3NlcyA9IHRyaW1tZWRDbGFzc2VzID8gdHJpbW1lZENsYXNzZXMuc3BsaXQoL1xccysvKSA6IFtdXG4gICAgICAgICAgLCBpID0gMFxuICAgICAgICAgICwgbGVuID0gY2xhc3Nlcy5sZW5ndGhcbiAgICAgICAgO1xuICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5wdXNoKGNsYXNzZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMudG9TdHJpbmcoKSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAsIGNsYXNzTGlzdFByb3RvID0gQ2xhc3NMaXN0W3Byb3RvUHJvcF0gPSBbXVxuICAgICAgLCBjbGFzc0xpc3RHZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2xhc3NMaXN0KHRoaXMpO1xuICAgICAgfVxuICAgIDtcbiAgICAvLyBNb3N0IERPTUV4Y2VwdGlvbiBpbXBsZW1lbnRhdGlvbnMgZG9uJ3QgYWxsb3cgY2FsbGluZyBET01FeGNlcHRpb24ncyB0b1N0cmluZygpXG4gICAgLy8gb24gbm9uLURPTUV4Y2VwdGlvbnMuIEVycm9yJ3MgdG9TdHJpbmcoKSBpcyBzdWZmaWNpZW50IGhlcmUuXG4gICAgRE9NRXhbcHJvdG9Qcm9wXSA9IEVycm9yW3Byb3RvUHJvcF07XG4gICAgY2xhc3NMaXN0UHJvdG8uaXRlbSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gdGhpc1tpXSB8fCBudWxsO1xuICAgIH07XG4gICAgY2xhc3NMaXN0UHJvdG8uY29udGFpbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgIHRva2VuICs9IFwiXCI7XG4gICAgICByZXR1cm4gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSAhPT0gLTE7XG4gICAgfTtcbiAgICBjbGFzc0xpc3RQcm90by5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXJcbiAgICAgICAgICB0b2tlbnMgPSBhcmd1bWVudHNcbiAgICAgICAgLCBpID0gMFxuICAgICAgICAsIGwgPSB0b2tlbnMubGVuZ3RoXG4gICAgICAgICwgdG9rZW5cbiAgICAgICAgLCB1cGRhdGVkID0gZmFsc2VcbiAgICAgIDtcbiAgICAgIGRvIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuICAgICAgICBpZiAoY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnB1c2godG9rZW4pO1xuICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpIDwgbCk7XG5cbiAgICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY2xhc3NMaXN0UHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyXG4gICAgICAgICAgdG9rZW5zID0gYXJndW1lbnRzXG4gICAgICAgICwgaSA9IDBcbiAgICAgICAgLCBsID0gdG9rZW5zLmxlbmd0aFxuICAgICAgICAsIHRva2VuXG4gICAgICAgICwgdXBkYXRlZCA9IGZhbHNlXG4gICAgICAgICwgaW5kZXhcbiAgICAgIDtcbiAgICAgIGRvIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuICAgICAgICBpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7XG4gICAgICAgIHdoaWxlIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgdXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgaW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpIDwgbCk7XG5cbiAgICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY2xhc3NMaXN0UHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gKHRva2VuLCBmb3JjZSkge1xuICAgICAgdG9rZW4gKz0gXCJcIjtcblxuICAgICAgdmFyXG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy5jb250YWlucyh0b2tlbilcbiAgICAgICAgLCBtZXRob2QgPSByZXN1bHQgP1xuICAgICAgICAgIGZvcmNlICE9PSB0cnVlICYmIFwicmVtb3ZlXCJcbiAgICAgICAgOlxuICAgICAgICAgIGZvcmNlICE9PSBmYWxzZSAmJiBcImFkZFwiXG4gICAgICA7XG5cbiAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgdGhpc1ttZXRob2RdKHRva2VuKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcmNlID09PSB0cnVlIHx8IGZvcmNlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZm9yY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNsYXNzTGlzdFByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuam9pbihcIiBcIik7XG4gICAgfTtcblxuICAgIGlmIChvYmpDdHIuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgIHZhciBjbGFzc0xpc3RQcm9wRGVzYyA9IHtcbiAgICAgICAgICBnZXQ6IGNsYXNzTGlzdEdldHRlclxuICAgICAgICAsIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG4gICAgICB9IGNhdGNoIChleCkgeyAvLyBJRSA4IGRvZXNuJ3Qgc3VwcG9ydCBlbnVtZXJhYmxlOnRydWVcbiAgICAgICAgaWYgKGV4Lm51bWJlciA9PT0gLTB4N0ZGNUVDNTQpIHtcbiAgICAgICAgICBjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgb2JqQ3RyLmRlZmluZVByb3BlcnR5KGVsZW1DdHJQcm90bywgY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0UHJvcERlc2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmpDdHJbcHJvdG9Qcm9wXS5fX2RlZmluZUdldHRlcl9fKSB7XG4gICAgICBlbGVtQ3RyUHJvdG8uX19kZWZpbmVHZXR0ZXJfXyhjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RHZXR0ZXIpO1xuICAgIH1cblxuICAgIH0od2luZG93LnNlbGYpKTtcblxuICAgIH0gZWxzZSB7XG4gICAgLy8gVGhlcmUgaXMgZnVsbCBvciBwYXJ0aWFsIG5hdGl2ZSBjbGFzc0xpc3Qgc3VwcG9ydCwgc28ganVzdCBjaGVjayBpZiB3ZSBuZWVkXG4gICAgLy8gdG8gbm9ybWFsaXplIHRoZSBhZGQvcmVtb3ZlIGFuZCB0b2dnbGUgQVBJcy5cblxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgdmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIik7XG5cbiAgICAgIHRlc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjMVwiLCBcImMyXCIpO1xuXG4gICAgICAvLyBQb2x5ZmlsbCBmb3IgSUUgMTAvMTEgYW5kIEZpcmVmb3ggPDI2LCB3aGVyZSBjbGFzc0xpc3QuYWRkIGFuZFxuICAgICAgLy8gY2xhc3NMaXN0LnJlbW92ZSBleGlzdCBidXQgc3VwcG9ydCBvbmx5IG9uZSBhcmd1bWVudCBhdCBhIHRpbWUuXG4gICAgICBpZiAoIXRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMyXCIpKSB7XG4gICAgICAgIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgICB2YXIgb3JpZ2luYWwgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF07XG5cbiAgICAgICAgICBET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICAgICAgdmFyIGksIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICB0b2tlbiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgb3JpZ2luYWwuY2FsbCh0aGlzLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY3JlYXRlTWV0aG9kKCdhZGQnKTtcbiAgICAgICAgY3JlYXRlTWV0aG9kKCdyZW1vdmUnKTtcbiAgICAgIH1cblxuICAgICAgdGVzdEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImMzXCIsIGZhbHNlKTtcblxuICAgICAgLy8gUG9seWZpbGwgZm9yIElFIDEwIGFuZCBGaXJlZm94IDwyNCwgd2hlcmUgY2xhc3NMaXN0LnRvZ2dsZSBkb2VzIG5vdFxuICAgICAgLy8gc3VwcG9ydCB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgICAgaWYgKHRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMzXCIpKSB7XG4gICAgICAgIHZhciBfdG9nZ2xlID0gRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU7XG5cbiAgICAgICAgRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbih0b2tlbiwgZm9yY2UpIHtcbiAgICAgICAgICBpZiAoMSBpbiBhcmd1bWVudHMgJiYgIXRoaXMuY29udGFpbnModG9rZW4pID09PSAhZm9yY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JjZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF90b2dnbGUuY2FsbCh0aGlzLCB0b2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICB9XG5cbiAgICAgIHRlc3RFbGVtZW50ID0gbnVsbDtcbiAgICB9KCkpO1xuICB9XG59XG4iLCJcbi8qKlxuICogRXhwb3NlIGBwYXJzZWAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZTtcblxuLyoqXG4gKiBUZXN0cyBmb3IgYnJvd3NlciBzdXBwb3J0LlxuICovXG5cbnZhciBpbm5lckhUTUxCdWcgPSBmYWxzZTtcbnZhciBidWdUZXN0RGl2O1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgYnVnVGVzdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAvLyBTZXR1cFxuICBidWdUZXN0RGl2LmlubmVySFRNTCA9ICcgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPVwiL2FcIj5hPC9hPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIi8+JztcbiAgLy8gTWFrZSBzdXJlIHRoYXQgbGluayBlbGVtZW50cyBnZXQgc2VyaWFsaXplZCBjb3JyZWN0bHkgYnkgaW5uZXJIVE1MXG4gIC8vIFRoaXMgcmVxdWlyZXMgYSB3cmFwcGVyIGVsZW1lbnQgaW4gSUVcbiAgaW5uZXJIVE1MQnVnID0gIWJ1Z1Rlc3REaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpbmsnKS5sZW5ndGg7XG4gIGJ1Z1Rlc3REaXYgPSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogV3JhcCBtYXAgZnJvbSBqcXVlcnkuXG4gKi9cblxudmFyIG1hcCA9IHtcbiAgbGVnZW5kOiBbMSwgJzxmaWVsZHNldD4nLCAnPC9maWVsZHNldD4nXSxcbiAgdHI6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxuICBjb2w6IFsyLCAnPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4nLCAnPC9jb2xncm91cD48L3RhYmxlPiddLFxuICAvLyBmb3Igc2NyaXB0L2xpbmsvc3R5bGUgdGFncyB0byB3b3JrIGluIElFNi04LCB5b3UgaGF2ZSB0byB3cmFwXG4gIC8vIGluIGEgZGl2IHdpdGggYSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgaW4gZnJvbnQsIGhhIVxuICBfZGVmYXVsdDogaW5uZXJIVE1MQnVnID8gWzEsICdYPGRpdj4nLCAnPC9kaXY+J10gOiBbMCwgJycsICcnXVxufTtcblxubWFwLnRkID1cbm1hcC50aCA9IFszLCAnPHRhYmxlPjx0Ym9keT48dHI+JywgJzwvdHI+PC90Ym9keT48L3RhYmxlPiddO1xuXG5tYXAub3B0aW9uID1cbm1hcC5vcHRncm91cCA9IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JywgJzwvc2VsZWN0PiddO1xuXG5tYXAudGhlYWQgPVxubWFwLnRib2R5ID1cbm1hcC5jb2xncm91cCA9XG5tYXAuY2FwdGlvbiA9XG5tYXAudGZvb3QgPSBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXTtcblxubWFwLnBvbHlsaW5lID1cbm1hcC5lbGxpcHNlID1cbm1hcC5wb2x5Z29uID1cbm1hcC5jaXJjbGUgPVxubWFwLnRleHQgPVxubWFwLmxpbmUgPVxubWFwLnBhdGggPVxubWFwLnJlY3QgPVxubWFwLmcgPSBbMSwgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZlcnNpb249XCIxLjFcIj4nLCc8L3N2Zz4nXTtcblxuLyoqXG4gKiBQYXJzZSBgaHRtbGAgYW5kIHJldHVybiBhIERPTSBOb2RlIGluc3RhbmNlLCB3aGljaCBjb3VsZCBiZSBhIFRleHROb2RlLFxuICogSFRNTCBET00gTm9kZSBvZiBzb21lIGtpbmQgKDxkaXY+IGZvciBleGFtcGxlKSwgb3IgYSBEb2N1bWVudEZyYWdtZW50XG4gKiBpbnN0YW5jZSwgZGVwZW5kaW5nIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgYGh0bWxgIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbCAtIEhUTUwgc3RyaW5nIHRvIFwiZG9taWZ5XCJcbiAqIEBwYXJhbSB7RG9jdW1lbnR9IGRvYyAtIFRoZSBgZG9jdW1lbnRgIGluc3RhbmNlIHRvIGNyZWF0ZSB0aGUgTm9kZSBmb3JcbiAqIEByZXR1cm4ge0RPTU5vZGV9IHRoZSBUZXh0Tm9kZSwgRE9NIE5vZGUsIG9yIERvY3VtZW50RnJhZ21lbnQgaW5zdGFuY2VcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKGh0bWwsIGRvYykge1xuICBpZiAoJ3N0cmluZycgIT0gdHlwZW9mIGh0bWwpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCcpO1xuXG4gIC8vIGRlZmF1bHQgdG8gdGhlIGdsb2JhbCBgZG9jdW1lbnRgIG9iamVjdFxuICBpZiAoIWRvYykgZG9jID0gZG9jdW1lbnQ7XG5cbiAgLy8gdGFnIG5hbWVcbiAgdmFyIG0gPSAvPChbXFx3Ol0rKS8uZXhlYyhodG1sKTtcbiAgaWYgKCFtKSByZXR1cm4gZG9jLmNyZWF0ZVRleHROb2RlKGh0bWwpO1xuXG4gIGh0bWwgPSBodG1sLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTsgLy8gUmVtb3ZlIGxlYWRpbmcvdHJhaWxpbmcgd2hpdGVzcGFjZVxuXG4gIHZhciB0YWcgPSBtWzFdO1xuXG4gIC8vIGJvZHkgc3VwcG9ydFxuICBpZiAodGFnID09ICdib2R5Jykge1xuICAgIHZhciBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgZWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgICByZXR1cm4gZWwucmVtb3ZlQ2hpbGQoZWwubGFzdENoaWxkKTtcbiAgfVxuXG4gIC8vIHdyYXAgbWFwXG4gIHZhciB3cmFwID0gbWFwW3RhZ10gfHwgbWFwLl9kZWZhdWx0O1xuICB2YXIgZGVwdGggPSB3cmFwWzBdO1xuICB2YXIgcHJlZml4ID0gd3JhcFsxXTtcbiAgdmFyIHN1ZmZpeCA9IHdyYXBbMl07XG4gIHZhciBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZWwuaW5uZXJIVE1MID0gcHJlZml4ICsgaHRtbCArIHN1ZmZpeDtcbiAgd2hpbGUgKGRlcHRoLS0pIGVsID0gZWwubGFzdENoaWxkO1xuXG4gIC8vIG9uZSBlbGVtZW50XG4gIGlmIChlbC5maXJzdENoaWxkID09IGVsLmxhc3RDaGlsZCkge1xuICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcbiAgfVxuXG4gIC8vIHNldmVyYWwgZWxlbWVudHNcbiAgdmFyIGZyYWdtZW50ID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgd2hpbGUgKGVsLmZpcnN0Q2hpbGQpIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKSk7XG4gIH1cblxuICByZXR1cm4gZnJhZ21lbnQ7XG59XG4iLCIvKipcbiAqIENvZGUgcmVmYWN0b3JlZCBmcm9tIE1vemlsbGEgRGV2ZWxvcGVyIE5ldHdvcms6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBmaXJzdFNvdXJjZSkge1xuICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgZmlyc3QgYXJndW1lbnQgdG8gb2JqZWN0Jyk7XG4gIH1cblxuICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAobmV4dFNvdXJjZSA9PT0gdW5kZWZpbmVkIHx8IG5leHRTb3VyY2UgPT09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBrZXlzQXJyYXkgPSBPYmplY3Qua2V5cyhPYmplY3QobmV4dFNvdXJjZSkpO1xuICAgIGZvciAodmFyIG5leHRJbmRleCA9IDAsIGxlbiA9IGtleXNBcnJheS5sZW5ndGg7IG5leHRJbmRleCA8IGxlbjsgbmV4dEluZGV4KyspIHtcbiAgICAgIHZhciBuZXh0S2V5ID0ga2V5c0FycmF5W25leHRJbmRleF07XG4gICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSwgbmV4dEtleSk7XG4gICAgICBpZiAoZGVzYyAhPT0gdW5kZWZpbmVkICYmIGRlc2MuZW51bWVyYWJsZSkge1xuICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cblxuZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gIGlmICghT2JqZWN0LmFzc2lnbikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QsICdhc3NpZ24nLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGFzc2lnblxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhc3NpZ246IGFzc2lnbixcbiAgcG9seWZpbGw6IHBvbHlmaWxsXG59O1xuIiwidmFyIGZpcmViYXNlID0gKGZ1bmN0aW9uKCl7XG4vKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjMuNi4zXG4gICAgQnVpbGQ6IDMuNi4zLXJjLjZcbiAgICBUZXJtczogaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL3Rlcm1zLyAqL1xudmFyIGZpcmViYXNlID0gbnVsbDsgKGZ1bmN0aW9uKCkgeyB2YXIgYWE9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixjKXtpZihjLmdldHx8Yy5zZXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVTMyBkb2VzIG5vdCBzdXBwb3J0IGdldHRlcnMgYW5kIHNldHRlcnMuXCIpO2EhPUFycmF5LnByb3RvdHlwZSYmYSE9T2JqZWN0LnByb3RvdHlwZSYmKGFbYl09Yy52YWx1ZSl9LGg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93PT09dGhpcz90aGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJm51bGwhPWdsb2JhbD9nbG9iYWw6dGhpcyxsPWZ1bmN0aW9uKCl7bD1mdW5jdGlvbigpe307aC5TeW1ib2x8fChoLlN5bWJvbD1iYSl9LGNhPTAsYmE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJqc2NvbXBfc3ltYm9sX1wiKyhhfHxcIlwiKStjYSsrfSxuPWZ1bmN0aW9uKCl7bCgpO3ZhciBhPWguU3ltYm9sLml0ZXJhdG9yO2F8fChhPWguU3ltYm9sLml0ZXJhdG9yPVxuaC5TeW1ib2woXCJpdGVyYXRvclwiKSk7XCJmdW5jdGlvblwiIT10eXBlb2YgQXJyYXkucHJvdG90eXBlW2FdJiZhYShBcnJheS5wcm90b3R5cGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG0odGhpcyl9fSk7bj1mdW5jdGlvbigpe319LG09ZnVuY3Rpb24oYSl7dmFyIGI9MDtyZXR1cm4gZGEoZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX0pfSxkYT1mdW5jdGlvbihhKXtuKCk7YT17bmV4dDphfTthW2guU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gYX0scT10aGlzLHI9ZnVuY3Rpb24oKXt9LHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO1xuaWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LHY9ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10KGEpfSxlYT1mdW5jdGlvbihhLFxuYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfSxmYT1mdW5jdGlvbihhLGIsYyl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGMsZCk7cmV0dXJuIGEuYXBwbHkoYixjKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixhcmd1bWVudHMpfX0sdz1mdW5jdGlvbihhLGIsYyl7dz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2VhOmZhO3JldHVybiB3LmFwcGx5KG51bGwsYXJndW1lbnRzKX0seD1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyxcbjEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWMuc2xpY2UoKTtiLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiBhLmFwcGx5KHRoaXMsYil9fSx5PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLmJhPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5hYT1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBkPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksZT0yO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZFtlLTJdPWFyZ3VtZW50c1tlXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxkKX19O3ZhciB6O3o9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygc2VsZj9zZWxmOmdsb2JhbDtmdW5jdGlvbiBfX2V4dGVuZHMoYSxiKXtmdW5jdGlvbiBjKCl7dGhpcy5jb25zdHJ1Y3Rvcj1hfWZvcih2YXIgZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJihhW2RdPWJbZF0pO2EucHJvdG90eXBlPW51bGw9PT1iP09iamVjdC5jcmVhdGUoYik6KGMucHJvdG90eXBlPWIucHJvdG90eXBlLG5ldyBjKX1cbmZ1bmN0aW9uIF9fZGVjb3JhdGUoYSxiLGMsZCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCxmPTM+ZT9iOm51bGw9PT1kP2Q9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpOmQsZztnPXouUmVmbGVjdDtpZihcIm9iamVjdFwiPT09dHlwZW9mIGcmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmRlY29yYXRlKWY9Zy5kZWNvcmF0ZShhLGIsYyxkKTtlbHNlIGZvcih2YXIgaz1hLmxlbmd0aC0xOzA8PWs7ay0tKWlmKGc9YVtrXSlmPSgzPmU/ZyhmKTozPGU/ZyhiLGMsZik6ZyhiLGMpKXx8ZjtyZXR1cm4gMzxlJiZmJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYixjLGYpLGZ9ZnVuY3Rpb24gX19tZXRhZGF0YShhLGIpe3ZhciBjPXouUmVmbGVjdDtpZihcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLm1ldGFkYXRhKXJldHVybiBjLm1ldGFkYXRhKGEsYil9XG52YXIgX19wYXJhbT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe2IoYyxkLGEpfX0sX19hd2FpdGVyPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgKGN8fChjPVByb21pc2UpKShmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGcoYSl7dHJ5e3AoZC5uZXh0KGEpKX1jYXRjaCh1KXtmKHUpfX1mdW5jdGlvbiBrKGEpe3RyeXtwKGQudGhyb3coYSkpfWNhdGNoKHUpe2YodSl9fWZ1bmN0aW9uIHAoYSl7YS5kb25lP2UoYS52YWx1ZSk6KG5ldyBjKGZ1bmN0aW9uKGIpe2IoYS52YWx1ZSl9KSkudGhlbihnLGspfXAoKGQ9ZC5hcHBseShhLGIpKS5uZXh0KCkpfSl9O1widW5kZWZpbmVkXCIhPT10eXBlb2Ygei5NJiZ6Lk18fCh6Ll9fZXh0ZW5kcz1fX2V4dGVuZHMsei5fX2RlY29yYXRlPV9fZGVjb3JhdGUsei5fX21ldGFkYXRhPV9fbWV0YWRhdGEsei5fX3BhcmFtPV9fcGFyYW0sei5fX2F3YWl0ZXI9X19hd2FpdGVyKTt2YXIgQT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLEEpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O3koQSxFcnJvcik7QS5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCI7dmFyIGdhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9O3ZhciBCPWZ1bmN0aW9uKGEsYil7Yi51bnNoaWZ0KGEpO0EuY2FsbCh0aGlzLGdhLmFwcGx5KG51bGwsYikpO2Iuc2hpZnQoKX07eShCLEEpO0IucHJvdG90eXBlLm5hbWU9XCJBc3NlcnRpb25FcnJvclwiO3ZhciBoYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihjKXZhciBlPWUrKFwiOiBcIitjKSxmPWQ7ZWxzZSBhJiYoZSs9XCI6IFwiK2EsZj1iKTt0aHJvdyBuZXcgQihcIlwiK2UsZnx8W10pO30sQz1mdW5jdGlvbihhLGIsYyl7YXx8aGEoXCJcIixudWxsLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0sRD1mdW5jdGlvbihhLGIsYyl7dihhKXx8aGEoXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIixbdChhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O3ZhciBFPWZ1bmN0aW9uKGEsYixjKXt0aGlzLlQ9Yzt0aGlzLk49YTt0aGlzLlU9Yjt0aGlzLnM9MDt0aGlzLm89bnVsbH07RS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE7MDx0aGlzLnM/KHRoaXMucy0tLGE9dGhpcy5vLHRoaXMubz1hLm5leHQsYS5uZXh0PW51bGwpOmE9dGhpcy5OKCk7cmV0dXJuIGF9O0UucHJvdG90eXBlLnB1dD1mdW5jdGlvbihhKXt0aGlzLlUoYSk7dGhpcy5zPHRoaXMuVCYmKHRoaXMucysrLGEubmV4dD10aGlzLm8sdGhpcy5vPWEpfTt2YXIgRjthOnt2YXIgaWE9cS5uYXZpZ2F0b3I7aWYoaWEpe3ZhciBqYT1pYS51c2VyQWdlbnQ7aWYoamEpe0Y9amE7YnJlYWsgYX19Rj1cIlwifTt2YXIga2E9ZnVuY3Rpb24oYSl7cS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9LDApfSxHLGxhPWZ1bmN0aW9uKCl7dmFyIGE9cS5NZXNzYWdlQ2hhbm5lbDtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucG9zdE1lc3NhZ2UmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYtMT09Ri5pbmRleE9mKFwiUHJlc3RvXCIpJiYoYT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Euc3JjPVwiXCI7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpO3ZhciBiPWEuY29udGVudFdpbmRvdyxhPWIuZG9jdW1lbnQ7YS5vcGVuKCk7YS53cml0ZShcIlwiKTthLmNsb3NlKCk7dmFyIGM9XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxkPVwiZmlsZTpcIj09Yi5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjpiLmxvY2F0aW9uLnByb3RvY29sK1xuXCIvL1wiK2IubG9jYXRpb24uaG9zdCxhPXcoZnVuY3Rpb24oYSl7aWYoKFwiKlwiPT1kfHxhLm9yaWdpbj09ZCkmJmEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiYtMT09Ri5pbmRleE9mKFwiVHJpZGVudFwiKSYmLTE9PUYuaW5kZXhPZihcIk1TSUVcIikpe3ZhciBiPW5ldyBhLGM9e30sZD1jO2IucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09Yy5uZXh0KXtjPWMubmV4dDt2YXIgYT1jLkc7Yy5HPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17RzphfTtkPWQubmV4dDtiLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1yZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW5cbmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik/ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2I9bnVsbDthKCk7YT1udWxsfTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe3Euc2V0VGltZW91dChhLDApfX07dmFyIEg9ZnVuY3Rpb24oKXt0aGlzLnY9dGhpcy5mPW51bGx9LG1hPW5ldyBFKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJfSxmdW5jdGlvbihhKXthLnJlc2V0KCl9LDEwMCk7SC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9bWEuZ2V0KCk7Yy5zZXQoYSxiKTt0aGlzLnY/dGhpcy52Lm5leHQ9YzooQyghdGhpcy5mKSx0aGlzLmY9Yyk7dGhpcy52PWN9O0gucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPW51bGw7dGhpcy5mJiYoYT10aGlzLmYsdGhpcy5mPXRoaXMuZi5uZXh0LHRoaXMuZnx8KHRoaXMudj1udWxsKSxhLm5leHQ9bnVsbCk7cmV0dXJuIGF9O3ZhciBJPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuc2NvcGU9dGhpcy5CPW51bGx9O0kucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuQj1hO3RoaXMuc2NvcGU9Yjt0aGlzLm5leHQ9bnVsbH07XG5JLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLnNjb3BlPXRoaXMuQj1udWxsfTt2YXIgTT1mdW5jdGlvbihhLGIpe0p8fG5hKCk7THx8KEooKSxMPSEwKTtvYS5hZGQoYSxiKX0sSixuYT1mdW5jdGlvbigpe3ZhciBhPXEuUHJvbWlzZTtpZigtMSE9U3RyaW5nKGEpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpKXt2YXIgYj1hLnJlc29sdmUodm9pZCAwKTtKPWZ1bmN0aW9uKCl7Yi50aGVuKHBhKX19ZWxzZSBKPWZ1bmN0aW9uKCl7dmFyIGE9cGE7IXYocS5zZXRJbW1lZGlhdGUpfHxxLldpbmRvdyYmcS5XaW5kb3cucHJvdG90eXBlJiYtMT09Ri5pbmRleE9mKFwiRWRnZVwiKSYmcS5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZT09cS5zZXRJbW1lZGlhdGU/KEd8fChHPWxhKCkpLEcoYSkpOnEuc2V0SW1tZWRpYXRlKGEpfX0sTD0hMSxvYT1uZXcgSCxwYT1mdW5jdGlvbigpe2Zvcih2YXIgYTthPW9hLnJlbW92ZSgpOyl7dHJ5e2EuQi5jYWxsKGEuc2NvcGUpfWNhdGNoKGIpe2thKGIpfW1hLnB1dChhKX1MPSExfTt2YXIgTz1mdW5jdGlvbihhLGIpe3RoaXMuYj0wO3RoaXMuTD12b2lkIDA7dGhpcy5qPXRoaXMuZz10aGlzLnU9bnVsbDt0aGlzLm09dGhpcy5BPSExO2lmKGEhPXIpdHJ5e3ZhciBjPXRoaXM7YS5jYWxsKGIsZnVuY3Rpb24oYSl7TihjLDIsYSl9LGZ1bmN0aW9uKGEpe3RyeXtpZihhIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgYTt0aHJvdyBFcnJvcihcIlByb21pc2UgcmVqZWN0ZWQuXCIpO31jYXRjaChlKXt9TihjLDMsYSl9KX1jYXRjaChkKXtOKHRoaXMsMyxkKX19LHFhPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuY29udGV4dD10aGlzLmg9dGhpcy5jPXRoaXMuY2hpbGQ9bnVsbDt0aGlzLnc9ITF9O3FhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY29udGV4dD10aGlzLmg9dGhpcy5jPXRoaXMuY2hpbGQ9bnVsbDt0aGlzLnc9ITF9O1xudmFyIHJhPW5ldyBFKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxYX0sZnVuY3Rpb24oYSl7YS5yZXNldCgpfSwxMDApLHNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1yYS5nZXQoKTtkLmM9YTtkLmg9YjtkLmNvbnRleHQ9YztyZXR1cm4gZH0sdWE9ZnVuY3Rpb24oYSxiLGMpe3RhKGEsYixjLG51bGwpfHxNKHgoYixhKSl9O08ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe251bGwhPWEmJkQoYSxcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIik7bnVsbCE9YiYmRChiLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtyZXR1cm4gdmEodGhpcyx2KGEpP2E6bnVsbCx2KGIpP2I6bnVsbCxjKX07Ty5wcm90b3R5cGUudGhlbj1PLnByb3RvdHlwZS50aGVuO08ucHJvdG90eXBlLiRnb29nX1RoZW5hYmxlPSEwO1xuTy5wcm90b3R5cGUuWD1mdW5jdGlvbihhLGIpe3JldHVybiB2YSh0aGlzLG51bGwsYSxiKX07dmFyIHhhPWZ1bmN0aW9uKGEsYil7YS5nfHwyIT1hLmImJjMhPWEuYnx8d2EoYSk7QyhudWxsIT1iLmMpO2Euaj9hLmoubmV4dD1iOmEuZz1iO2Euaj1ifSx2YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1zYShudWxsLG51bGwsbnVsbCk7ZS5jaGlsZD1uZXcgTyhmdW5jdGlvbihhLGcpe2UuYz1iP2Z1bmN0aW9uKGMpe3RyeXt2YXIgZT1iLmNhbGwoZCxjKTthKGUpfWNhdGNoKEspe2coSyl9fTphO2UuaD1jP2Z1bmN0aW9uKGIpe3RyeXt2YXIgZT1jLmNhbGwoZCxiKTthKGUpfWNhdGNoKEspe2coSyl9fTpnfSk7ZS5jaGlsZC51PWE7eGEoYSxlKTtyZXR1cm4gZS5jaGlsZH07Ty5wcm90b3R5cGUuWT1mdW5jdGlvbihhKXtDKDE9PXRoaXMuYik7dGhpcy5iPTA7Tih0aGlzLDIsYSl9O08ucHJvdG90eXBlLlo9ZnVuY3Rpb24oYSl7QygxPT10aGlzLmIpO3RoaXMuYj0wO04odGhpcywzLGEpfTtcbnZhciBOPWZ1bmN0aW9uKGEsYixjKXswPT1hLmImJihhPT09YyYmKGI9MyxjPW5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSksYS5iPTEsdGEoYyxhLlksYS5aLGEpfHwoYS5MPWMsYS5iPWIsYS51PW51bGwsd2EoYSksMyE9Ynx8eWEoYSxjKSkpfSx0YT1mdW5jdGlvbihhLGIsYyxkKXtpZihhIGluc3RhbmNlb2YgTylyZXR1cm4gbnVsbCE9YiYmRChiLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKSxudWxsIT1jJiZEKGMsXCJvcHRfb25SZWplY3RlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBwYXNzIG9wdF9jb250ZXh0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZCBvZiB0aGUgdGhpcmQ/XCIpLHhhKGEsc2EoYnx8cixjfHxudWxsLGQpKSwhMDt2YXIgZTtpZihhKXRyeXtlPSEhYS4kZ29vZ19UaGVuYWJsZX1jYXRjaChnKXtlPSExfWVsc2UgZT0hMTtpZihlKXJldHVybiBhLnRoZW4oYixjLGQpLFxuITA7ZT10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1lJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWUpdHJ5e3ZhciBmPWEudGhlbjtpZih2KGYpKXJldHVybiB6YShhLGYsYixjLGQpLCEwfWNhdGNoKGcpe3JldHVybiBjLmNhbGwoZCxnKSwhMH1yZXR1cm4hMX0semE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMSxnPWZ1bmN0aW9uKGEpe2Z8fChmPSEwLGMuY2FsbChlLGEpKX0saz1mdW5jdGlvbihhKXtmfHwoZj0hMCxkLmNhbGwoZSxhKSl9O3RyeXtiLmNhbGwoYSxnLGspfWNhdGNoKHApe2socCl9fSx3YT1mdW5jdGlvbihhKXthLkF8fChhLkE9ITAsTShhLlAsYSkpfSxBYT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2EuZyYmKGI9YS5nLGEuZz1iLm5leHQsYi5uZXh0PW51bGwpO2EuZ3x8KGEuaj1udWxsKTtudWxsIT1iJiZDKG51bGwhPWIuYyk7cmV0dXJuIGJ9O1xuTy5wcm90b3R5cGUuUD1mdW5jdGlvbigpe2Zvcih2YXIgYTthPUFhKHRoaXMpOyl7dmFyIGI9dGhpcy5iLGM9dGhpcy5MO2lmKDM9PWImJmEuaCYmIWEudyl7dmFyIGQ7Zm9yKGQ9dGhpcztkJiZkLm07ZD1kLnUpZC5tPSExfWlmKGEuY2hpbGQpYS5jaGlsZC51PW51bGwsQmEoYSxiLGMpO2Vsc2UgdHJ5e2Eudz9hLmMuY2FsbChhLmNvbnRleHQpOkJhKGEsYixjKX1jYXRjaChlKXtDYS5jYWxsKG51bGwsZSl9cmEucHV0KGEpfXRoaXMuQT0hMX07dmFyIEJhPWZ1bmN0aW9uKGEsYixjKXsyPT1iP2EuYy5jYWxsKGEuY29udGV4dCxjKTphLmgmJmEuaC5jYWxsKGEuY29udGV4dCxjKX0seWE9ZnVuY3Rpb24oYSxiKXthLm09ITA7TShmdW5jdGlvbigpe2EubSYmQ2EuY2FsbChudWxsLGIpfSl9LENhPWthO2Z1bmN0aW9uIFAoYSxiKXtpZighKGIgaW5zdGFuY2VvZiBPYmplY3QpKXJldHVybiBiO3N3aXRjaChiLmNvbnN0cnVjdG9yKXtjYXNlIERhdGU6cmV0dXJuIG5ldyBEYXRlKGIuZ2V0VGltZSgpKTtjYXNlIE9iamVjdDp2b2lkIDA9PT1hJiYoYT17fSk7YnJlYWs7Y2FzZSBBcnJheTphPVtdO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGJ9Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmKGFbY109UChhW2NdLGJbY10pKTtyZXR1cm4gYX07Ty5hbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5sZW5ndGgsZT1bXTtpZihkKWZvcih2YXIgZj1mdW5jdGlvbihhLGMpe2QtLTtlW2FdPWM7MD09ZCYmYihlKX0sZz1mdW5jdGlvbihhKXtjKGEpfSxrPTAscDtrPGEubGVuZ3RoO2srKylwPWFba10sdWEocCx4KGYsayksZyk7ZWxzZSBiKGUpfSl9O08ucmVzb2x2ZT1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgTylyZXR1cm4gYTt2YXIgYj1uZXcgTyhyKTtOKGIsMixhKTtyZXR1cm4gYn07Ty5yZWplY3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPKGZ1bmN0aW9uKGIsYyl7YyhhKX0pfTtPLnByb3RvdHlwZVtcImNhdGNoXCJdPU8ucHJvdG90eXBlLlg7dmFyIFE9TztcInVuZGVmaW5lZFwiIT09dHlwZW9mIFByb21pc2UmJihRPVByb21pc2UpO3ZhciBEYT1RO2Z1bmN0aW9uIEVhKGEsYil7YT1uZXcgUihhLGIpO3JldHVybiBhLnN1YnNjcmliZS5iaW5kKGEpfXZhciBSPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmE9W107dGhpcy5LPTA7dGhpcy50YXNrPURhLnJlc29sdmUoKTt0aGlzLmw9ITE7dGhpcy5EPWI7dGhpcy50YXNrLnRoZW4oZnVuY3Rpb24oKXthKGMpfSkuY2F0Y2goZnVuY3Rpb24oYSl7Yy5lcnJvcihhKX0pfTtSLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe1ModGhpcyxmdW5jdGlvbihiKXtiLm5leHQoYSl9KX07Ui5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oYSl7Uyh0aGlzLGZ1bmN0aW9uKGIpe2IuZXJyb3IoYSl9KTt0aGlzLmNsb3NlKGEpfTtSLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe1ModGhpcyxmdW5jdGlvbihhKXthLmNvbXBsZXRlKCl9KTt0aGlzLmNsb3NlKCl9O1xuUi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU7aWYodm9pZCAwPT09YSYmdm9pZCAwPT09YiYmdm9pZCAwPT09Yyl0aHJvdyBFcnJvcihcIk1pc3NpbmcgT2JzZXJ2ZXIuXCIpO2U9RmEoYSk/YTp7bmV4dDphLGVycm9yOmIsY29tcGxldGU6Y307dm9pZCAwPT09ZS5uZXh0JiYoZS5uZXh0PVQpO3ZvaWQgMD09PWUuZXJyb3ImJihlLmVycm9yPVQpO3ZvaWQgMD09PWUuY29tcGxldGUmJihlLmNvbXBsZXRlPVQpO2E9dGhpcy4kLmJpbmQodGhpcyx0aGlzLmEubGVuZ3RoKTt0aGlzLmwmJnRoaXMudGFzay50aGVuKGZ1bmN0aW9uKCl7dHJ5e2QuSD9lLmVycm9yKGQuSCk6ZS5jb21wbGV0ZSgpfWNhdGNoKGYpe319KTt0aGlzLmEucHVzaChlKTtyZXR1cm4gYX07XG5SLnByb3RvdHlwZS4kPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PXRoaXMuYSYmdm9pZCAwIT09dGhpcy5hW2FdJiYoZGVsZXRlIHRoaXMuYVthXSwtLXRoaXMuSywwPT09dGhpcy5LJiZ2b2lkIDAhPT10aGlzLkQmJnRoaXMuRCh0aGlzKSl9O3ZhciBTPWZ1bmN0aW9uKGEsYil7aWYoIWEubClmb3IodmFyIGM9MDtjPGEuYS5sZW5ndGg7YysrKUdhKGEsYyxiKX0sR2E9ZnVuY3Rpb24oYSxiLGMpe2EudGFzay50aGVuKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09YS5hJiZ2b2lkIDAhPT1hLmFbYl0pdHJ5e2MoYS5hW2JdKX1jYXRjaChkKXtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoZCl9fSl9O1IucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5sfHwodGhpcy5sPSEwLHZvaWQgMCE9PWEmJih0aGlzLkg9YSksdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24oKXtiLmE9dm9pZCAwO2IuRD12b2lkIDB9KSl9O1xuZnVuY3Rpb24gRmEoYSl7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxudWxsPT09YSlyZXR1cm4hMTt2YXIgYjtiPVtcIm5leHRcIixcImVycm9yXCIsXCJjb21wbGV0ZVwiXTtuKCk7dmFyIGM9YltTeW1ib2wuaXRlcmF0b3JdO2I9Yz9jLmNhbGwoYik6bShiKTtmb3IoYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpaWYoYz1jLnZhbHVlLGMgaW4gYSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGFbY10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVCgpe307dmFyIEhhPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlLFY9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvZGU9YTt0aGlzLm1lc3NhZ2U9YjtpZihIYSlIYSh0aGlzLFUucHJvdG90eXBlLmNyZWF0ZSk7ZWxzZXt2YXIgYz1FcnJvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5uYW1lPVwiRmlyZWJhc2VFcnJvclwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuc3RhY2t9fSl9fTtWLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7Vi5wcm90b3R5cGUuY29uc3RydWN0b3I9VjtWLnByb3RvdHlwZS5uYW1lPVwiRmlyZWJhc2VFcnJvclwiO3ZhciBVPWZ1bmN0aW9uKGEsYixjKXt0aGlzLlY9YTt0aGlzLlc9Yjt0aGlzLk89Yzt0aGlzLnBhdHRlcm49L1xce1xcJChbXn1dKyl9L2d9O1xuVS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9e30pO3ZhciBjPXRoaXMuT1thXTthPXRoaXMuVitcIi9cIithO3ZhciBjPXZvaWQgMD09PWM/XCJFcnJvclwiOmMucmVwbGFjZSh0aGlzLnBhdHRlcm4sZnVuY3Rpb24oYSxjKXthPWJbY107cmV0dXJuIHZvaWQgMCE9PWE/YS50b1N0cmluZygpOlwiPFwiK2MrXCI/PlwifSksYz10aGlzLlcrXCI6IFwiK2MrXCIgKFwiK2ErXCIpLlwiLGM9bmV3IFYoYSxjKSxkO2ZvcihkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmXCJfXCIhPT1kLnNsaWNlKC0xKSYmKGNbZF09YltkXSk7cmV0dXJuIGN9O3ZhciBXPVEsWD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpczt0aGlzLkk9Yzt0aGlzLko9ITE7dGhpcy5pPXt9O3RoaXMuQz1iO3RoaXMuRj1QKHZvaWQgMCxhKTthPVwic2VydmljZUFjY291bnRcImluIHRoaXMuRjsoXCJjcmVkZW50aWFsXCJpbiB0aGlzLkZ8fGEpJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nKFwiVGhlICdcIisoYT9cInNlcnZpY2VBY2NvdW50XCI6XCJjcmVkZW50aWFsXCIpK1wiJyBwcm9wZXJ0eSBzcGVjaWZpZWQgaW4gdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGluaXRpYWxpemVBcHAoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gWW91IHNob3VsZCBpbnN0ZWFkIHVzZSB0aGUgJ2ZpcmViYXNlLWFkbWluJyBwYWNrYWdlLiBTZWUgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYWRtaW4vc2V0dXAgZm9yIGRldGFpbHMgb24gaG93IHRvIGdldCBzdGFydGVkLlwiKTtPYmplY3Qua2V5cyhjLklOVEVSTkFMLmZhY3RvcmllcykuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1cbmMuSU5URVJOQUwudXNlQXNTZXJ2aWNlKGQsYSk7bnVsbCE9PWImJihiPWQuUy5iaW5kKGQsYiksZFthXT1iKX0pfTtYLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybihuZXcgVyhmdW5jdGlvbihiKXtZKGEpO2IoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YS5JLklOVEVSTkFMLnJlbW92ZUFwcChhLkMpO3JldHVybiBXLmFsbChPYmplY3Qua2V5cyhhLmkpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYS5pW2JdLklOVEVSTkFMLmRlbGV0ZSgpfSkpfSkudGhlbihmdW5jdGlvbigpe2EuSj0hMDthLmk9e319KX07WC5wcm90b3R5cGUuUz1mdW5jdGlvbihhKXtZKHRoaXMpO3ZvaWQgMD09PXRoaXMuaVthXSYmKHRoaXMuaVthXT10aGlzLkkuSU5URVJOQUwuZmFjdG9yaWVzW2FdKHRoaXMsdGhpcy5SLmJpbmQodGhpcykpKTtyZXR1cm4gdGhpcy5pW2FdfTtYLnByb3RvdHlwZS5SPWZ1bmN0aW9uKGEpe1AodGhpcyxhKX07XG52YXIgWT1mdW5jdGlvbihhKXthLkomJlooSWEoXCJkZWxldGVkXCIse25hbWU6YS5DfSkpfTtoLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFgucHJvdG90eXBlLHtuYW1lOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtZKHRoaXMpO3JldHVybiB0aGlzLkN9fSxvcHRpb25zOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtZKHRoaXMpO3JldHVybiB0aGlzLkZ9fX0pO1gucHJvdG90eXBlLm5hbWUmJlgucHJvdG90eXBlLm9wdGlvbnN8fFgucHJvdG90eXBlLmRlbGV0ZXx8Y29uc29sZS5sb2coXCJkY1wiKTtcbmZ1bmN0aW9uIEphKCl7ZnVuY3Rpb24gYShhKXthPWF8fFwiW0RFRkFVTFRdXCI7dmFyIGI9ZFthXTt2b2lkIDA9PT1iJiZaKFwibm9BcHBcIix7bmFtZTphfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGIpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oZCl7ZD1jKGEsZCk7aWYobnVsbCE9PWQmJmZbZF0pZltkXShiLGEpfSl9ZnVuY3Rpb24gYyhhLGIpe2lmKFwic2VydmVyQXV0aFwiPT09YilyZXR1cm4gbnVsbDt2YXIgYz1iO2E9YS5vcHRpb25zO1wiYXV0aFwiPT09YiYmKGEuc2VydmljZUFjY291bnR8fGEuY3JlZGVudGlhbCkmJihjPVwic2VydmVyQXV0aFwiLFwic2VydmVyQXV0aFwiaW4gZXx8WihcInNlcnZlckF1dGhNaXNzaW5nXCIpKTtyZXR1cm4gY312YXIgZD17fSxlPXt9LGY9e30sZz17X19lc01vZHVsZTohMCxpbml0aWFsaXplQXBwOmZ1bmN0aW9uKGEsYyl7dm9pZCAwPT09Yz9jPVwiW0RFRkFVTFRdXCI6XCJzdHJpbmdcIj09PXR5cGVvZiBjJiZcIlwiIT09Y3x8WihcImJhZC1hcHAtbmFtZVwiLFxue25hbWU6YytcIlwifSk7dm9pZCAwIT09ZFtjXSYmWihcImR1cEFwcFwiLHtuYW1lOmN9KTthPW5ldyBYKGEsYyxnKTtkW2NdPWE7YihhLFwiY3JlYXRlXCIpO3ZvaWQgMCE9YS5JTlRFUk5BTCYmdm9pZCAwIT1hLklOVEVSTkFMLmdldFRva2VufHxQKGEse0lOVEVSTkFMOntnZXRUb2tlbjpmdW5jdGlvbigpe3JldHVybiBXLnJlc29sdmUobnVsbCl9LGFkZEF1dGhUb2tlbkxpc3RlbmVyOmZ1bmN0aW9uKCl7fSxyZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcjpmdW5jdGlvbigpe319fSk7cmV0dXJuIGF9LGFwcDphLGFwcHM6bnVsbCxQcm9taXNlOlcsU0RLX1ZFUlNJT046XCIwLjAuMFwiLElOVEVSTkFMOntyZWdpc3RlclNlcnZpY2U6ZnVuY3Rpb24oYixjLGQsdSl7ZVtiXSYmWihcImR1cFNlcnZpY2VcIix7bmFtZTpifSk7ZVtiXT1jO3UmJihmW2JdPXUpO2M9ZnVuY3Rpb24oYyl7dm9pZCAwPT09YyYmKGM9YSgpKTtyZXR1cm4gY1tiXSgpfTt2b2lkIDAhPT1kJiZQKGMsZCk7cmV0dXJuIGdbYl09Y30sY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2U6SmEsXG5leHRlbmROYW1lc3BhY2U6ZnVuY3Rpb24oYSl7UChnLGEpfSxjcmVhdGVTdWJzY3JpYmU6RWEsRXJyb3JGYWN0b3J5OlUscmVtb3ZlQXBwOmZ1bmN0aW9uKGEpe2IoZFthXSxcImRlbGV0ZVwiKTtkZWxldGUgZFthXX0sZmFjdG9yaWVzOmUsdXNlQXNTZXJ2aWNlOmMsUHJvbWlzZTpPLGRlZXBFeHRlbmQ6UH19O2dbXCJkZWZhdWx0XCJdPWc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJhcHBzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyhkKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGRbYV19KX19KTthLkFwcD1YO3JldHVybiBnfWZ1bmN0aW9uIFooYSxiKXt0aHJvdyBFcnJvcihJYShhLGIpKTt9XG5mdW5jdGlvbiBJYShhLGIpe2I9Ynx8e307Yj17bm9BcHA6XCJObyBGaXJlYmFzZSBBcHAgJ1wiK2IubmFtZStcIicgaGFzIGJlZW4gY3JlYXRlZCAtIGNhbGwgRmlyZWJhc2UgQXBwLmluaXRpYWxpemVBcHAoKS5cIixcImJhZC1hcHAtbmFtZVwiOlwiSWxsZWdhbCBBcHAgbmFtZTogJ1wiK2IubmFtZStcIicuXCIsZHVwQXBwOlwiRmlyZWJhc2UgQXBwIG5hbWVkICdcIitiLm5hbWUrXCInIGFscmVhZHkgZXhpc3RzLlwiLGRlbGV0ZWQ6XCJGaXJlYmFzZSBBcHAgbmFtZWQgJ1wiK2IubmFtZStcIicgYWxyZWFkeSBkZWxldGVkLlwiLGR1cFNlcnZpY2U6XCJGaXJlYmFzZSBTZXJ2aWNlIG5hbWVkICdcIitiLm5hbWUrXCInIGFscmVhZHkgcmVnaXN0ZXJlZC5cIixzZXJ2ZXJBdXRoTWlzc2luZzpcIkluaXRpYWxpemluZyB0aGUgRmlyZWJhc2UgU0RLIHdpdGggYSBzZXJ2aWNlIGFjY291bnQgaXMgb25seSBhbGxvd2VkIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC4gT24gY2xpZW50IGRldmljZXMsIHlvdSBzaG91bGQgaW5zdGVhZCBpbml0aWFsaXplIHRoZSBTREsgd2l0aCBhbiBhcGkga2V5IGFuZCBhdXRoIGRvbWFpbi5cIn1bYV07XG5yZXR1cm4gdm9pZCAwPT09Yj9cIkFwcGxpY2F0aW9uIEVycm9yOiAoXCIrYStcIilcIjpifTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGZpcmViYXNlJiYoZmlyZWJhc2U9SmEoKSk7IH0pLmNhbGwodGhpcyk7XG5maXJlYmFzZS5TREtfVkVSU0lPTiA9IFwiMy42LjNcIjtcbnJldHVybiBmaXJlYmFzZTt9KS5jYWxsKGdsb2JhbCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlO1xuIiwidmFyIGZpcmViYXNlID0gcmVxdWlyZSgnLi9hcHAnKTtcbihmdW5jdGlvbigpe1xuLyohIEBsaWNlbnNlIEZpcmViYXNlIHYzLjYuM1xuICAgIEJ1aWxkOiAzLjYuMy1yYy42XG4gICAgVGVybXM6IGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS90ZXJtcy8gKi9cbihmdW5jdGlvbigpe3ZhciBoLGFhPWFhfHx7fSxsPXRoaXMsYmE9ZnVuY3Rpb24oKXt9LG09ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJlxuIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LGNhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YX0sZGE9ZnVuY3Rpb24oYSl7cmV0dXJuXCJhcnJheVwiPT1tKGEpfSxlYT1mdW5jdGlvbihhKXt2YXIgYj1tKGEpO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofSxuPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfSxmYT1mdW5jdGlvbihhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX0scD1mdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PW0oYSl9LGdhPWZ1bmN0aW9uKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJm51bGwhPWF8fFwiZnVuY3Rpb25cIj09Yn0saGE9ZnVuY3Rpb24oYSxiLFxuYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX0saWE9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19LHE9ZnVuY3Rpb24oYSxiLGMpe3E9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9oYTppYTtyZXR1cm4gcS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGphPWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9Yy5zbGljZSgpO2IucHVzaC5hcHBseShiLGFyZ3VtZW50cyk7cmV0dXJuIGEuYXBwbHkodGhpcyxiKX19LGthPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0scj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5VYz1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuYmY9ZnVuY3Rpb24oYSxjLGYpe2Zvcih2YXIgZD1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWRbZS0yXT1hcmd1bWVudHNbZV07cmV0dXJuIGIucHJvdG90eXBlW2NdLmFwcGx5KGEsZCl9fTt2YXIgdT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHUpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O3IodSxFcnJvcik7dS5wcm90b3R5cGUubmFtZT1cIkN1c3RvbUVycm9yXCI7dmFyIGxhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoXCIlc1wiKSxkPVwiXCIsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7ZS5sZW5ndGgmJjE8Yy5sZW5ndGg7KWQrPWMuc2hpZnQoKStlLnNoaWZ0KCk7cmV0dXJuIGQrYy5qb2luKFwiJXNcIil9LG1hPVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihhKXtyZXR1cm4gYS50cmltKCl9OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXFxzXFx4YTBdK3xbXFxzXFx4YTBdKyQvZyxcIlwiKX0sbmE9LyYvZyxvYT0vPC9nLHFhPS8+L2cscmE9L1wiL2csc2E9LycvZyx0YT0vXFx4MDAvZyx1YT0vW1xceDAwJjw+XCInXS8sdj1mdW5jdGlvbihhLGIpe3JldHVybi0xIT1hLmluZGV4T2YoYil9LHZhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfTt2YXIgd2E9ZnVuY3Rpb24oYSxiKXtiLnVuc2hpZnQoYSk7dS5jYWxsKHRoaXMsbGEuYXBwbHkobnVsbCxiKSk7Yi5zaGlmdCgpfTtyKHdhLHUpO3dhLnByb3RvdHlwZS5uYW1lPVwiQXNzZXJ0aW9uRXJyb3JcIjtcbnZhciB4YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihjKXZhciBlPWUrKFwiOiBcIitjKSxmPWQ7ZWxzZSBhJiYoZSs9XCI6IFwiK2EsZj1iKTt0aHJvdyBuZXcgd2EoXCJcIitlLGZ8fFtdKTt9LHc9ZnVuY3Rpb24oYSxiLGMpe2F8fHhhKFwiXCIsbnVsbCxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LHlhPWZ1bmN0aW9uKGEsYil7dGhyb3cgbmV3IHdhKFwiRmFpbHVyZVwiKyhhP1wiOiBcIithOlwiXCIpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7fSx6YT1mdW5jdGlvbihhLGIsYyl7ZmEoYSl8fHhhKFwiRXhwZWN0ZWQgbnVtYmVyIGJ1dCBnb3QgJXM6ICVzLlwiLFttKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKTtyZXR1cm4gYX0sQWE9ZnVuY3Rpb24oYSxiLGMpe24oYSl8fHhhKFwiRXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgJXM6ICVzLlwiLFttKGEpLGFdLGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMikpfSxCYT1mdW5jdGlvbihhLGIsYyl7cChhKXx8eGEoXCJFeHBlY3RlZCBmdW5jdGlvbiBidXQgZ290ICVzOiAlcy5cIixbbShhKSxhXSxiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O3ZhciBDYT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbihhLGIsYyl7dyhudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihuKGEpKXJldHVybiBuKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LHg9QXJyYXkucHJvdG90eXBlLmZvckVhY2g/ZnVuY3Rpb24oYSxiLGMpe3cobnVsbCE9YS5sZW5ndGgpO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9bihhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LERhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPW4oYSk/XG5hLnNwbGl0KFwiXCIpOmEsZD1hLmxlbmd0aC0xOzA8PWQ7LS1kKWQgaW4gYyYmYi5jYWxsKHZvaWQgMCxjW2RdLGQsYSl9LEVhPUFycmF5LnByb3RvdHlwZS5tYXA/ZnVuY3Rpb24oYSxiLGMpe3cobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9QXJyYXkoZCksZj1uKGEpP2Euc3BsaXQoXCJcIik6YSxnPTA7ZzxkO2crKylnIGluIGYmJihlW2ddPWIuY2FsbChjLGZbZ10sZyxhKSk7cmV0dXJuIGV9LEZhPUFycmF5LnByb3RvdHlwZS5zb21lP2Z1bmN0aW9uKGEsYixjKXt3KG51bGwhPWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1uKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMDtyZXR1cm4hMX0sXG5IYT1mdW5jdGlvbihhKXt2YXIgYjthOntiPUdhO2Zvcih2YXIgYz1hLmxlbmd0aCxkPW4oYSk/YS5zcGxpdChcIlwiKTphLGU9MDtlPGM7ZSsrKWlmKGUgaW4gZCYmYi5jYWxsKHZvaWQgMCxkW2VdLGUsYSkpe2I9ZTticmVhayBhfWI9LTF9cmV0dXJuIDA+Yj9udWxsOm4oYSk/YS5jaGFyQXQoYik6YVtiXX0sSWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMDw9Q2EoYSxiKX0sS2E9ZnVuY3Rpb24oYSxiKXtiPUNhKGEsYik7dmFyIGM7KGM9MDw9YikmJkphKGEsYik7cmV0dXJuIGN9LEphPWZ1bmN0aW9uKGEsYil7dyhudWxsIT1hLmxlbmd0aCk7cmV0dXJuIDE9PUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhLGIsMSkubGVuZ3RofSxMYT1mdW5jdGlvbihhLGIpe3ZhciBjPTA7RGEoYSxmdW5jdGlvbihkLGUpe2IuY2FsbCh2b2lkIDAsZCxlLGEpJiZKYShhLGUpJiZjKyt9KX0sTWE9ZnVuY3Rpb24oYSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLFxuYXJndW1lbnRzKX0sTmE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGg7aWYoMDxiKXtmb3IodmFyIGM9QXJyYXkoYiksZD0wO2Q8YjtkKyspY1tkXT1hW2RdO3JldHVybiBjfXJldHVybltdfTt2YXIgT2E9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX0sUGE9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn0sUWE9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109ZDtyZXR1cm4gYn0sUmE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LFNhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIShjIGluIGIpfHxhW2NdIT09YltjXSlyZXR1cm4hMTtmb3IoYyBpbiBiKWlmKCEoYyBpbiBhKSlyZXR1cm4hMTtyZXR1cm4hMH0sVGE9ZnVuY3Rpb24oYSl7dmFyIGI9e30sYztmb3IoYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gYn0sVWE9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIiksXG5WYT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXtkPWFyZ3VtZW50c1tlXTtmb3IoYyBpbiBkKWFbY109ZFtjXTtmb3IodmFyIGY9MDtmPFVhLmxlbmd0aDtmKyspYz1VYVtmXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxjKSYmKGFbY109ZFtjXSl9fTt2YXIgV2E7YTp7dmFyIFhhPWwubmF2aWdhdG9yO2lmKFhhKXt2YXIgWWE9WGEudXNlckFnZW50O2lmKFlhKXtXYT1ZYTticmVhayBhfX1XYT1cIlwifXZhciB5PWZ1bmN0aW9uKGEpe3JldHVybiB2KFdhLGEpfTt2YXIgWmE9ZnVuY3Rpb24oYSl7WmFbXCIgXCJdKGEpO3JldHVybiBhfTtaYVtcIiBcIl09YmE7dmFyIGFiPWZ1bmN0aW9uKGEsYil7dmFyIGM9JGE7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLGEpP2NbYV06Y1thXT1iKGEpfTt2YXIgYmI9eShcIk9wZXJhXCIpLHo9eShcIlRyaWRlbnRcIil8fHkoXCJNU0lFXCIpLGNiPXkoXCJFZGdlXCIpLGRiPWNifHx6LGViPXkoXCJHZWNrb1wiKSYmISh2KFdhLnRvTG93ZXJDYXNlKCksXCJ3ZWJraXRcIikmJiF5KFwiRWRnZVwiKSkmJiEoeShcIlRyaWRlbnRcIil8fHkoXCJNU0lFXCIpKSYmIXkoXCJFZGdlXCIpLGZiPXYoV2EudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIXkoXCJFZGdlXCIpLGdiPWZ1bmN0aW9uKCl7dmFyIGE9bC5kb2N1bWVudDtyZXR1cm4gYT9hLmRvY3VtZW50TW9kZTp2b2lkIDB9LGhiO1xuYTp7dmFyIGliPVwiXCIsamI9ZnVuY3Rpb24oKXt2YXIgYT1XYTtpZihlYilyZXR1cm4vcnZcXDooW15cXCk7XSspKFxcKXw7KS8uZXhlYyhhKTtpZihjYilyZXR1cm4vRWRnZVxcLyhbXFxkXFwuXSspLy5leGVjKGEpO2lmKHopcmV0dXJuL1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLy5leGVjKGEpO2lmKGZiKXJldHVybi9XZWJLaXRcXC8oXFxTKykvLmV4ZWMoYSk7aWYoYmIpcmV0dXJuLyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyhhKX0oKTtqYiYmKGliPWpiP2piWzFdOlwiXCIpO2lmKHope3ZhciBrYj1nYigpO2lmKG51bGwhPWtiJiZrYj5wYXJzZUZsb2F0KGliKSl7aGI9U3RyaW5nKGtiKTticmVhayBhfX1oYj1pYn1cbnZhciBsYj1oYiwkYT17fSxBPWZ1bmN0aW9uKGEpe3JldHVybiBhYihhLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYz1tYShTdHJpbmcobGIpKS5zcGxpdChcIi5cIiksZD1tYShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSxlPU1hdGgubWF4KGMubGVuZ3RoLGQubGVuZ3RoKSxmPTA7MD09YiYmZjxlO2YrKyl7dmFyIGc9Y1tmXXx8XCJcIixrPWRbZl18fFwiXCI7ZG97Zz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhnKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdO2s9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoayl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXTtpZigwPT1nWzBdLmxlbmd0aCYmMD09a1swXS5sZW5ndGgpYnJlYWs7Yj12YSgwPT1nWzFdLmxlbmd0aD8wOnBhcnNlSW50KGdbMV0sMTApLDA9PWtbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoa1sxXSwxMCkpfHx2YSgwPT1nWzJdLmxlbmd0aCwwPT1rWzJdLmxlbmd0aCl8fHZhKGdbMl0sa1syXSk7Zz1nWzNdO2s9a1szXX13aGlsZSgwPT1iKX1yZXR1cm4gMDw9Yn0pfSxtYjt2YXIgbmI9bC5kb2N1bWVudDtcbm1iPW5iJiZ6P2diKCl8fChcIkNTUzFDb21wYXRcIj09bmIuY29tcGF0TW9kZT9wYXJzZUludChsYiwxMCk6NSk6dm9pZCAwO3ZhciBvYj1udWxsLHBiPW51bGwscmI9ZnVuY3Rpb24oYSl7dmFyIGI9XCJcIjtxYihhLGZ1bmN0aW9uKGEpe2IrPVN0cmluZy5mcm9tQ2hhckNvZGUoYSl9KTtyZXR1cm4gYn0scWI9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGIpe2Zvcig7ZDxhLmxlbmd0aDspe3ZhciBjPWEuY2hhckF0KGQrKyksZT1wYltjXTtpZihudWxsIT1lKXJldHVybiBlO2lmKCEvXltcXHNcXHhhMF0qJC8udGVzdChjKSl0aHJvdyBFcnJvcihcIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6IFwiK2MpO31yZXR1cm4gYn1zYigpO2Zvcih2YXIgZD0wOzspe3ZhciBlPWMoLTEpLGY9YygwKSxnPWMoNjQpLGs9Yyg2NCk7aWYoNjQ9PT1rJiYtMT09PWUpYnJlYWs7YihlPDwyfGY+PjQpOzY0IT1nJiYoYihmPDw0JjI0MHxnPj4yKSw2NCE9ayYmYihnPDw2JjE5MnxrKSl9fSxzYj1mdW5jdGlvbigpe2lmKCFvYil7b2I9e307cGI9e307Zm9yKHZhciBhPTA7NjU+YTthKyspb2JbYV09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChhKSxcbnBiW29iW2FdXT1hLDYyPD1hJiYocGJbXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fLlwiLmNoYXJBdChhKV09YSl9fTt2YXIgdGI9IXp8fDk8PU51bWJlcihtYiksdWI9eiYmIUEoXCI5XCIpOyFmYnx8QShcIjUyOFwiKTtlYiYmQShcIjEuOWJcIil8fHomJkEoXCI4XCIpfHxiYiYmQShcIjkuNVwiKXx8ZmImJkEoXCI1MjhcIik7ZWImJiFBKFwiOFwiKXx8eiYmQShcIjlcIik7dmFyIHZiPWZ1bmN0aW9uKCl7dGhpcy55YT10aGlzLnlhO3RoaXMuVWI9dGhpcy5VYn07dmIucHJvdG90eXBlLnlhPSExO3ZiLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWF9O3ZiLnByb3RvdHlwZS5OYT1mdW5jdGlvbigpe2lmKHRoaXMuVWIpZm9yKDt0aGlzLlViLmxlbmd0aDspdGhpcy5VYi5zaGlmdCgpKCl9O3ZhciB3Yj1mdW5jdGlvbihhLGIpe3RoaXMudHlwZT1hO3RoaXMuY3VycmVudFRhcmdldD10aGlzLnRhcmdldD1iO3RoaXMuZGVmYXVsdFByZXZlbnRlZD10aGlzLlZhPSExO3RoaXMudmQ9ITB9O3diLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMDt0aGlzLnZkPSExfTt2YXIgeGI9ZnVuY3Rpb24oYSxiKXt3Yi5jYWxsKHRoaXMsYT9hLnR5cGU6XCJcIik7dGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuY3VycmVudFRhcmdldD10aGlzLnRhcmdldD1udWxsO3RoaXMuY2hhckNvZGU9dGhpcy5rZXlDb2RlPXRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD10aGlzLm9mZnNldFk9dGhpcy5vZmZzZXRYPTA7dGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExO3RoaXMubGI9dGhpcy5zdGF0ZT1udWxsO2EmJnRoaXMuaW5pdChhLGIpfTtyKHhiLHdiKTtcbnhiLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy50eXBlPWEudHlwZSxkPWEuY2hhbmdlZFRvdWNoZXM/YS5jaGFuZ2VkVG91Y2hlc1swXTpudWxsO3RoaXMudGFyZ2V0PWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7dGhpcy5jdXJyZW50VGFyZ2V0PWI7aWYoYj1hLnJlbGF0ZWRUYXJnZXQpe2lmKGViKXt2YXIgZTthOnt0cnl7WmEoYi5ub2RlTmFtZSk7ZT0hMDticmVhayBhfWNhdGNoKGYpe31lPSExfWV8fChiPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09Yz9iPWEuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1jJiYoYj1hLnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWI7bnVsbD09PWQ/KHRoaXMub2Zmc2V0WD1mYnx8dm9pZCAwIT09YS5vZmZzZXRYP2Eub2Zmc2V0WDphLmxheWVyWCx0aGlzLm9mZnNldFk9ZmJ8fHZvaWQgMCE9PWEub2Zmc2V0WT9hLm9mZnNldFk6YS5sYXllclksdGhpcy5jbGllbnRYPXZvaWQgMCE9PWEuY2xpZW50WD9hLmNsaWVudFg6XG5hLnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT1hLmNsaWVudFk/YS5jbGllbnRZOmEucGFnZVksdGhpcy5zY3JlZW5YPWEuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9YS5zY3JlZW5ZfHwwKToodGhpcy5jbGllbnRYPXZvaWQgMCE9PWQuY2xpZW50WD9kLmNsaWVudFg6ZC5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09ZC5jbGllbnRZP2QuY2xpZW50WTpkLnBhZ2VZLHRoaXMuc2NyZWVuWD1kLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPWQuc2NyZWVuWXx8MCk7dGhpcy5idXR0b249YS5idXR0b247dGhpcy5rZXlDb2RlPWEua2V5Q29kZXx8MDt0aGlzLmNoYXJDb2RlPWEuY2hhckNvZGV8fChcImtleXByZXNzXCI9PWM/YS5rZXlDb2RlOjApO3RoaXMuY3RybEtleT1hLmN0cmxLZXk7dGhpcy5hbHRLZXk9YS5hbHRLZXk7dGhpcy5zaGlmdEtleT1hLnNoaWZ0S2V5O3RoaXMubWV0YUtleT1hLm1ldGFLZXk7dGhpcy5zdGF0ZT1hLnN0YXRlO3RoaXMubGI9YTthLmRlZmF1bHRQcmV2ZW50ZWQmJlxudGhpcy5wcmV2ZW50RGVmYXVsdCgpfTt4Yi5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt4Yi5VYy5wcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO3ZhciBhPXRoaXMubGI7aWYoYS5wcmV2ZW50RGVmYXVsdClhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihhLnJldHVyblZhbHVlPSExLHViKXRyeXtpZihhLmN0cmxLZXl8fDExMjw9YS5rZXlDb2RlJiYxMjM+PWEua2V5Q29kZSlhLmtleUNvZGU9LTF9Y2F0Y2goYil7fX07eGIucHJvdG90eXBlLmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGJ9O3ZhciB5Yj1cImNsb3N1cmVfbGlzdGVuYWJsZV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksemI9MDt2YXIgQWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmxpc3RlbmVyPWE7dGhpcy5hYz1udWxsO3RoaXMuc3JjPWI7dGhpcy50eXBlPWM7dGhpcy5jYXB0dXJlPSEhZDt0aGlzLkxiPWU7dGhpcy5rZXk9Kyt6Yjt0aGlzLlphPXRoaXMuRWI9ITF9LEJiPWZ1bmN0aW9uKGEpe2EuWmE9ITA7YS5saXN0ZW5lcj1udWxsO2EuYWM9bnVsbDthLnNyYz1udWxsO2EuTGI9bnVsbH07dmFyIENiPWZ1bmN0aW9uKGEpe3RoaXMuc3JjPWE7dGhpcy52PXt9O3RoaXMuQWI9MH07Q2IucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudG9TdHJpbmcoKTthPXRoaXMudltmXTthfHwoYT10aGlzLnZbZl09W10sdGhpcy5BYisrKTt2YXIgZz1EYihhLGIsZCxlKTstMTxnPyhiPWFbZ10sY3x8KGIuRWI9ITEpKTooYj1uZXcgQWIoYix0aGlzLnNyYyxmLCEhZCxlKSxiLkViPWMsYS5wdXNoKGIpKTtyZXR1cm4gYn07Q2IucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhLGIsYyxkKXthPWEudG9TdHJpbmcoKTtpZighKGEgaW4gdGhpcy52KSlyZXR1cm4hMTt2YXIgZT10aGlzLnZbYV07Yj1EYihlLGIsYyxkKTtyZXR1cm4tMTxiPyhCYihlW2JdKSxKYShlLGIpLDA9PWUubGVuZ3RoJiYoZGVsZXRlIHRoaXMudlthXSx0aGlzLkFiLS0pLCEwKTohMX07XG52YXIgRWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnR5cGU7YyBpbiBhLnYmJkthKGEudltjXSxiKSYmKEJiKGIpLDA9PWEudltjXS5sZW5ndGgmJihkZWxldGUgYS52W2NdLGEuQWItLSkpfTtDYi5wcm90b3R5cGUuQWM9ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLnZbYS50b1N0cmluZygpXTt2YXIgZT0tMTthJiYoZT1EYihhLGIsYyxkKSk7cmV0dXJuLTE8ZT9hW2VdOm51bGx9O3ZhciBEYj1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZighZi5aYSYmZi5saXN0ZW5lcj09YiYmZi5jYXB0dXJlPT0hIWMmJmYuTGI9PWQpcmV0dXJuIGV9cmV0dXJuLTF9O3ZhciBGYj1cImNsb3N1cmVfbG1fXCIrKDFFNipNYXRoLnJhbmRvbSgpfDApLEdiPXt9LEhiPTAsSWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihkYShiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylJYihhLGJbZl0sYyxkLGUpO2Vsc2UgYz1KYihjKSxhJiZhW3liXT9hLmxpc3RlbihiLGMsZCxlKTpLYihhLGIsYywhMSxkLGUpfSxLYj1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYoIWIpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGVcIik7dmFyIGc9ISFlLGs9TGIoYSk7a3x8KGFbRmJdPWs9bmV3IENiKGEpKTtjPWsuYWRkKGIsYyxkLGUsZik7aWYoIWMuYWMpe2Q9TWIoKTtjLmFjPWQ7ZC5zcmM9YTtkLmxpc3RlbmVyPWM7aWYoYS5hZGRFdmVudExpc3RlbmVyKWEuYWRkRXZlbnRMaXN0ZW5lcihiLnRvU3RyaW5nKCksZCxnKTtlbHNlIGlmKGEuYXR0YWNoRXZlbnQpYS5hdHRhY2hFdmVudChOYihiLnRvU3RyaW5nKCkpLGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO1xuSGIrK319LE1iPWZ1bmN0aW9uKCl7dmFyIGE9T2IsYj10Yj9mdW5jdGlvbihjKXtyZXR1cm4gYS5jYWxsKGIuc3JjLGIubGlzdGVuZXIsYyl9OmZ1bmN0aW9uKGMpe2M9YS5jYWxsKGIuc3JjLGIubGlzdGVuZXIsYyk7aWYoIWMpcmV0dXJuIGN9O3JldHVybiBifSxQYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGRhKGIpKWZvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKVBiKGEsYltmXSxjLGQsZSk7ZWxzZSBjPUpiKGMpLGEmJmFbeWJdP1FiKGEsYixjLGQsZSk6S2IoYSxiLGMsITAsZCxlKX0sUmI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihkYShiKSlmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylSYihhLGJbZl0sYyxkLGUpO2Vsc2UgYz1KYihjKSxhJiZhW3liXT9hLloucmVtb3ZlKFN0cmluZyhiKSxjLGQsZSk6YSYmKGE9TGIoYSkpJiYoYj1hLkFjKGIsYywhIWQsZSkpJiZTYihiKX0sU2I9ZnVuY3Rpb24oYSl7aWYoIWZhKGEpJiZhJiYhYS5aYSl7dmFyIGI9YS5zcmM7aWYoYiYmXG5iW3liXSlFYihiLlosYSk7ZWxzZXt2YXIgYz1hLnR5cGUsZD1hLmFjO2IucmVtb3ZlRXZlbnRMaXN0ZW5lcj9iLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxkLGEuY2FwdHVyZSk6Yi5kZXRhY2hFdmVudCYmYi5kZXRhY2hFdmVudChOYihjKSxkKTtIYi0tOyhjPUxiKGIpKT8oRWIoYyxhKSwwPT1jLkFiJiYoYy5zcmM9bnVsbCxiW0ZiXT1udWxsKSk6QmIoYSl9fX0sTmI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gR2I/R2JbYV06R2JbYV09XCJvblwiK2F9LFViPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPSEwO2lmKGE9TGIoYSkpaWYoYj1hLnZbYi50b1N0cmluZygpXSlmb3IoYj1iLmNvbmNhdCgpLGE9MDthPGIubGVuZ3RoO2ErKyl7dmFyIGY9YlthXTtmJiZmLmNhcHR1cmU9PWMmJiFmLlphJiYoZj1UYihmLGQpLGU9ZSYmITEhPT1mKX1yZXR1cm4gZX0sVGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxpc3RlbmVyLGQ9YS5MYnx8YS5zcmM7YS5FYiYmU2IoYSk7cmV0dXJuIGMuY2FsbChkLFxuYil9LE9iPWZ1bmN0aW9uKGEsYil7aWYoYS5aYSlyZXR1cm4hMDtpZighdGIpe2lmKCFiKWE6e2I9W1wid2luZG93XCIsXCJldmVudFwiXTtmb3IodmFyIGM9bCxkO2Q9Yi5zaGlmdCgpOylpZihudWxsIT1jW2RdKWM9Y1tkXTtlbHNle2I9bnVsbDticmVhayBhfWI9Y31kPWI7Yj1uZXcgeGIoZCx0aGlzKTtjPSEwO2lmKCEoMD5kLmtleUNvZGV8fHZvaWQgMCE9ZC5yZXR1cm5WYWx1ZSkpe2E6e3ZhciBlPSExO2lmKDA9PWQua2V5Q29kZSl0cnl7ZC5rZXlDb2RlPS0xO2JyZWFrIGF9Y2F0Y2goZyl7ZT0hMH1pZihlfHx2b2lkIDA9PWQucmV0dXJuVmFsdWUpZC5yZXR1cm5WYWx1ZT0hMH1kPVtdO2ZvcihlPWIuY3VycmVudFRhcmdldDtlO2U9ZS5wYXJlbnROb2RlKWQucHVzaChlKTthPWEudHlwZTtmb3IoZT1kLmxlbmd0aC0xOyFiLlZhJiYwPD1lO2UtLSl7Yi5jdXJyZW50VGFyZ2V0PWRbZV07dmFyIGY9VWIoZFtlXSxhLCEwLGIpLGM9YyYmZn1mb3IoZT0wOyFiLlZhJiZlPGQubGVuZ3RoO2UrKyliLmN1cnJlbnRUYXJnZXQ9XG5kW2VdLGY9VWIoZFtlXSxhLCExLGIpLGM9YyYmZn1yZXR1cm4gY31yZXR1cm4gVGIoYSxuZXcgeGIoYix0aGlzKSl9LExiPWZ1bmN0aW9uKGEpe2E9YVtGYl07cmV0dXJuIGEgaW5zdGFuY2VvZiBDYj9hOm51bGx9LFZiPVwiX19jbG9zdXJlX2V2ZW50c19mbl9cIisoMUU5Kk1hdGgucmFuZG9tKCk+Pj4wKSxKYj1mdW5jdGlvbihhKXt3KGEsXCJMaXN0ZW5lciBjYW4gbm90IGJlIG51bGwuXCIpO2lmKHAoYSkpcmV0dXJuIGE7dyhhLmhhbmRsZUV2ZW50LFwiQW4gb2JqZWN0IGxpc3RlbmVyIG11c3QgaGF2ZSBoYW5kbGVFdmVudCBtZXRob2QuXCIpO2FbVmJdfHwoYVtWYl09ZnVuY3Rpb24oYil7cmV0dXJuIGEuaGFuZGxlRXZlbnQoYil9KTtyZXR1cm4gYVtWYl19O3ZhciBXYj0vXlsrYS16QS1aMC05Xy4hIyQlJicqXFwvPT9eYHt8fX4tXStAKFthLXpBLVowLTktXStcXC4pK1thLXpBLVowLTldezIsNjN9JC87dmFyIFliPWZ1bmN0aW9uKCl7dGhpcy5qYz1cIlwiO3RoaXMuTmQ9WGJ9O1liLnByb3RvdHlwZS5QYj0hMDtZYi5wcm90b3R5cGUuSmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qY307WWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJDb25zdHtcIit0aGlzLmpjK1wifVwifTt2YXIgWmI9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIFliJiZhLmNvbnN0cnVjdG9yPT09WWImJmEuTmQ9PT1YYilyZXR1cm4gYS5qYzt5YShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIENvbnN0LCBnb3QgJ1wiK2ErXCInXCIpO3JldHVyblwidHlwZV9lcnJvcjpDb25zdFwifSxYYj17fSwkYj1mdW5jdGlvbihhKXt2YXIgYj1uZXcgWWI7Yi5qYz1hO3JldHVybiBifTskYihcIlwiKTt2YXIgQj1mdW5jdGlvbigpe3RoaXMuamE9XCJcIjt0aGlzLk1kPWFjfTtCLnByb3RvdHlwZS5QYj0hMDtCLnByb3RvdHlwZS5KYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmphfTtCLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU2FmZVVybHtcIit0aGlzLmphK1wifVwifTtcbnZhciBiYz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQiYmYS5jb25zdHJ1Y3Rvcj09PUImJmEuTWQ9PT1hYylyZXR1cm4gYS5qYTt5YShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVVcmwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKTtyZXR1cm5cInR5cGVfZXJyb3I6U2FmZVVybFwifSxjYz0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2ksZWM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIEIpcmV0dXJuIGE7YT1hLlBiP2EuSmIoKTpTdHJpbmcoYSk7Y2MudGVzdChhKXx8KGE9XCJhYm91dDppbnZhbGlkI3pDbG9zdXJlelwiKTtyZXR1cm4gZGMoYSl9LGFjPXt9LGRjPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBCO2IuamE9YTtyZXR1cm4gYn07ZGMoXCJhYm91dDpibGFua1wiKTt2YXIgZmM9ZnVuY3Rpb24oYSl7cmV0dXJuL15cXHMqJC8udGVzdChhKT8hMTovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvKD86XCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/KVtcXHNcXHUyMDI4XFx1MjAyOV0qKD89OnwsfF18fXwkKS9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpfSxnYz1mdW5jdGlvbihhKXthPVN0cmluZyhhKTtpZihmYyhhKSl0cnl7cmV0dXJuIGV2YWwoXCIoXCIrYStcIilcIil9Y2F0Y2goYil7fXRocm93IEVycm9yKFwiSW52YWxpZCBKU09OIHN0cmluZzogXCIrYSk7fSxqYz1mdW5jdGlvbihhKXt2YXIgYj1bXTtoYyhuZXcgaWMsYSxiKTtyZXR1cm4gYi5qb2luKFwiXCIpfSxpYz1mdW5jdGlvbigpe3RoaXMuY2M9dm9pZCAwfSxcbmhjPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1iKWMucHVzaChcIm51bGxcIik7ZWxzZXtpZihcIm9iamVjdFwiPT10eXBlb2YgYil7aWYoZGEoYikpe3ZhciBkPWI7Yj1kLmxlbmd0aDtjLnB1c2goXCJbXCIpO2Zvcih2YXIgZT1cIlwiLGY9MDtmPGI7ZisrKWMucHVzaChlKSxlPWRbZl0saGMoYSxhLmNjP2EuY2MuY2FsbChkLFN0cmluZyhmKSxlKTplLGMpLGU9XCIsXCI7Yy5wdXNoKFwiXVwiKTtyZXR1cm59aWYoYiBpbnN0YW5jZW9mIFN0cmluZ3x8YiBpbnN0YW5jZW9mIE51bWJlcnx8YiBpbnN0YW5jZW9mIEJvb2xlYW4pYj1iLnZhbHVlT2YoKTtlbHNle2MucHVzaChcIntcIik7Zj1cIlwiO2ZvcihkIGluIGIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsZCkmJihlPWJbZF0sXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmKGMucHVzaChmKSxrYyhkLGMpLGMucHVzaChcIjpcIiksaGMoYSxhLmNjP2EuY2MuY2FsbChiLGQsZSk6ZSxjKSxmPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTtyZXR1cm59fXN3aXRjaCh0eXBlb2YgYil7Y2FzZSBcInN0cmluZ1wiOmtjKGIsXG5jKTticmVhaztjYXNlIFwibnVtYmVyXCI6Yy5wdXNoKGlzRmluaXRlKGIpJiYhaXNOYU4oYik/U3RyaW5nKGIpOlwibnVsbFwiKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmMucHVzaChTdHJpbmcoYikpO2JyZWFrO2Nhc2UgXCJmdW5jdGlvblwiOmMucHVzaChcIm51bGxcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIGIpO319fSxsYz17J1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCIsXCIvXCI6XCJcXFxcL1wiLFwiXFxiXCI6XCJcXFxcYlwiLFwiXFxmXCI6XCJcXFxcZlwiLFwiXFxuXCI6XCJcXFxcblwiLFwiXFxyXCI6XCJcXFxcclwiLFwiXFx0XCI6XCJcXFxcdFwiLFwiXFx4MEJcIjpcIlxcXFx1MDAwYlwifSxtYz0vXFx1ZmZmZi8udGVzdChcIlxcdWZmZmZcIik/L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx1ZmZmZl0vZzovW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHhmZl0vZyxrYz1mdW5jdGlvbihhLGIpe2IucHVzaCgnXCInLGEucmVwbGFjZShtYyxmdW5jdGlvbihhKXt2YXIgYj1sY1thXTtifHwoYj1cIlxcXFx1XCIrKGEuY2hhckNvZGVBdCgwKXw2NTUzNikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSxcbmxjW2FdPWIpO3JldHVybiBifSksJ1wiJyl9O3ZhciBuYz1mdW5jdGlvbigpe307bmMucHJvdG90eXBlLlhjPW51bGw7dmFyIG9jPWZ1bmN0aW9uKGEpe3JldHVybiBhLlhjfHwoYS5YYz1hLkRjKCkpfTt2YXIgcGMscWM9ZnVuY3Rpb24oKXt9O3IocWMsbmMpO3FjLnByb3RvdHlwZS5GYj1mdW5jdGlvbigpe3ZhciBhPXJjKHRoaXMpO3JldHVybiBhP25ldyBBY3RpdmVYT2JqZWN0KGEpOm5ldyBYTUxIdHRwUmVxdWVzdH07cWMucHJvdG90eXBlLkRjPWZ1bmN0aW9uKCl7dmFyIGE9e307cmModGhpcykmJihhWzBdPSEwLGFbMV09ITApO3JldHVybiBhfTtcbnZhciByYz1mdW5jdGlvbihhKXtpZighYS5rZCYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQWN0aXZlWE9iamVjdCl7Zm9yKHZhciBiPVtcIk1TWE1MMi5YTUxIVFRQLjYuMFwiLFwiTVNYTUwyLlhNTEhUVFAuMy4wXCIsXCJNU1hNTDIuWE1MSFRUUFwiLFwiTWljcm9zb2Z0LlhNTEhUVFBcIl0sYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO3RyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoZCksYS5rZD1kfWNhdGNoKGUpe319dGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY3JlYXRlIEFjdGl2ZVhPYmplY3QuIEFjdGl2ZVggbWlnaHQgYmUgZGlzYWJsZWQsIG9yIE1TWE1MIG1pZ2h0IG5vdCBiZSBpbnN0YWxsZWRcIik7fXJldHVybiBhLmtkfTtwYz1uZXcgcWM7dmFyIHNjPWZ1bmN0aW9uKCl7fTtyKHNjLG5jKTtzYy5wcm90b3R5cGUuRmI9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoXCJ3aXRoQ3JlZGVudGlhbHNcImluIGEpcmV0dXJuIGE7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0KXJldHVybiBuZXcgdGM7dGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBicm93c2VyXCIpO307c2MucHJvdG90eXBlLkRjPWZ1bmN0aW9uKCl7cmV0dXJue319O1xudmFyIHRjPWZ1bmN0aW9uKCl7dGhpcy5uYT1uZXcgWERvbWFpblJlcXVlc3Q7dGhpcy5yZWFkeVN0YXRlPTA7dGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDt0aGlzLnJlc3BvbnNlVGV4dD1cIlwiO3RoaXMuc3RhdHVzPS0xO3RoaXMuc3RhdHVzVGV4dD10aGlzLnJlc3BvbnNlWE1MPW51bGw7dGhpcy5uYS5vbmxvYWQ9cSh0aGlzLmtlLHRoaXMpO3RoaXMubmEub25lcnJvcj1xKHRoaXMuaGQsdGhpcyk7dGhpcy5uYS5vbnByb2dyZXNzPXEodGhpcy5sZSx0aGlzKTt0aGlzLm5hLm9udGltZW91dD1xKHRoaXMubWUsdGhpcyl9O2g9dGMucHJvdG90eXBlO2gub3Blbj1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YyYmIWMpdGhyb3cgRXJyb3IoXCJPbmx5IGFzeW5jIHJlcXVlc3RzIGFyZSBzdXBwb3J0ZWQuXCIpO3RoaXMubmEub3BlbihhLGIpfTtcbmguc2VuZD1mdW5jdGlvbihhKXtpZihhKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXRoaXMubmEuc2VuZChhKTtlbHNlIHRocm93IEVycm9yKFwiT25seSBzdHJpbmcgZGF0YSBpcyBzdXBwb3J0ZWRcIik7ZWxzZSB0aGlzLm5hLnNlbmQoKX07aC5hYm9ydD1mdW5jdGlvbigpe3RoaXMubmEuYWJvcnQoKX07aC5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKCl7fTtoLmtlPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9MjAwO3RoaXMucmVzcG9uc2VUZXh0PXRoaXMubmEucmVzcG9uc2VUZXh0O3VjKHRoaXMsNCl9O2guaGQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXR1cz01MDA7dGhpcy5yZXNwb25zZVRleHQ9XCJcIjt1Yyh0aGlzLDQpfTtoLm1lPWZ1bmN0aW9uKCl7dGhpcy5oZCgpfTtoLmxlPWZ1bmN0aW9uKCl7dGhpcy5zdGF0dXM9MjAwO3VjKHRoaXMsMSl9O3ZhciB1Yz1mdW5jdGlvbihhLGIpe2EucmVhZHlTdGF0ZT1iO2lmKGEub25yZWFkeXN0YXRlY2hhbmdlKWEub25yZWFkeXN0YXRlY2hhbmdlKCl9O3ZhciB3Yz1mdW5jdGlvbigpe3RoaXMuWGI9XCJcIjt0aGlzLk9kPXZjfTt3Yy5wcm90b3R5cGUuUGI9ITA7d2MucHJvdG90eXBlLkpiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWGJ9O3djLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiVHJ1c3RlZFJlc291cmNlVXJse1wiK3RoaXMuWGIrXCJ9XCJ9O3ZhciB2Yz17fTt2YXIgeWM9ZnVuY3Rpb24oKXt0aGlzLmphPVwiXCI7dGhpcy5MZD14Y307eWMucHJvdG90eXBlLlBiPSEwO3ljLnByb3RvdHlwZS5KYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmphfTt5Yy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNhZmVIdG1se1wiK3RoaXMuamErXCJ9XCJ9O3ZhciB6Yz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgeWMmJmEuY29uc3RydWN0b3I9PT15YyYmYS5MZD09PXhjKXJldHVybiBhLmphO3lhKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZUh0bWwsIGdvdCAnXCIrYStcIicgb2YgdHlwZSBcIittKGEpKTtyZXR1cm5cInR5cGVfZXJyb3I6U2FmZUh0bWxcIn0seGM9e307eWMucHJvdG90eXBlLnRlPWZ1bmN0aW9uKGEpe3RoaXMuamE9YTtyZXR1cm4gdGhpc307IWViJiYhenx8eiYmOTw9TnVtYmVyKG1iKXx8ZWImJkEoXCIxLjkuMVwiKTt6JiZBKFwiOVwiKTt2YXIgQmM9ZnVuY3Rpb24oYSxiKXtPYShiLGZ1bmN0aW9uKGIsZCl7XCJzdHlsZVwiPT1kP2Euc3R5bGUuY3NzVGV4dD1iOlwiY2xhc3NcIj09ZD9hLmNsYXNzTmFtZT1iOlwiZm9yXCI9PWQ/YS5odG1sRm9yPWI6QWMuaGFzT3duUHJvcGVydHkoZCk/YS5zZXRBdHRyaWJ1dGUoQWNbZF0sYik6MD09ZC5sYXN0SW5kZXhPZihcImFyaWEtXCIsMCl8fDA9PWQubGFzdEluZGV4T2YoXCJkYXRhLVwiLDApP2Euc2V0QXR0cmlidXRlKGQsYik6YVtkXT1ifSl9LEFjPXtjZWxscGFkZGluZzpcImNlbGxQYWRkaW5nXCIsY2VsbHNwYWNpbmc6XCJjZWxsU3BhY2luZ1wiLGNvbHNwYW46XCJjb2xTcGFuXCIsZnJhbWVib3JkZXI6XCJmcmFtZUJvcmRlclwiLGhlaWdodDpcImhlaWdodFwiLG1heGxlbmd0aDpcIm1heExlbmd0aFwiLG5vbmNlOlwibm9uY2VcIixyb2xlOlwicm9sZVwiLHJvd3NwYW46XCJyb3dTcGFuXCIsdHlwZTpcInR5cGVcIix1c2VtYXA6XCJ1c2VNYXBcIix2YWxpZ246XCJ2QWxpZ25cIix3aWR0aDpcIndpZHRoXCJ9O3ZhciBDYz1mdW5jdGlvbihhLGIsYyl7dGhpcy53ZT1jO3RoaXMuVmQ9YTt0aGlzLkllPWI7dGhpcy5UYj0wO3RoaXMuTWI9bnVsbH07Q2MucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhOzA8dGhpcy5UYj8odGhpcy5UYi0tLGE9dGhpcy5NYix0aGlzLk1iPWEubmV4dCxhLm5leHQ9bnVsbCk6YT10aGlzLlZkKCk7cmV0dXJuIGF9O0NjLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oYSl7dGhpcy5JZShhKTt0aGlzLlRiPHRoaXMud2UmJih0aGlzLlRiKyssYS5uZXh0PXRoaXMuTWIsdGhpcy5NYj1hKX07dmFyIERjPWZ1bmN0aW9uKGEpe2wuc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX0sRWMsRmM9ZnVuY3Rpb24oKXt2YXIgYT1sLk1lc3NhZ2VDaGFubmVsO1widW5kZWZpbmVkXCI9PT10eXBlb2YgYSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXImJiF5KFwiUHJlc3RvXCIpJiYoYT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Euc3JjPVwiXCI7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpO3ZhciBiPWEuY29udGVudFdpbmRvdyxhPWIuZG9jdW1lbnQ7YS5vcGVuKCk7YS53cml0ZShcIlwiKTthLmNsb3NlKCk7dmFyIGM9XCJjYWxsSW1tZWRpYXRlXCIrTWF0aC5yYW5kb20oKSxkPVwiZmlsZTpcIj09Yi5sb2NhdGlvbi5wcm90b2NvbD9cIipcIjpiLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitiLmxvY2F0aW9uLmhvc3QsXG5hPXEoZnVuY3Rpb24oYSl7aWYoKFwiKlwiPT1kfHxhLm9yaWdpbj09ZCkmJmEuZGF0YT09Yyl0aGlzLnBvcnQxLm9ubWVzc2FnZSgpfSx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSwhMSk7dGhpcy5wb3J0MT17fTt0aGlzLnBvcnQyPXtwb3N0TWVzc2FnZTpmdW5jdGlvbigpe2IucG9zdE1lc3NhZ2UoYyxkKX19fSk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiYheShcIlRyaWRlbnRcIikmJiF5KFwiTVNJRVwiKSl7dmFyIGI9bmV3IGEsYz17fSxkPWM7Yi5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1jLm5leHQpe2M9Yy5uZXh0O3ZhciBhPWMuJGM7Yy4kYz1udWxsO2EoKX19O3JldHVybiBmdW5jdGlvbihhKXtkLm5leHQ9eyRjOmF9O2Q9ZC5uZXh0O2IucG9ydDIucG9zdE1lc3NhZ2UoMCl9fXJldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpP1xuZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2I9bnVsbDthKCk7YT1udWxsfTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe2wuc2V0VGltZW91dChhLDApfX07dmFyIEdjPWZ1bmN0aW9uKCl7dGhpcy5vYz10aGlzLklhPW51bGx9LEljPW5ldyBDYyhmdW5jdGlvbigpe3JldHVybiBuZXcgSGN9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKTtHYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9SWMuZ2V0KCk7Yy5zZXQoYSxiKTt0aGlzLm9jP3RoaXMub2MubmV4dD1jOih3KCF0aGlzLklhKSx0aGlzLklhPWMpO3RoaXMub2M9Y307R2MucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPW51bGw7dGhpcy5JYSYmKGE9dGhpcy5JYSx0aGlzLklhPXRoaXMuSWEubmV4dCx0aGlzLklhfHwodGhpcy5vYz1udWxsKSxhLm5leHQ9bnVsbCk7cmV0dXJuIGF9O3ZhciBIYz1mdW5jdGlvbigpe3RoaXMubmV4dD10aGlzLnNjb3BlPXRoaXMuemM9bnVsbH07SGMucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuemM9YTt0aGlzLnNjb3BlPWI7dGhpcy5uZXh0PW51bGx9O1xuSGMucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuc2NvcGU9dGhpcy56Yz1udWxsfTt2YXIgTmM9ZnVuY3Rpb24oYSxiKXtKY3x8S2MoKTtMY3x8KEpjKCksTGM9ITApO01jLmFkZChhLGIpfSxKYyxLYz1mdW5jdGlvbigpe3ZhciBhPWwuUHJvbWlzZTtpZigtMSE9U3RyaW5nKGEpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpKXt2YXIgYj1hLnJlc29sdmUodm9pZCAwKTtKYz1mdW5jdGlvbigpe2IudGhlbihPYyl9fWVsc2UgSmM9ZnVuY3Rpb24oKXt2YXIgYT1PYzshcChsLnNldEltbWVkaWF0ZSl8fGwuV2luZG93JiZsLldpbmRvdy5wcm90b3R5cGUmJiF5KFwiRWRnZVwiKSYmbC5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZT09bC5zZXRJbW1lZGlhdGU/KEVjfHwoRWM9RmMoKSksRWMoYSkpOmwuc2V0SW1tZWRpYXRlKGEpfX0sTGM9ITEsTWM9bmV3IEdjLE9jPWZ1bmN0aW9uKCl7Zm9yKHZhciBhO2E9TWMucmVtb3ZlKCk7KXt0cnl7YS56Yy5jYWxsKGEuc2NvcGUpfWNhdGNoKGIpe0RjKGIpfUljLnB1dChhKX1MYz0hMX07dmFyIFBjPWZ1bmN0aW9uKGEpe2EucHJvdG90eXBlLnRoZW49YS5wcm90b3R5cGUudGhlbjthLnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZT0hMH0sUWM9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7dHJ5e3JldHVybiEhYS4kZ29vZ19UaGVuYWJsZX1jYXRjaChiKXtyZXR1cm4hMX19O3ZhciBDPWZ1bmN0aW9uKGEsYil7dGhpcy5GPTA7dGhpcy5sYT12b2lkIDA7dGhpcy5MYT10aGlzLmdhPXRoaXMubT1udWxsO3RoaXMuS2I9dGhpcy55Yz0hMTtpZihhIT1iYSl0cnl7dmFyIGM9dGhpczthLmNhbGwoYixmdW5jdGlvbihhKXtSYyhjLDIsYSl9LGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIFNjKSl0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goZSl7fVJjKGMsMyxhKX0pfWNhdGNoKGQpe1JjKHRoaXMsMyxkKX19LFRjPWZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMuY29udGV4dD10aGlzLlNhPXRoaXMuQ2E9dGhpcy5jaGlsZD1udWxsO3RoaXMuaGI9ITF9O1RjLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuY29udGV4dD10aGlzLlNhPXRoaXMuQ2E9dGhpcy5jaGlsZD1udWxsO3RoaXMuaGI9ITF9O1xudmFyIFVjPW5ldyBDYyhmdW5jdGlvbigpe3JldHVybiBuZXcgVGN9LGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0sMTAwKSxWYz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9VWMuZ2V0KCk7ZC5DYT1hO2QuU2E9YjtkLmNvbnRleHQ9YztyZXR1cm4gZH0sRD1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQylyZXR1cm4gYTt2YXIgYj1uZXcgQyhiYSk7UmMoYiwyLGEpO3JldHVybiBifSxFPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe2MoYSl9KX0sWGM9ZnVuY3Rpb24oYSxiLGMpe1djKGEsYixjLG51bGwpfHxOYyhqYShiLGEpKX0sWWM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGIpe3ZhciBjPWEubGVuZ3RoLGQ9W107aWYoYylmb3IodmFyIGU9ZnVuY3Rpb24oYSxlLGYpe2MtLTtkW2FdPWU/e2VlOiEwLHZhbHVlOmZ9OntlZTohMSxyZWFzb246Zn07MD09YyYmYihkKX0sZj0wLGc7ZjxhLmxlbmd0aDtmKyspZz1hW2ZdLFhjKGcsamEoZSxmLCEwKSxcbmphKGUsZiwhMSkpO2Vsc2UgYihkKX0pfTtDLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1hJiZCYShhLFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKTtudWxsIT1iJiZCYShiLFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtyZXR1cm4gWmModGhpcyxwKGEpP2E6bnVsbCxwKGIpP2I6bnVsbCxjKX07UGMoQyk7dmFyIGFkPWZ1bmN0aW9uKGEsYil7Yj1WYyhiLGIsdm9pZCAwKTtiLmhiPSEwOyRjKGEsYik7cmV0dXJuIGF9O0MucHJvdG90eXBlLmc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gWmModGhpcyxudWxsLGEsYil9O0MucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXswPT10aGlzLkYmJk5jKGZ1bmN0aW9uKCl7dmFyIGI9bmV3IFNjKGEpO2JkKHRoaXMsYil9LHRoaXMpfTtcbnZhciBiZD1mdW5jdGlvbihhLGIpe2lmKDA9PWEuRilpZihhLm0pe3ZhciBjPWEubTtpZihjLmdhKXtmb3IodmFyIGQ9MCxlPW51bGwsZj1udWxsLGc9Yy5nYTtnJiYoZy5oYnx8KGQrKyxnLmNoaWxkPT1hJiYoZT1nKSwhKGUmJjE8ZCkpKTtnPWcubmV4dCllfHwoZj1nKTtlJiYoMD09Yy5GJiYxPT1kP2JkKGMsYik6KGY/KGQ9Zix3KGMuZ2EpLHcobnVsbCE9ZCksZC5uZXh0PT1jLkxhJiYoYy5MYT1kKSxkLm5leHQ9ZC5uZXh0Lm5leHQpOmNkKGMpLGRkKGMsZSwzLGIpKSl9YS5tPW51bGx9ZWxzZSBSYyhhLDMsYil9LCRjPWZ1bmN0aW9uKGEsYil7YS5nYXx8MiE9YS5GJiYzIT1hLkZ8fGVkKGEpO3cobnVsbCE9Yi5DYSk7YS5MYT9hLkxhLm5leHQ9YjphLmdhPWI7YS5MYT1ifSxaYz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1WYyhudWxsLG51bGwsbnVsbCk7ZS5jaGlsZD1uZXcgQyhmdW5jdGlvbihhLGcpe2UuQ2E9Yj9mdW5jdGlvbihjKXt0cnl7dmFyIGU9Yi5jYWxsKGQsYyk7YShlKX1jYXRjaChwYSl7ZyhwYSl9fTpcbmE7ZS5TYT1jP2Z1bmN0aW9uKGIpe3RyeXt2YXIgZT1jLmNhbGwoZCxiKTt2b2lkIDA9PT1lJiZiIGluc3RhbmNlb2YgU2M/ZyhiKTphKGUpfWNhdGNoKHBhKXtnKHBhKX19Omd9KTtlLmNoaWxkLm09YTskYyhhLGUpO3JldHVybiBlLmNoaWxkfTtDLnByb3RvdHlwZS5TZT1mdW5jdGlvbihhKXt3KDE9PXRoaXMuRik7dGhpcy5GPTA7UmModGhpcywyLGEpfTtDLnByb3RvdHlwZS5UZT1mdW5jdGlvbihhKXt3KDE9PXRoaXMuRik7dGhpcy5GPTA7UmModGhpcywzLGEpfTtcbnZhciBSYz1mdW5jdGlvbihhLGIsYyl7MD09YS5GJiYoYT09PWMmJihiPTMsYz1uZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIikpLGEuRj0xLFdjKGMsYS5TZSxhLlRlLGEpfHwoYS5sYT1jLGEuRj1iLGEubT1udWxsLGVkKGEpLDMhPWJ8fGMgaW5zdGFuY2VvZiBTY3x8ZmQoYSxjKSkpfSxXYz1mdW5jdGlvbihhLGIsYyxkKXtpZihhIGluc3RhbmNlb2YgQylyZXR1cm4gbnVsbCE9YiYmQmEoYixcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIiksbnVsbCE9YyYmQmEoYyxcIm9wdF9vblJlamVjdGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IHBhc3Mgb3B0X2NvbnRleHQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkIG9mIHRoZSB0aGlyZD9cIiksJGMoYSxWYyhifHxiYSxjfHxudWxsLGQpKSwhMDtpZihRYyhhKSlyZXR1cm4gYS50aGVuKGIsYyxkKSwhMDtpZihnYShhKSl0cnl7dmFyIGU9YS50aGVuO2lmKHAoZSkpcmV0dXJuIGdkKGEsXG5lLGIsYyxkKSwhMH1jYXRjaChmKXtyZXR1cm4gYy5jYWxsKGQsZiksITB9cmV0dXJuITF9LGdkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ITEsZz1mdW5jdGlvbihhKXtmfHwoZj0hMCxjLmNhbGwoZSxhKSl9LGs9ZnVuY3Rpb24oYSl7Znx8KGY9ITAsZC5jYWxsKGUsYSkpfTt0cnl7Yi5jYWxsKGEsZyxrKX1jYXRjaCh0KXtrKHQpfX0sZWQ9ZnVuY3Rpb24oYSl7YS55Y3x8KGEueWM9ITAsTmMoYS4kZCxhKSl9LGNkPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YS5nYSYmKGI9YS5nYSxhLmdhPWIubmV4dCxiLm5leHQ9bnVsbCk7YS5nYXx8KGEuTGE9bnVsbCk7bnVsbCE9YiYmdyhudWxsIT1iLkNhKTtyZXR1cm4gYn07Qy5wcm90b3R5cGUuJGQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT1jZCh0aGlzKTspZGQodGhpcyxhLHRoaXMuRix0aGlzLmxhKTt0aGlzLnljPSExfTtcbnZhciBkZD1mdW5jdGlvbihhLGIsYyxkKXtpZigzPT1jJiZiLlNhJiYhYi5oYilmb3IoO2EmJmEuS2I7YT1hLm0pYS5LYj0hMTtpZihiLmNoaWxkKWIuY2hpbGQubT1udWxsLGhkKGIsYyxkKTtlbHNlIHRyeXtiLmhiP2IuQ2EuY2FsbChiLmNvbnRleHQpOmhkKGIsYyxkKX1jYXRjaChlKXtpZC5jYWxsKG51bGwsZSl9VWMucHV0KGIpfSxoZD1mdW5jdGlvbihhLGIsYyl7Mj09Yj9hLkNhLmNhbGwoYS5jb250ZXh0LGMpOmEuU2EmJmEuU2EuY2FsbChhLmNvbnRleHQsYyl9LGZkPWZ1bmN0aW9uKGEsYil7YS5LYj0hMDtOYyhmdW5jdGlvbigpe2EuS2ImJmlkLmNhbGwobnVsbCxiKX0pfSxpZD1EYyxTYz1mdW5jdGlvbihhKXt1LmNhbGwodGhpcyxhKX07cihTYyx1KTtTYy5wcm90b3R5cGUubmFtZT1cImNhbmNlbFwiOy8qXG4gUG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBmcm9tIE1vY2hpS2l0LCByZWNlaXZlZCBieVxuIFRoZSBDbG9zdXJlIEF1dGhvcnMgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBBbGwgb3RoZXIgY29kZSBpcyBDb3B5cmlnaHRcbiAyMDA1LTIwMDkgVGhlIENsb3N1cmUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiovXG52YXIgRj1mdW5jdGlvbihhLGIpe3RoaXMuZWM9W107dGhpcy5wZD1hO3RoaXMuY2Q9Ynx8bnVsbDt0aGlzLm5iPXRoaXMuUGE9ITE7dGhpcy5sYT12b2lkIDA7dGhpcy5TYz10aGlzLldjPXRoaXMudGM9ITE7dGhpcy5tYz0wO3RoaXMubT1udWxsO3RoaXMudWM9MH07Ri5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpe2lmKHRoaXMuUGEpdGhpcy5sYSBpbnN0YW5jZW9mIEYmJnRoaXMubGEuY2FuY2VsKCk7ZWxzZXtpZih0aGlzLm0pe3ZhciBiPXRoaXMubTtkZWxldGUgdGhpcy5tO2E/Yi5jYW5jZWwoYSk6KGIudWMtLSwwPj1iLnVjJiZiLmNhbmNlbCgpKX10aGlzLnBkP3RoaXMucGQuY2FsbCh0aGlzLmNkLHRoaXMpOnRoaXMuU2M9ITA7dGhpcy5QYXx8amQodGhpcyxuZXcga2QpfX07Ri5wcm90b3R5cGUuYWQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnRjPSExO2xkKHRoaXMsYSxiKX07XG52YXIgbGQ9ZnVuY3Rpb24oYSxiLGMpe2EuUGE9ITA7YS5sYT1jO2EubmI9IWI7bWQoYSl9LG9kPWZ1bmN0aW9uKGEpe2lmKGEuUGEpe2lmKCFhLlNjKXRocm93IG5ldyBuZDthLlNjPSExfX07Ri5wcm90b3R5cGUuY2FsbGJhY2s9ZnVuY3Rpb24oYSl7b2QodGhpcyk7cGQoYSk7bGQodGhpcywhMCxhKX07XG52YXIgamQ9ZnVuY3Rpb24oYSxiKXtvZChhKTtwZChiKTtsZChhLCExLGIpfSxwZD1mdW5jdGlvbihhKXt3KCEoYSBpbnN0YW5jZW9mIEYpLFwiQW4gZXhlY3V0aW9uIHNlcXVlbmNlIG1heSBub3QgYmUgaW5pdGlhdGVkIHdpdGggYSBibG9ja2luZyBEZWZlcnJlZC5cIil9LHRkPWZ1bmN0aW9uKGEpe3ZhciBiPXFkKFwiaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50LmpzP29ubG9hZD1cIityZCk7c2QoYixudWxsLGEsdm9pZCAwKX0sc2Q9ZnVuY3Rpb24oYSxiLGMsZCl7dyghYS5XYyxcIkJsb2NraW5nIERlZmVycmVkcyBjYW4gbm90IGJlIHJlLXVzZWRcIik7YS5lYy5wdXNoKFtiLGMsZF0pO2EuUGEmJm1kKGEpfTtGLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9bmV3IEMoZnVuY3Rpb24oYSxiKXtkPWE7ZT1ifSk7c2QodGhpcyxkLGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBrZD9mLmNhbmNlbCgpOmUoYSl9KTtyZXR1cm4gZi50aGVuKGEsYixjKX07XG5QYyhGKTtcbnZhciB1ZD1mdW5jdGlvbihhKXtyZXR1cm4gRmEoYS5lYyxmdW5jdGlvbihhKXtyZXR1cm4gcChhWzFdKX0pfSxtZD1mdW5jdGlvbihhKXtpZihhLm1jJiZhLlBhJiZ1ZChhKSl7dmFyIGI9YS5tYyxjPXZkW2JdO2MmJihsLmNsZWFyVGltZW91dChjLm9iKSxkZWxldGUgdmRbYl0pO2EubWM9MH1hLm0mJihhLm0udWMtLSxkZWxldGUgYS5tKTtmb3IodmFyIGI9YS5sYSxkPWM9ITE7YS5lYy5sZW5ndGgmJiFhLnRjOyl7dmFyIGU9YS5lYy5zaGlmdCgpLGY9ZVswXSxnPWVbMV0sZT1lWzJdO2lmKGY9YS5uYj9nOmYpdHJ5e3ZhciBrPWYuY2FsbChlfHxhLmNkLGIpO3ZvaWQgMCE9PWsmJihhLm5iPWEubmImJihrPT1ifHxrIGluc3RhbmNlb2YgRXJyb3IpLGEubGE9Yj1rKTtpZihRYyhiKXx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGwuUHJvbWlzZSYmYiBpbnN0YW5jZW9mIGwuUHJvbWlzZSlkPSEwLGEudGM9ITB9Y2F0Y2godCl7Yj10LGEubmI9ITAsdWQoYSl8fChjPSEwKX19YS5sYT1iO2QmJlxuKGs9cShhLmFkLGEsITApLGQ9cShhLmFkLGEsITEpLGIgaW5zdGFuY2VvZiBGPyhzZChiLGssZCksYi5XYz0hMCk6Yi50aGVuKGssZCkpO2MmJihiPW5ldyB3ZChiKSx2ZFtiLm9iXT1iLGEubWM9Yi5vYil9LG5kPWZ1bmN0aW9uKCl7dS5jYWxsKHRoaXMpfTtyKG5kLHUpO25kLnByb3RvdHlwZS5tZXNzYWdlPVwiRGVmZXJyZWQgaGFzIGFscmVhZHkgZmlyZWRcIjtuZC5wcm90b3R5cGUubmFtZT1cIkFscmVhZHlDYWxsZWRFcnJvclwiO3ZhciBrZD1mdW5jdGlvbigpe3UuY2FsbCh0aGlzKX07cihrZCx1KTtrZC5wcm90b3R5cGUubWVzc2FnZT1cIkRlZmVycmVkIHdhcyBjYW5jZWxlZFwiO2tkLnByb3RvdHlwZS5uYW1lPVwiQ2FuY2VsZWRFcnJvclwiO3ZhciB3ZD1mdW5jdGlvbihhKXt0aGlzLm9iPWwuc2V0VGltZW91dChxKHRoaXMuUmUsdGhpcyksMCk7dGhpcy5KPWF9O1xud2QucHJvdG90eXBlLlJlPWZ1bmN0aW9uKCl7dyh2ZFt0aGlzLm9iXSxcIkNhbm5vdCB0aHJvdyBhbiBlcnJvciB0aGF0IGlzIG5vdCBzY2hlZHVsZWQuXCIpO2RlbGV0ZSB2ZFt0aGlzLm9iXTt0aHJvdyB0aGlzLko7fTt2YXIgdmQ9e307dmFyIHFkPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyB3YztiLlhiPWE7cmV0dXJuIHhkKGIpfSx4ZD1mdW5jdGlvbihhKXt2YXIgYj17fSxjPWIuZG9jdW1lbnR8fGRvY3VtZW50LGQ7YSBpbnN0YW5jZW9mIHdjJiZhLmNvbnN0cnVjdG9yPT09d2MmJmEuT2Q9PT12Yz9kPWEuWGI6KHlhKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgVHJ1c3RlZFJlc291cmNlVXJsLCBnb3QgJ1wiK2ErXCInIG9mIHR5cGUgXCIrbShhKSksZD1cInR5cGVfZXJyb3I6VHJ1c3RlZFJlc291cmNlVXJsXCIpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik7YT17d2Q6ZSx6Yjp2b2lkIDB9O3ZhciBmPW5ldyBGKHlkLGEpLGc9bnVsbCxrPW51bGwhPWIudGltZW91dD9iLnRpbWVvdXQ6NUUzOzA8ayYmKGc9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt6ZChlLCEwKTtqZChmLG5ldyBBZCgxLFwiVGltZW91dCByZWFjaGVkIGZvciBsb2FkaW5nIHNjcmlwdCBcIitkKSl9LGspLGEuemI9Zyk7ZS5vbmxvYWQ9XG5lLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2UucmVhZHlTdGF0ZSYmXCJsb2FkZWRcIiE9ZS5yZWFkeVN0YXRlJiZcImNvbXBsZXRlXCIhPWUucmVhZHlTdGF0ZXx8KHpkKGUsYi5jZnx8ITEsZyksZi5jYWxsYmFjayhudWxsKSl9O2Uub25lcnJvcj1mdW5jdGlvbigpe3pkKGUsITAsZyk7amQoZixuZXcgQWQoMCxcIkVycm9yIHdoaWxlIGxvYWRpbmcgc2NyaXB0IFwiK2QpKX07YT1iLmF0dHJpYnV0ZXN8fHt9O1ZhKGEse3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIixjaGFyc2V0OlwiVVRGLThcIixzcmM6ZH0pO0JjKGUsYSk7QmQoYykuYXBwZW5kQ2hpbGQoZSk7cmV0dXJuIGZ9LEJkPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybihiPShhfHxkb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIRUFEXCIpKSYmMCE9Yi5sZW5ndGg/YlswXTphLmRvY3VtZW50RWxlbWVudH0seWQ9ZnVuY3Rpb24oKXtpZih0aGlzJiZ0aGlzLndkKXt2YXIgYT10aGlzLndkO2EmJlwiU0NSSVBUXCI9PWEudGFnTmFtZSYmXG56ZChhLCEwLHRoaXMuemIpfX0semQ9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWMmJmwuY2xlYXJUaW1lb3V0KGMpO2Eub25sb2FkPWJhO2Eub25lcnJvcj1iYTthLm9ucmVhZHlzdGF0ZWNoYW5nZT1iYTtiJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EmJmEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSwwKX0sQWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIkpzbG9hZGVyIGVycm9yIChjb2RlICNcIithK1wiKVwiO2ImJihjKz1cIjogXCIrYik7dS5jYWxsKHRoaXMsYyk7dGhpcy5jb2RlPWF9O3IoQWQsdSk7dmFyIEc9ZnVuY3Rpb24oKXt2Yi5jYWxsKHRoaXMpO3RoaXMuWj1uZXcgQ2IodGhpcyk7dGhpcy5SZD10aGlzO3RoaXMuSWM9bnVsbH07cihHLHZiKTtHLnByb3RvdHlwZVt5Yl09ITA7aD1HLnByb3RvdHlwZTtoLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCl7SWIodGhpcyxhLGIsYyxkKX07aC5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjLGQpe1JiKHRoaXMsYSxiLGMsZCl9O1xuaC5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe0NkKHRoaXMpO3ZhciBiLGM9dGhpcy5JYztpZihjKXtiPVtdO2Zvcih2YXIgZD0xO2M7Yz1jLkljKWIucHVzaChjKSx3KDFFMz4rK2QsXCJpbmZpbml0ZSBsb29wXCIpfWM9dGhpcy5SZDtkPWEudHlwZXx8YTtpZihuKGEpKWE9bmV3IHdiKGEsYyk7ZWxzZSBpZihhIGluc3RhbmNlb2Ygd2IpYS50YXJnZXQ9YS50YXJnZXR8fGM7ZWxzZXt2YXIgZT1hO2E9bmV3IHdiKGQsYyk7VmEoYSxlKX12YXIgZT0hMCxmO2lmKGIpZm9yKHZhciBnPWIubGVuZ3RoLTE7IWEuVmEmJjA8PWc7Zy0tKWY9YS5jdXJyZW50VGFyZ2V0PWJbZ10sZT1EZChmLGQsITAsYSkmJmU7YS5WYXx8KGY9YS5jdXJyZW50VGFyZ2V0PWMsZT1EZChmLGQsITAsYSkmJmUsYS5WYXx8KGU9RGQoZixkLCExLGEpJiZlKSk7aWYoYilmb3IoZz0wOyFhLlZhJiZnPGIubGVuZ3RoO2crKylmPWEuY3VycmVudFRhcmdldD1iW2ddLGU9RGQoZixkLCExLGEpJiZlO3JldHVybiBlfTtcbmguTmE9ZnVuY3Rpb24oKXtHLlVjLk5hLmNhbGwodGhpcyk7aWYodGhpcy5aKXt2YXIgYT10aGlzLlosYj0wLGM7Zm9yKGMgaW4gYS52KXtmb3IodmFyIGQ9YS52W2NdLGU9MDtlPGQubGVuZ3RoO2UrKykrK2IsQmIoZFtlXSk7ZGVsZXRlIGEudltjXTthLkFiLS19fXRoaXMuSWM9bnVsbH07aC5saXN0ZW49ZnVuY3Rpb24oYSxiLGMsZCl7Q2QodGhpcyk7cmV0dXJuIHRoaXMuWi5hZGQoU3RyaW5nKGEpLGIsITEsYyxkKX07XG52YXIgUWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLlouYWRkKFN0cmluZyhiKSxjLCEwLGQsZSl9LERkPWZ1bmN0aW9uKGEsYixjLGQpe2I9YS5aLnZbU3RyaW5nKGIpXTtpZighYilyZXR1cm4hMDtiPWIuY29uY2F0KCk7Zm9yKHZhciBlPSEwLGY9MDtmPGIubGVuZ3RoOysrZil7dmFyIGc9YltmXTtpZihnJiYhZy5aYSYmZy5jYXB0dXJlPT1jKXt2YXIgaz1nLmxpc3RlbmVyLHQ9Zy5MYnx8Zy5zcmM7Zy5FYiYmRWIoYS5aLGcpO2U9ITEhPT1rLmNhbGwodCxkKSYmZX19cmV0dXJuIGUmJjAhPWQudmR9O0cucHJvdG90eXBlLkFjPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLlouQWMoU3RyaW5nKGEpLGIsYyxkKX07dmFyIENkPWZ1bmN0aW9uKGEpe3coYS5aLFwiRXZlbnQgdGFyZ2V0IGlzIG5vdCBpbml0aWFsaXplZC4gRGlkIHlvdSBjYWxsIHRoZSBzdXBlcmNsYXNzIChnb29nLmV2ZW50cy5FdmVudFRhcmdldCkgY29uc3RydWN0b3I/XCIpfTt2YXIgRWQ9XCJTdG9wSXRlcmF0aW9uXCJpbiBsP2wuU3RvcEl0ZXJhdGlvbjp7bWVzc2FnZTpcIlN0b3BJdGVyYXRpb25cIixzdGFjazpcIlwifSxGZD1mdW5jdGlvbigpe307RmQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt0aHJvdyBFZDt9O0ZkLnByb3RvdHlwZS5RZD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgR2Q9ZnVuY3Rpb24oYSxiKXt0aGlzLiQ9e307dGhpcy5vPVtdO3RoaXMuZ2I9dGhpcy5sPTA7dmFyIGM9YXJndW1lbnRzLmxlbmd0aDtpZigxPGMpe2lmKGMlMil0aHJvdyBFcnJvcihcIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzXCIpO2Zvcih2YXIgZD0wO2Q8YztkKz0yKXRoaXMuc2V0KGFyZ3VtZW50c1tkXSxhcmd1bWVudHNbZCsxXSl9ZWxzZSBhJiZ0aGlzLmFkZEFsbChhKX07R2QucHJvdG90eXBlLlY9ZnVuY3Rpb24oKXtIZCh0aGlzKTtmb3IodmFyIGE9W10sYj0wO2I8dGhpcy5vLmxlbmd0aDtiKyspYS5wdXNoKHRoaXMuJFt0aGlzLm9bYl1dKTtyZXR1cm4gYX07R2QucHJvdG90eXBlLmhhPWZ1bmN0aW9uKCl7SGQodGhpcyk7cmV0dXJuIHRoaXMuby5jb25jYXQoKX07R2QucHJvdG90eXBlLmtiPWZ1bmN0aW9uKGEpe3JldHVybiBJZCh0aGlzLiQsYSl9O1xuR2QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtyZXR1cm4gSWQodGhpcy4kLGEpPyhkZWxldGUgdGhpcy4kW2FdLHRoaXMubC0tLHRoaXMuZ2IrKyx0aGlzLm8ubGVuZ3RoPjIqdGhpcy5sJiZIZCh0aGlzKSwhMCk6ITF9O3ZhciBIZD1mdW5jdGlvbihhKXtpZihhLmwhPWEuby5sZW5ndGgpe2Zvcih2YXIgYj0wLGM9MDtiPGEuby5sZW5ndGg7KXt2YXIgZD1hLm9bYl07SWQoYS4kLGQpJiYoYS5vW2MrK109ZCk7YisrfWEuby5sZW5ndGg9Y31pZihhLmwhPWEuby5sZW5ndGgpe2Zvcih2YXIgZT17fSxjPWI9MDtiPGEuby5sZW5ndGg7KWQ9YS5vW2JdLElkKGUsZCl8fChhLm9bYysrXT1kLGVbZF09MSksYisrO2Euby5sZW5ndGg9Y319O2g9R2QucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIElkKHRoaXMuJCxhKT90aGlzLiRbYV06Yn07XG5oLnNldD1mdW5jdGlvbihhLGIpe0lkKHRoaXMuJCxhKXx8KHRoaXMubCsrLHRoaXMuby5wdXNoKGEpLHRoaXMuZ2IrKyk7dGhpcy4kW2FdPWJ9O2guYWRkQWxsPWZ1bmN0aW9uKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBHZD8oYj1hLmhhKCksYT1hLlYoKSk6KGI9UWEoYSksYT1QYShhKSk7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspdGhpcy5zZXQoYltjXSxhW2NdKX07aC5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuaGEoKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj10aGlzLmdldChlKTthLmNhbGwoYixmLGUsdGhpcyl9fTtoLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHZCh0aGlzKX07XG5oLlFkPWZ1bmN0aW9uKGEpe0hkKHRoaXMpO3ZhciBiPTAsYz10aGlzLmdiLGQ9dGhpcyxlPW5ldyBGZDtlLm5leHQ9ZnVuY3Rpb24oKXtpZihjIT1kLmdiKXRocm93IEVycm9yKFwiVGhlIG1hcCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgaXRlcmF0b3Igd2FzIGNyZWF0ZWRcIik7aWYoYj49ZC5vLmxlbmd0aCl0aHJvdyBFZDt2YXIgZT1kLm9bYisrXTtyZXR1cm4gYT9lOmQuJFtlXX07cmV0dXJuIGV9O3ZhciBJZD1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX07dmFyIEpkPWZ1bmN0aW9uKGEpe2lmKGEuViYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5WKXJldHVybiBhLlYoKTtpZihuKGEpKXJldHVybiBhLnNwbGl0KFwiXCIpO2lmKGVhKGEpKXtmb3IodmFyIGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjO2QrKyliLnB1c2goYVtkXSk7cmV0dXJuIGJ9cmV0dXJuIFBhKGEpfSxLZD1mdW5jdGlvbihhKXtpZihhLmhhJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmhhKXJldHVybiBhLmhhKCk7aWYoIWEuVnx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5WKXtpZihlYShhKXx8bihhKSl7dmFyIGI9W107YT1hLmxlbmd0aDtmb3IodmFyIGM9MDtjPGE7YysrKWIucHVzaChjKTtyZXR1cm4gYn1yZXR1cm4gUWEoYSl9fSxMZD1mdW5jdGlvbihhLGIpe2lmKGEuZm9yRWFjaCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5mb3JFYWNoKWEuZm9yRWFjaChiLHZvaWQgMCk7ZWxzZSBpZihlYShhKXx8bihhKSl4KGEsYix2b2lkIDApO2Vsc2UgZm9yKHZhciBjPUtkKGEpLGQ9SmQoYSksZT1cbmQubGVuZ3RoLGY9MDtmPGU7ZisrKWIuY2FsbCh2b2lkIDAsZFtmXSxjJiZjW2ZdLGEpfTt2YXIgTWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLnJlc2V0KGEsYixjLGQsZSl9O01kLnByb3RvdHlwZS5lZD1udWxsO3ZhciBOZD0wO01kLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihhLGIsYyxkLGUpe1wibnVtYmVyXCI9PXR5cGVvZiBlfHxOZCsrO2R8fGthKCk7dGhpcy5yYj1hO3RoaXMuQmU9YjtkZWxldGUgdGhpcy5lZH07TWQucHJvdG90eXBlLnpkPWZ1bmN0aW9uKGEpe3RoaXMucmI9YX07dmFyIE9kPWZ1bmN0aW9uKGEpe3RoaXMuQ2U9YTt0aGlzLmpkPXRoaXMudmM9dGhpcy5yYj10aGlzLm09bnVsbH0sUGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLm5hbWU9YTt0aGlzLnZhbHVlPWJ9O1BkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9O3ZhciBRZD1uZXcgUGQoXCJTRVZFUkVcIiwxRTMpLFJkPW5ldyBQZChcIkNPTkZJR1wiLDcwMCksU2Q9bmV3IFBkKFwiRklORVwiLDUwMCk7T2QucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O09kLnByb3RvdHlwZS56ZD1mdW5jdGlvbihhKXt0aGlzLnJiPWF9O3ZhciBUZD1mdW5jdGlvbihhKXtpZihhLnJiKXJldHVybiBhLnJiO2lmKGEubSlyZXR1cm4gVGQoYS5tKTt5YShcIlJvb3QgbG9nZ2VyIGhhcyBubyBsZXZlbCBzZXQuXCIpO3JldHVybiBudWxsfTtcbk9kLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oYSxiLGMpe2lmKGEudmFsdWU+PVRkKHRoaXMpLnZhbHVlKWZvcihwKGIpJiYoYj1iKCkpLGE9bmV3IE1kKGEsU3RyaW5nKGIpLHRoaXMuQ2UpLGMmJihhLmVkPWMpLGM9XCJsb2c6XCIrYS5CZSxsLmNvbnNvbGUmJihsLmNvbnNvbGUudGltZVN0YW1wP2wuY29uc29sZS50aW1lU3RhbXAoYyk6bC5jb25zb2xlLm1hcmtUaW1lbGluZSYmbC5jb25zb2xlLm1hcmtUaW1lbGluZShjKSksbC5tc1dyaXRlUHJvZmlsZXJNYXJrJiZsLm1zV3JpdGVQcm9maWxlck1hcmsoYyksYz10aGlzO2M7KXt2YXIgZD1jLGU9YTtpZihkLmpkKWZvcih2YXIgZj0wO2I9ZC5qZFtmXTtmKyspYihlKTtjPWMuZ2V0UGFyZW50KCl9fTtcbnZhciBVZD17fSxWZD1udWxsLFdkPWZ1bmN0aW9uKGEpe1ZkfHwoVmQ9bmV3IE9kKFwiXCIpLFVkW1wiXCJdPVZkLFZkLnpkKFJkKSk7dmFyIGI7aWYoIShiPVVkW2FdKSl7Yj1uZXcgT2QoYSk7dmFyIGM9YS5sYXN0SW5kZXhPZihcIi5cIiksZD1hLnN1YnN0cihjKzEpLGM9V2QoYS5zdWJzdHIoMCxjKSk7Yy52Y3x8KGMudmM9e30pO2MudmNbZF09YjtiLm09YztVZFthXT1ifXJldHVybiBifTt2YXIgSD1mdW5jdGlvbihhLGIpe2EmJmEubG9nKFNkLGIsdm9pZCAwKX07dmFyIFhkPWZ1bmN0aW9uKGEsYixjKXtpZihwKGEpKWMmJihhPXEoYSxjKSk7ZWxzZSBpZihhJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmhhbmRsZUV2ZW50KWE9cShhLmhhbmRsZUV2ZW50LGEpO2Vsc2UgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGxpc3RlbmVyIGFyZ3VtZW50XCIpO3JldHVybiAyMTQ3NDgzNjQ3PE51bWJlcihiKT8tMTpsLnNldFRpbWVvdXQoYSxifHwwKX0sWWQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtyZXR1cm4obmV3IEMoZnVuY3Rpb24oYyxkKXtiPVhkKGZ1bmN0aW9uKCl7Yyh2b2lkIDApfSxhKTstMT09YiYmZChFcnJvcihcIkZhaWxlZCB0byBzY2hlZHVsZSB0aW1lci5cIikpfSkpLmcoZnVuY3Rpb24oYSl7bC5jbGVhclRpbWVvdXQoYik7dGhyb3cgYTt9KX07dmFyIFpkPS9eKD86KFteOi8/Iy5dKyk6KT8oPzpcXC9cXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XFw/KFteI10qKSk/KD86IyhbXFxzXFxTXSopKT8kLywkZD1mdW5jdGlvbihhLGIpe2lmKGEpe2E9YS5zcGxpdChcIiZcIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10uaW5kZXhPZihcIj1cIiksZSxmPW51bGw7MDw9ZD8oZT1hW2NdLnN1YnN0cmluZygwLGQpLGY9YVtjXS5zdWJzdHJpbmcoZCsxKSk6ZT1hW2NdO2IoZSxmP2RlY29kZVVSSUNvbXBvbmVudChmLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSk6XCJcIil9fX07dmFyIEk9ZnVuY3Rpb24oYSl7Ry5jYWxsKHRoaXMpO3RoaXMuaGVhZGVycz1uZXcgR2Q7dGhpcy5xYz1hfHxudWxsO3RoaXMub2E9ITE7dGhpcy5wYz10aGlzLmI9bnVsbDt0aGlzLnFiPXRoaXMubmQ9dGhpcy5TYj1cIlwiO3RoaXMuQWE9dGhpcy5DYz10aGlzLlFiPXRoaXMueGM9ITE7dGhpcy5jYj0wO3RoaXMubGM9bnVsbDt0aGlzLnVkPVwiXCI7dGhpcy5uYz10aGlzLkhlPXRoaXMuSGQ9ITF9O3IoSSxHKTt2YXIgYWU9SS5wcm90b3R5cGUsYmU9V2QoXCJnb29nLm5ldC5YaHJJb1wiKTthZS5QPWJlO3ZhciBjZT0vXmh0dHBzPyQvaSxkZT1bXCJQT1NUXCIsXCJQVVRcIl07XG5JLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEsYixjLGQpe2lmKHRoaXMuYil0aHJvdyBFcnJvcihcIltnb29nLm5ldC5YaHJJb10gT2JqZWN0IGlzIGFjdGl2ZSB3aXRoIGFub3RoZXIgcmVxdWVzdD1cIit0aGlzLlNiK1wiOyBuZXdVcmk9XCIrYSk7Yj1iP2IudG9VcHBlckNhc2UoKTpcIkdFVFwiO3RoaXMuU2I9YTt0aGlzLnFiPVwiXCI7dGhpcy5uZD1iO3RoaXMueGM9ITE7dGhpcy5vYT0hMDt0aGlzLmI9dGhpcy5xYz90aGlzLnFjLkZiKCk6cGMuRmIoKTt0aGlzLnBjPXRoaXMucWM/b2ModGhpcy5xYyk6b2MocGMpO3RoaXMuYi5vbnJlYWR5c3RhdGVjaGFuZ2U9cSh0aGlzLnJkLHRoaXMpO3RoaXMuSGUmJlwib25wcm9ncmVzc1wiaW4gdGhpcy5iJiYodGhpcy5iLm9ucHJvZ3Jlc3M9cShmdW5jdGlvbihhKXt0aGlzLnFkKGEsITApfSx0aGlzKSx0aGlzLmIudXBsb2FkJiYodGhpcy5iLnVwbG9hZC5vbnByb2dyZXNzPXEodGhpcy5xZCx0aGlzKSkpO3RyeXtIKHRoaXMuUCxlZSh0aGlzLFwiT3BlbmluZyBYaHJcIikpLFxudGhpcy5DYz0hMCx0aGlzLmIub3BlbihiLFN0cmluZyhhKSwhMCksdGhpcy5DYz0hMX1jYXRjaChmKXtIKHRoaXMuUCxlZSh0aGlzLFwiRXJyb3Igb3BlbmluZyBYaHI6IFwiK2YubWVzc2FnZSkpO3RoaXMuSig1LGYpO3JldHVybn1hPWN8fFwiXCI7dmFyIGU9dGhpcy5oZWFkZXJzLmNsb25lKCk7ZCYmTGQoZCxmdW5jdGlvbihhLGIpe2Uuc2V0KGIsYSl9KTtkPUhhKGUuaGEoKSk7Yz1sLkZvcm1EYXRhJiZhIGluc3RhbmNlb2YgbC5Gb3JtRGF0YTshSWEoZGUsYil8fGR8fGN8fGUuc2V0KFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKTtlLmZvckVhY2goZnVuY3Rpb24oYSxiKXt0aGlzLmIuc2V0UmVxdWVzdEhlYWRlcihiLGEpfSx0aGlzKTt0aGlzLnVkJiYodGhpcy5iLnJlc3BvbnNlVHlwZT10aGlzLnVkKTtcIndpdGhDcmVkZW50aWFsc1wiaW4gdGhpcy5iJiZ0aGlzLmIud2l0aENyZWRlbnRpYWxzIT09dGhpcy5IZCYmKHRoaXMuYi53aXRoQ3JlZGVudGlhbHM9XG50aGlzLkhkKTt0cnl7ZmUodGhpcyksMDx0aGlzLmNiJiYodGhpcy5uYz1nZSh0aGlzLmIpLEgodGhpcy5QLGVlKHRoaXMsXCJXaWxsIGFib3J0IGFmdGVyIFwiK3RoaXMuY2IrXCJtcyBpZiBpbmNvbXBsZXRlLCB4aHIyIFwiK3RoaXMubmMpKSx0aGlzLm5jPyh0aGlzLmIudGltZW91dD10aGlzLmNiLHRoaXMuYi5vbnRpbWVvdXQ9cSh0aGlzLnpiLHRoaXMpKTp0aGlzLmxjPVhkKHRoaXMuemIsdGhpcy5jYix0aGlzKSksSCh0aGlzLlAsZWUodGhpcyxcIlNlbmRpbmcgcmVxdWVzdFwiKSksdGhpcy5RYj0hMCx0aGlzLmIuc2VuZChhKSx0aGlzLlFiPSExfWNhdGNoKGYpe0godGhpcy5QLGVlKHRoaXMsXCJTZW5kIGVycm9yOiBcIitmLm1lc3NhZ2UpKSx0aGlzLkooNSxmKX19O3ZhciBnZT1mdW5jdGlvbihhKXtyZXR1cm4geiYmQSg5KSYmZmEoYS50aW1lb3V0KSYmdm9pZCAwIT09YS5vbnRpbWVvdXR9LEdhPWZ1bmN0aW9uKGEpe3JldHVyblwiY29udGVudC10eXBlXCI9PWEudG9Mb3dlckNhc2UoKX07XG5JLnByb3RvdHlwZS56Yj1mdW5jdGlvbigpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBhYSYmdGhpcy5iJiYodGhpcy5xYj1cIlRpbWVkIG91dCBhZnRlciBcIit0aGlzLmNiK1wibXMsIGFib3J0aW5nXCIsSCh0aGlzLlAsZWUodGhpcyx0aGlzLnFiKSksdGhpcy5kaXNwYXRjaEV2ZW50KFwidGltZW91dFwiKSx0aGlzLmFib3J0KDgpKX07SS5wcm90b3R5cGUuSj1mdW5jdGlvbihhLGIpe3RoaXMub2E9ITE7dGhpcy5iJiYodGhpcy5BYT0hMCx0aGlzLmIuYWJvcnQoKSx0aGlzLkFhPSExKTt0aGlzLnFiPWI7aGUodGhpcyk7aWUodGhpcyl9O3ZhciBoZT1mdW5jdGlvbihhKXthLnhjfHwoYS54Yz0hMCxhLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSxhLmRpc3BhdGNoRXZlbnQoXCJlcnJvclwiKSl9O1xuSS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmImJnRoaXMub2EmJihIKHRoaXMuUCxlZSh0aGlzLFwiQWJvcnRpbmdcIikpLHRoaXMub2E9ITEsdGhpcy5BYT0hMCx0aGlzLmIuYWJvcnQoKSx0aGlzLkFhPSExLHRoaXMuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpLHRoaXMuZGlzcGF0Y2hFdmVudChcImFib3J0XCIpLGllKHRoaXMpKX07SS5wcm90b3R5cGUuTmE9ZnVuY3Rpb24oKXt0aGlzLmImJih0aGlzLm9hJiYodGhpcy5vYT0hMSx0aGlzLkFhPSEwLHRoaXMuYi5hYm9ydCgpLHRoaXMuQWE9ITEpLGllKHRoaXMsITApKTtJLlVjLk5hLmNhbGwodGhpcyl9O0kucHJvdG90eXBlLnJkPWZ1bmN0aW9uKCl7dGhpcy5pc0Rpc3Bvc2VkKCl8fCh0aGlzLkNjfHx0aGlzLlFifHx0aGlzLkFhP2plKHRoaXMpOnRoaXMuRmUoKSl9O0kucHJvdG90eXBlLkZlPWZ1bmN0aW9uKCl7amUodGhpcyl9O1xudmFyIGplPWZ1bmN0aW9uKGEpe2lmKGEub2EmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhYSlpZihhLnBjWzFdJiY0PT1rZShhKSYmMj09bGUoYSkpSChhLlAsZWUoYSxcIkxvY2FsIHJlcXVlc3QgZXJyb3IgZGV0ZWN0ZWQgYW5kIGlnbm9yZWRcIikpO2Vsc2UgaWYoYS5RYiYmND09a2UoYSkpWGQoYS5yZCwwLGEpO2Vsc2UgaWYoYS5kaXNwYXRjaEV2ZW50KFwicmVhZHlzdGF0ZWNoYW5nZVwiKSw0PT1rZShhKSl7SChhLlAsZWUoYSxcIlJlcXVlc3QgY29tcGxldGVcIikpO2Eub2E9ITE7dHJ5e3ZhciBiPWxlKGEpLGM7YTpzd2l0Y2goYil7Y2FzZSAyMDA6Y2FzZSAyMDE6Y2FzZSAyMDI6Y2FzZSAyMDQ6Y2FzZSAyMDY6Y2FzZSAzMDQ6Y2FzZSAxMjIzOmM9ITA7YnJlYWsgYTtkZWZhdWx0OmM9ITF9dmFyIGQ7aWYoIShkPWMpKXt2YXIgZTtpZihlPTA9PT1iKXt2YXIgZj1TdHJpbmcoYS5TYikubWF0Y2goWmQpWzFdfHxudWxsO2lmKCFmJiZsLnNlbGYmJmwuc2VsZi5sb2NhdGlvbil2YXIgZz1sLnNlbGYubG9jYXRpb24ucHJvdG9jb2wsXG5mPWcuc3Vic3RyKDAsZy5sZW5ndGgtMSk7ZT0hY2UudGVzdChmP2YudG9Mb3dlckNhc2UoKTpcIlwiKX1kPWV9aWYoZClhLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSxhLmRpc3BhdGNoRXZlbnQoXCJzdWNjZXNzXCIpO2Vsc2V7dmFyIGs7dHJ5e2s9MjxrZShhKT9hLmIuc3RhdHVzVGV4dDpcIlwifWNhdGNoKHQpe0goYS5QLFwiQ2FuIG5vdCBnZXQgc3RhdHVzOiBcIit0Lm1lc3NhZ2UpLGs9XCJcIn1hLnFiPWsrXCIgW1wiK2xlKGEpK1wiXVwiO2hlKGEpfX1maW5hbGx5e2llKGEpfX19O0kucHJvdG90eXBlLnFkPWZ1bmN0aW9uKGEsYil7dyhcInByb2dyZXNzXCI9PT1hLnR5cGUsXCJnb29nLm5ldC5FdmVudFR5cGUuUFJPR1JFU1MgaXMgb2YgdGhlIHNhbWUgdHlwZSBhcyByYXcgWEhSIHByb2dyZXNzLlwiKTt0aGlzLmRpc3BhdGNoRXZlbnQobWUoYSxcInByb2dyZXNzXCIpKTt0aGlzLmRpc3BhdGNoRXZlbnQobWUoYSxiP1wiZG93bmxvYWRwcm9ncmVzc1wiOlwidXBsb2FkcHJvZ3Jlc3NcIikpfTtcbnZhciBtZT1mdW5jdGlvbihhLGIpe3JldHVybnt0eXBlOmIsbGVuZ3RoQ29tcHV0YWJsZTphLmxlbmd0aENvbXB1dGFibGUsbG9hZGVkOmEubG9hZGVkLHRvdGFsOmEudG90YWx9fSxpZT1mdW5jdGlvbihhLGIpe2lmKGEuYil7ZmUoYSk7dmFyIGM9YS5iLGQ9YS5wY1swXT9iYTpudWxsO2EuYj1udWxsO2EucGM9bnVsbDtifHxhLmRpc3BhdGNoRXZlbnQoXCJyZWFkeVwiKTt0cnl7Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZH1jYXRjaChlKXsoYT1hLlApJiZhLmxvZyhRZCxcIlByb2JsZW0gZW5jb3VudGVyZWQgcmVzZXR0aW5nIG9ucmVhZHlzdGF0ZWNoYW5nZTogXCIrZS5tZXNzYWdlLHZvaWQgMCl9fX0sZmU9ZnVuY3Rpb24oYSl7YS5iJiZhLm5jJiYoYS5iLm9udGltZW91dD1udWxsKTtmYShhLmxjKSYmKGwuY2xlYXJUaW1lb3V0KGEubGMpLGEubGM9bnVsbCl9LGtlPWZ1bmN0aW9uKGEpe3JldHVybiBhLmI/YS5iLnJlYWR5U3RhdGU6MH0sbGU9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiAyPGtlKGEpP1xuYS5iLnN0YXR1czotMX1jYXRjaChiKXtyZXR1cm4tMX19LG5lPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYS5iP2EuYi5yZXNwb25zZVRleHQ6XCJcIn1jYXRjaChiKXtyZXR1cm4gSChhLlAsXCJDYW4gbm90IGdldCByZXNwb25zZVRleHQ6IFwiK2IubWVzc2FnZSksXCJcIn19LGVlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrXCIgW1wiK2EubmQrXCIgXCIrYS5TYitcIiBcIitsZShhKStcIl1cIn07dmFyIG9lPWZ1bmN0aW9uKGEsYil7dGhpcy5ZPXRoaXMuR2E9dGhpcy5jYT1cIlwiO3RoaXMuVWE9bnVsbDt0aGlzLnphPXRoaXMucWE9XCJcIjt0aGlzLk09dGhpcy52ZT0hMTt2YXIgYzthIGluc3RhbmNlb2Ygb2U/KHRoaXMuTT12b2lkIDAhPT1iP2I6YS5NLHBlKHRoaXMsYS5jYSksYz1hLkdhLEoodGhpcyksdGhpcy5HYT1jLHFlKHRoaXMsYS5ZKSxyZSh0aGlzLGEuVWEpLHNlKHRoaXMsYS5xYSksdGUodGhpcyxhLlMuY2xvbmUoKSksYT1hLnphLEoodGhpcyksdGhpcy56YT1hKTphJiYoYz1TdHJpbmcoYSkubWF0Y2goWmQpKT8odGhpcy5NPSEhYixwZSh0aGlzLGNbMV18fFwiXCIsITApLGE9Y1syXXx8XCJcIixKKHRoaXMpLHRoaXMuR2E9dWUoYSkscWUodGhpcyxjWzNdfHxcIlwiLCEwKSxyZSh0aGlzLGNbNF0pLHNlKHRoaXMsY1s1XXx8XCJcIiwhMCksdGUodGhpcyxjWzZdfHxcIlwiLCEwKSxhPWNbN118fFwiXCIsSih0aGlzKSx0aGlzLnphPXVlKGEpKToodGhpcy5NPSEhYix0aGlzLlM9bmV3IEsobnVsbCxcbjAsdGhpcy5NKSl9O29lLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5jYTtiJiZhLnB1c2godmUoYix3ZSwhMCksXCI6XCIpO3ZhciBjPXRoaXMuWTtpZihjfHxcImZpbGVcIj09YilhLnB1c2goXCIvL1wiKSwoYj10aGlzLkdhKSYmYS5wdXNoKHZlKGIsd2UsITApLFwiQFwiKSxhLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxjPXRoaXMuVWEsbnVsbCE9YyYmYS5wdXNoKFwiOlwiLFN0cmluZyhjKSk7aWYoYz10aGlzLnFhKXRoaXMuWSYmXCIvXCIhPWMuY2hhckF0KDApJiZhLnB1c2goXCIvXCIpLGEucHVzaCh2ZShjLFwiL1wiPT1jLmNoYXJBdCgwKT94ZTp5ZSwhMCkpOyhjPXRoaXMuUy50b1N0cmluZygpKSYmYS5wdXNoKFwiP1wiLGMpOyhjPXRoaXMuemEpJiZhLnB1c2goXCIjXCIsdmUoYyx6ZSkpO3JldHVybiBhLmpvaW4oXCJcIil9O1xub2UucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbG9uZSgpLGM9ISFhLmNhO2M/cGUoYixhLmNhKTpjPSEhYS5HYTtpZihjKXt2YXIgZD1hLkdhO0ooYik7Yi5HYT1kfWVsc2UgYz0hIWEuWTtjP3FlKGIsYS5ZKTpjPW51bGwhPWEuVWE7ZD1hLnFhO2lmKGMpcmUoYixhLlVhKTtlbHNlIGlmKGM9ISFhLnFhKXtpZihcIi9cIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5ZJiYhdGhpcy5xYSlkPVwiL1wiK2Q7ZWxzZXt2YXIgZT1iLnFhLmxhc3RJbmRleE9mKFwiL1wiKTstMSE9ZSYmKGQ9Yi5xYS5zdWJzdHIoMCxlKzEpK2QpfWU9ZDtpZihcIi4uXCI9PWV8fFwiLlwiPT1lKWQ9XCJcIjtlbHNlIGlmKHYoZSxcIi4vXCIpfHx2KGUsXCIvLlwiKSl7Zm9yKHZhciBkPTA9PWUubGFzdEluZGV4T2YoXCIvXCIsMCksZT1lLnNwbGl0KFwiL1wiKSxmPVtdLGc9MDtnPGUubGVuZ3RoOyl7dmFyIGs9ZVtnKytdO1wiLlwiPT1rP2QmJmc9PWUubGVuZ3RoJiZmLnB1c2goXCJcIik6XCIuLlwiPT1rPygoMTxmLmxlbmd0aHx8XG4xPT1mLmxlbmd0aCYmXCJcIiE9ZlswXSkmJmYucG9wKCksZCYmZz09ZS5sZW5ndGgmJmYucHVzaChcIlwiKSk6KGYucHVzaChrKSxkPSEwKX1kPWYuam9pbihcIi9cIil9ZWxzZSBkPWV9Yz9zZShiLGQpOmM9XCJcIiE9PWEuUy50b1N0cmluZygpO2M/dGUoYixhLlMuY2xvbmUoKSk6Yz0hIWEuemE7YyYmKGE9YS56YSxKKGIpLGIuemE9YSk7cmV0dXJuIGJ9O29lLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgb2UodGhpcyl9O1xudmFyIHBlPWZ1bmN0aW9uKGEsYixjKXtKKGEpO2EuY2E9Yz91ZShiLCEwKTpiO2EuY2EmJihhLmNhPWEuY2EucmVwbGFjZSgvOiQvLFwiXCIpKX0scWU9ZnVuY3Rpb24oYSxiLGMpe0ooYSk7YS5ZPWM/dWUoYiwhMCk6Yn0scmU9ZnVuY3Rpb24oYSxiKXtKKGEpO2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrYik7YS5VYT1ifWVsc2UgYS5VYT1udWxsfSxzZT1mdW5jdGlvbihhLGIsYyl7SihhKTthLnFhPWM/dWUoYiwhMCk6Yn0sdGU9ZnVuY3Rpb24oYSxiLGMpe0ooYSk7YiBpbnN0YW5jZW9mIEs/KGEuUz1iLGEuUy5SYyhhLk0pKTooY3x8KGI9dmUoYixBZSkpLGEuUz1uZXcgSyhiLDAsYS5NKSl9LEw9ZnVuY3Rpb24oYSxiLGMpe0ooYSk7YS5TLnNldChiLGMpfSxCZT1mdW5jdGlvbihhLGIpe0ooYSk7YS5TLnJlbW92ZShiKX0sSj1mdW5jdGlvbihhKXtpZihhLnZlKXRocm93IEVycm9yKFwiVHJpZWQgdG8gbW9kaWZ5IGEgcmVhZC1vbmx5IFVyaVwiKTtcbn07b2UucHJvdG90eXBlLlJjPWZ1bmN0aW9uKGEpe3RoaXMuTT1hO3RoaXMuUyYmdGhpcy5TLlJjKGEpO3JldHVybiB0aGlzfTtcbnZhciBDZT1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIG9lP2EuY2xvbmUoKTpuZXcgb2UoYSx2b2lkIDApfSxEZT1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBvZShudWxsLHZvaWQgMCk7cGUoYyxcImh0dHBzXCIpO2EmJnFlKGMsYSk7YiYmc2UoYyxiKTtyZXR1cm4gY30sdWU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9iP2RlY29kZVVSSShhLnJlcGxhY2UoLyUyNS9nLFwiJTI1MjVcIikpOmRlY29kZVVSSUNvbXBvbmVudChhKTpcIlwifSx2ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4oYSk/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixFZSksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csXCIlJDFcIikpLGEpOm51bGx9LEVlPWZ1bmN0aW9uKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVyblwiJVwiKyhhPj40JjE1KS50b1N0cmluZygxNikrKGEmMTUpLnRvU3RyaW5nKDE2KX0sd2U9L1sjXFwvXFw/QF0vZyx5ZT0vW1xcI1xcPzpdL2cseGU9L1tcXCNcXD9dL2csQWU9L1tcXCNcXD9AXS9nLFxuemU9LyMvZyxLPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmw9dGhpcy5oPW51bGw7dGhpcy5JPWF8fG51bGw7dGhpcy5NPSEhY30sRmU9ZnVuY3Rpb24oYSl7YS5ofHwoYS5oPW5ldyBHZCxhLmw9MCxhLkkmJiRkKGEuSSxmdW5jdGlvbihiLGMpe2EuYWRkKGRlY29kZVVSSUNvbXBvbmVudChiLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSksYyl9KSl9LEhlPWZ1bmN0aW9uKGEpe3ZhciBiPUtkKGEpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiKXRocm93IEVycm9yKFwiS2V5cyBhcmUgdW5kZWZpbmVkXCIpO3ZhciBjPW5ldyBLKG51bGwsMCx2b2lkIDApO2E9SmQoYSk7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1hW2RdO2RhKGYpP0dlKGMsZSxmKTpjLmFkZChlLGYpfXJldHVybiBjfTtoPUsucHJvdG90eXBlO1xuaC5hZGQ9ZnVuY3Rpb24oYSxiKXtGZSh0aGlzKTt0aGlzLkk9bnVsbDthPXRoaXMuSyhhKTt2YXIgYz10aGlzLmguZ2V0KGEpO2N8fHRoaXMuaC5zZXQoYSxjPVtdKTtjLnB1c2goYik7dGhpcy5sPXphKHRoaXMubCkrMTtyZXR1cm4gdGhpc307aC5yZW1vdmU9ZnVuY3Rpb24oYSl7RmUodGhpcyk7YT10aGlzLksoYSk7cmV0dXJuIHRoaXMuaC5rYihhKT8odGhpcy5JPW51bGwsdGhpcy5sPXphKHRoaXMubCktdGhpcy5oLmdldChhKS5sZW5ndGgsdGhpcy5oLnJlbW92ZShhKSk6ITF9O2gua2I9ZnVuY3Rpb24oYSl7RmUodGhpcyk7YT10aGlzLksoYSk7cmV0dXJuIHRoaXMuaC5rYihhKX07aC5oYT1mdW5jdGlvbigpe0ZlKHRoaXMpO2Zvcih2YXIgYT10aGlzLmguVigpLGI9dGhpcy5oLmhhKCksYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5sZW5ndGg7ZisrKWMucHVzaChiW2RdKTtyZXR1cm4gY307XG5oLlY9ZnVuY3Rpb24oYSl7RmUodGhpcyk7dmFyIGI9W107aWYobihhKSl0aGlzLmtiKGEpJiYoYj1NYShiLHRoaXMuaC5nZXQodGhpcy5LKGEpKSkpO2Vsc2V7YT10aGlzLmguVigpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWI9TWEoYixhW2NdKX1yZXR1cm4gYn07aC5zZXQ9ZnVuY3Rpb24oYSxiKXtGZSh0aGlzKTt0aGlzLkk9bnVsbDthPXRoaXMuSyhhKTt0aGlzLmtiKGEpJiYodGhpcy5sPXphKHRoaXMubCktdGhpcy5oLmdldChhKS5sZW5ndGgpO3RoaXMuaC5zZXQoYSxbYl0pO3RoaXMubD16YSh0aGlzLmwpKzE7cmV0dXJuIHRoaXN9O2guZ2V0PWZ1bmN0aW9uKGEsYil7YT1hP3RoaXMuVihhKTpbXTtyZXR1cm4gMDxhLmxlbmd0aD9TdHJpbmcoYVswXSk6Yn07dmFyIEdlPWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZShiKTswPGMubGVuZ3RoJiYoYS5JPW51bGwsYS5oLnNldChhLksoYiksTmEoYykpLGEubD16YShhLmwpK2MubGVuZ3RoKX07XG5LLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuSSlyZXR1cm4gdGhpcy5JO2lmKCF0aGlzLmgpcmV0dXJuXCJcIjtmb3IodmFyIGE9W10sYj10aGlzLmguaGEoKSxjPTA7YzxiLmxlbmd0aDtjKyspZm9yKHZhciBkPWJbY10sZT1lbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGQpKSxkPXRoaXMuVihkKSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPWU7XCJcIiE9PWRbZl0mJihnKz1cIj1cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGRbZl0pKSk7YS5wdXNoKGcpfXJldHVybiB0aGlzLkk9YS5qb2luKFwiJlwiKX07Sy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgSzthLkk9dGhpcy5JO3RoaXMuaCYmKGEuaD10aGlzLmguY2xvbmUoKSxhLmw9dGhpcy5sKTtyZXR1cm4gYX07Sy5wcm90b3R5cGUuSz1mdW5jdGlvbihhKXthPVN0cmluZyhhKTt0aGlzLk0mJihhPWEudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGF9O1xuSy5wcm90b3R5cGUuUmM9ZnVuY3Rpb24oYSl7YSYmIXRoaXMuTSYmKEZlKHRoaXMpLHRoaXMuST1udWxsLHRoaXMuaC5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy50b0xvd2VyQ2FzZSgpO2MhPWImJih0aGlzLnJlbW92ZShjKSxHZSh0aGlzLGIsYSkpfSx0aGlzKSk7dGhpcy5NPWF9O3ZhciBJZT1mdW5jdGlvbigpe3ZhciBhPU0oKTtyZXR1cm4geiYmISFtYiYmMTE9PW1ifHwvRWRnZVxcL1xcZCsvLnRlc3QoYSl9LEplPWZ1bmN0aW9uKCl7cmV0dXJuIGwud2luZG93JiZsLndpbmRvdy5sb2NhdGlvbi5ocmVmfHxcIlwifSxLZT1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ7Zm9yKGQgaW4gYSlkIGluIGI/dHlwZW9mIGFbZF0hPXR5cGVvZiBiW2RdP2MucHVzaChkKTpkYShhW2RdKT9TYShhW2RdLGJbZF0pfHxjLnB1c2goZCk6XCJvYmplY3RcIj09dHlwZW9mIGFbZF0mJm51bGwhPWFbZF0mJm51bGwhPWJbZF0/MDxLZShhW2RdLGJbZF0pLmxlbmd0aCYmYy5wdXNoKGQpOmFbZF0hPT1iW2RdJiZjLnB1c2goZCk6Yy5wdXNoKGQpO2ZvcihkIGluIGIpZCBpbiBhfHxjLnB1c2goZCk7cmV0dXJuIGN9LE1lPWZ1bmN0aW9uKCl7dmFyIGE7YT1NKCk7YT1cIkNocm9tZVwiIT1MZShhKT9udWxsOihhPWEubWF0Y2goL1xcc0Nocm9tZVxcLyhcXGQrKS9pKSkmJjI9PWEubGVuZ3RoP3BhcnNlSW50KGFbMV0sXG4xMCk6bnVsbDtyZXR1cm4gYSYmMzA+YT8hMTohenx8IW1ifHw5PG1ifSxOZT1mdW5jdGlvbihhKXthPShhfHxNKCkpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGEubWF0Y2goL2FuZHJvaWQvKXx8YS5tYXRjaCgvd2Vib3MvKXx8YS5tYXRjaCgvaXBob25lfGlwYWR8aXBvZC8pfHxhLm1hdGNoKC9ibGFja2JlcnJ5Lyl8fGEubWF0Y2goL3dpbmRvd3MgcGhvbmUvKXx8YS5tYXRjaCgvaWVtb2JpbGUvKT8hMDohMX0sT2U9ZnVuY3Rpb24oYSl7YT1hfHxsLndpbmRvdzt0cnl7YS5jbG9zZSgpfWNhdGNoKGIpe319LFBlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1NYXRoLmZsb29yKDFFOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO2I9Ynx8NTAwO2M9Y3x8NjAwO3ZhciBlPSh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0LWMpLzIsZj0od2luZG93LnNjcmVlbi5hdmFpbFdpZHRoLWIpLzI7Yj17d2lkdGg6YixoZWlnaHQ6Yyx0b3A6MDxlP2U6MCxsZWZ0OjA8Zj9mOjAsbG9jYXRpb246ITAscmVzaXphYmxlOiEwLFxuc3RhdHVzYmFyOiEwLHRvb2xiYXI6ITF9O2M9TSgpLnRvTG93ZXJDYXNlKCk7ZCYmKGIudGFyZ2V0PWQsdihjLFwiY3Jpb3MvXCIpJiYoYi50YXJnZXQ9XCJfYmxhbmtcIikpO1wiRmlyZWZveFwiPT1MZShNKCkpJiYoYT1hfHxcImh0dHA6Ly9sb2NhbGhvc3RcIixiLnNjcm9sbGJhcnM9ITApO3ZhciBnO2M9YXx8XCJhYm91dDpibGFua1wiOyhkPWIpfHwoZD17fSk7YT13aW5kb3c7Yj1jIGluc3RhbmNlb2YgQj9jOmVjKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjLmhyZWY/Yy5ocmVmOlN0cmluZyhjKSk7Yz1kLnRhcmdldHx8Yy50YXJnZXQ7ZT1bXTtmb3IoZyBpbiBkKXN3aXRjaChnKXtjYXNlIFwid2lkdGhcIjpjYXNlIFwiaGVpZ2h0XCI6Y2FzZSBcInRvcFwiOmNhc2UgXCJsZWZ0XCI6ZS5wdXNoKGcrXCI9XCIrZFtnXSk7YnJlYWs7Y2FzZSBcInRhcmdldFwiOmNhc2UgXCJub3JlZmVycmVyXCI6YnJlYWs7ZGVmYXVsdDplLnB1c2goZytcIj1cIisoZFtnXT8xOjApKX1nPWUuam9pbihcIixcIik7KHkoXCJpUGhvbmVcIikmJiF5KFwiaVBvZFwiKSYmXG4heShcImlQYWRcIil8fHkoXCJpUGFkXCIpfHx5KFwiaVBvZFwiKSkmJmEubmF2aWdhdG9yJiZhLm5hdmlnYXRvci5zdGFuZGFsb25lJiZjJiZcIl9zZWxmXCIhPWM/KGc9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQVwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTEFuY2hvckVsZW1lbnQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBMb2NhdGlvbiYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEVsZW1lbnQmJihlPWcmJihnIGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnR8fCEoZyBpbnN0YW5jZW9mIExvY2F0aW9ufHxnIGluc3RhbmNlb2YgRWxlbWVudCkpLGY9Z2EoZyk/Zy5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZXx8Zy5jb25zdHJ1Y3Rvci5uYW1lfHxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZyk6dm9pZCAwPT09Zz9cInVuZGVmaW5lZFwiOm51bGw9PT1nP1wibnVsbFwiOnR5cGVvZiBnLHcoZSxcIkFyZ3VtZW50IGlzIG5vdCBhIEhUTUxBbmNob3JFbGVtZW50IChvciBhIG5vbi1FbGVtZW50IG1vY2spOyBnb3Q6ICVzXCIsXG5mKSksYj1iIGluc3RhbmNlb2YgQj9iOmVjKGIpLGcuaHJlZj1iYyhiKSxnLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLGMpLGQubm9yZWZlcnJlciYmZy5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcIm5vcmVmZXJyZXJcIiksZD1kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIiksZC5pbml0TW91c2VFdmVudChcImNsaWNrXCIsITAsITAsYSwxKSxnLmRpc3BhdGNoRXZlbnQoZCksZz17fSk6ZC5ub3JlZmVycmVyPyhnPWEub3BlbihcIlwiLGMsZyksZD1iYyhiKSxnJiYoZGImJnYoZCxcIjtcIikmJihkPVwiJ1wiK2QucmVwbGFjZSgvJy9nLFwiJTI3XCIpK1wiJ1wiKSxnLm9wZW5lcj1udWxsLGE9JGIoXCJiLzEyMDE0NDEyLCBtZXRhIHRhZyB3aXRoIHNhbml0aXplZCBVUkxcIiksdWEudGVzdChkKSYmKC0xIT1kLmluZGV4T2YoXCImXCIpJiYoZD1kLnJlcGxhY2UobmEsXCImYW1wO1wiKSksLTEhPWQuaW5kZXhPZihcIjxcIikmJihkPWQucmVwbGFjZShvYSxcIiZsdDtcIikpLC0xIT1kLmluZGV4T2YoXCI+XCIpJiYoZD1kLnJlcGxhY2UocWEsXG5cIiZndDtcIikpLC0xIT1kLmluZGV4T2YoJ1wiJykmJihkPWQucmVwbGFjZShyYSxcIiZxdW90O1wiKSksLTEhPWQuaW5kZXhPZihcIidcIikmJihkPWQucmVwbGFjZShzYSxcIiYjMzk7XCIpKSwtMSE9ZC5pbmRleE9mKFwiXFx4MDBcIikmJihkPWQucmVwbGFjZSh0YSxcIiYjMDtcIikpKSxkPSc8TUVUQSBIVFRQLUVRVUlWPVwicmVmcmVzaFwiIGNvbnRlbnQ9XCIwOyB1cmw9JytkKydcIj4nLEFhKFpiKGEpLFwibXVzdCBwcm92aWRlIGp1c3RpZmljYXRpb25cIiksdyghL15bXFxzXFx4YTBdKiQvLnRlc3QoWmIoYSkpLFwibXVzdCBwcm92aWRlIG5vbi1lbXB0eSBqdXN0aWZpY2F0aW9uXCIpLGcuZG9jdW1lbnQud3JpdGUoemMoKG5ldyB5YykudGUoZCkpKSxnLmRvY3VtZW50LmNsb3NlKCkpKTpnPWEub3BlbihiYyhiKSxjLGcpO2lmKGcpdHJ5e2cuZm9jdXMoKX1jYXRjaChrKXt9cmV0dXJuIGd9LFFlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQyhmdW5jdGlvbihiKXt2YXIgYz1mdW5jdGlvbigpe1lkKDJFMykudGhlbihmdW5jdGlvbigpe2lmKCFhfHxcbmEuY2xvc2VkKWIoKTtlbHNlIHJldHVybiBjKCl9KX07cmV0dXJuIGMoKX0pfSxSZT0vXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC8sU2U9ZnVuY3Rpb24oKXt2YXIgYT1udWxsO3JldHVybihuZXcgQyhmdW5jdGlvbihiKXtcImNvbXBsZXRlXCI9PWwuZG9jdW1lbnQucmVhZHlTdGF0ZT9iKCk6KGE9ZnVuY3Rpb24oKXtiKCl9LFBiKHdpbmRvdyxcImxvYWRcIixhKSl9KSkuZyhmdW5jdGlvbihiKXtSYih3aW5kb3csXCJsb2FkXCIsYSk7dGhyb3cgYjt9KX0sTj1mdW5jdGlvbigpe3JldHVybiBmaXJlYmFzZS5JTlRFUk5BTC5oYXNPd25Qcm9wZXJ0eShcInJlYWN0TmF0aXZlXCIpP1wiUmVhY3ROYXRpdmVcIjpsLmhhc093blByb3BlcnR5KFwicHJvY2Vzc1wiKT9cIk5vZGVcIjpcIkJyb3dzZXJcIn0sVGU9ZnVuY3Rpb24oKXt2YXIgYT1OKCk7cmV0dXJuXCJSZWFjdE5hdGl2ZVwiPT09YXx8XCJOb2RlXCI9PT1hfSxMZT1mdW5jdGlvbihhKXt2YXIgYj1hLnRvTG93ZXJDYXNlKCk7aWYodihiLFwib3BlcmEvXCIpfHxcbnYoYixcIm9wci9cIil8fHYoYixcIm9waW9zL1wiKSlyZXR1cm5cIk9wZXJhXCI7aWYodihiLFwiaWVtb2JpbGVcIikpcmV0dXJuXCJJRU1vYmlsZVwiO2lmKHYoYixcIm1zaWVcIil8fHYoYixcInRyaWRlbnQvXCIpKXJldHVyblwiSUVcIjtpZih2KGIsXCJlZGdlL1wiKSlyZXR1cm5cIkVkZ2VcIjtpZih2KGIsXCJmaXJlZm94L1wiKSlyZXR1cm5cIkZpcmVmb3hcIjtpZih2KGIsXCJzaWxrL1wiKSlyZXR1cm5cIlNpbGtcIjtpZih2KGIsXCJibGFja2JlcnJ5XCIpKXJldHVyblwiQmxhY2tiZXJyeVwiO2lmKHYoYixcIndlYm9zXCIpKXJldHVyblwiV2Vib3NcIjtpZighdihiLFwic2FmYXJpL1wiKXx8dihiLFwiY2hyb21lL1wiKXx8dihiLFwiY3Jpb3MvXCIpfHx2KGIsXCJhbmRyb2lkXCIpKWlmKCF2KGIsXCJjaHJvbWUvXCIpJiYhdihiLFwiY3Jpb3MvXCIpfHx2KGIsXCJlZGdlL1wiKSl7aWYodihiLFwiYW5kcm9pZFwiKSlyZXR1cm5cIkFuZHJvaWRcIjtpZigoYT1hLm1hdGNoKC8oW2EtekEtWlxcZFxcLl0rKVxcL1thLXpBLVpcXGRcXC5dKiQvKSkmJjI9PWEubGVuZ3RoKXJldHVybiBhWzFdfWVsc2UgcmV0dXJuXCJDaHJvbWVcIjtcbmVsc2UgcmV0dXJuXCJTYWZhcmlcIjtyZXR1cm5cIk90aGVyXCJ9LFVlPWZ1bmN0aW9uKGEpe3ZhciBiPU4oKTtyZXR1cm4oXCJCcm93c2VyXCI9PT1iP0xlKE0oKSk6YikrXCIvSnNDb3JlL1wiK2F9LE09ZnVuY3Rpb24oKXtyZXR1cm4gbC5uYXZpZ2F0b3ImJmwubmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIn0sVmU9ZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiLlwiKTtmb3IodmFyIGI9bCxjPTA7YzxhLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGImJm51bGwhPWI7YysrKWI9YlthW2NdXTtjIT1hLmxlbmd0aCYmKGI9dm9pZCAwKTtyZXR1cm4gYn0sWWU9ZnVuY3Rpb24oKXt2YXIgYTtpZihhPShcImh0dHA6XCI9PT1XZSgpfHxcImh0dHBzOlwiPT09V2UoKSkmJiFUZSgpKWE6e3RyeXt2YXIgYj1sLmxvY2FsU3RvcmFnZSxjPVhlKCk7aWYoYil7Yi5zZXRJdGVtKGMsXCIxXCIpO2IucmVtb3ZlSXRlbShjKTthPUllKCk/ISFsLmluZGV4ZWREQjohMDticmVhayBhfX1jYXRjaChkKXt9YT0hMX1yZXR1cm4gYX0sV2U9XG5mdW5jdGlvbigpe3JldHVybiBsLmxvY2F0aW9uJiZsLmxvY2F0aW9uLnByb3RvY29sfHxudWxsfSxaZT1mdW5jdGlvbihhKXthPWF8fE0oKTtyZXR1cm4gTmUoYSl8fFwiRmlyZWZveFwiPT1MZShhKT8hMTohMH0sJGU9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhP251bGw6amMoYSl9LGFmPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZudWxsIT09YVtjXSYmdm9pZCAwIT09YVtjXSYmKGJbY109YVtjXSk7cmV0dXJuIGJ9LGJmPWZ1bmN0aW9uKGEpe2lmKG51bGwhPT1hKXt2YXIgYjt0cnl7Yj1nYyhhKX1jYXRjaChjKXt0cnl7Yj1KU09OLnBhcnNlKGEpfWNhdGNoKGQpe3Rocm93IGM7fX1yZXR1cm4gYn19LFhlPWZ1bmN0aW9uKGEpe3JldHVybiBhP2E6XCJcIitNYXRoLmZsb29yKDFFOSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpfSxjZj1mdW5jdGlvbihhKXthPWF8fE0oKTtyZXR1cm5cIlNhZmFyaVwiPT1MZShhKXx8XG5hLnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKT8hMTohMH0sZGY9ZnVuY3Rpb24oKXt2YXIgYT1sLl9fX2pzbDtpZihhJiZhLkgpZm9yKHZhciBiIGluIGEuSClpZihhLkhbYl0ucj1hLkhbYl0ucnx8W10sYS5IW2JdLkw9YS5IW2JdLkx8fFtdLGEuSFtiXS5yPWEuSFtiXS5MLmNvbmNhdCgpLGEuQ1ApZm9yKHZhciBjPTA7YzxhLkNQLmxlbmd0aDtjKyspYS5DUFtjXT1udWxsfSxlZj1mdW5jdGlvbihhLGIsYyxkKXtpZihhPmIpdGhyb3cgRXJyb3IoXCJTaG9ydCBkZWxheSBzaG91bGQgYmUgbGVzcyB0aGFuIGxvbmcgZGVsYXkhXCIpO3RoaXMuT2U9YTt0aGlzLkFlPWI7YT1jfHxNKCk7ZD1kfHxOKCk7dGhpcy51ZT1OZShhKXx8XCJSZWFjdE5hdGl2ZVwiPT09ZH07ZWYucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVlP3RoaXMuQWU6dGhpcy5PZX07dmFyIGZmO3RyeXt2YXIgZ2Y9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGdmLFwiYWJjZFwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZToxfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGdmLFwiYWJjZFwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZToyfSk7ZmY9Mj09Z2YuYWJjZH1jYXRjaChhKXtmZj0hMX1cbnZhciBPPWZ1bmN0aW9uKGEsYixjKXtmZj9PYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpjfSk6YVtiXT1jfSxoZj1mdW5jdGlvbihhLGIpe2lmKGIpZm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmTyhhLGMsYltjXSl9LGpmPWZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYltjXT1hW2NdKTtyZXR1cm4gYn0sa2Y9ZnVuY3Rpb24oYSxiKXtpZighYnx8IWIubGVuZ3RoKXJldHVybiEwO2lmKCFhKXJldHVybiExO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1hW2JbY11dO2lmKHZvaWQgMD09PWR8fG51bGw9PT1kfHxcIlwiPT09ZClyZXR1cm4hMX1yZXR1cm4hMH0sbGY9ZnVuY3Rpb24oYSl7dmFyIGI9YTtpZihcIm9iamVjdFwiPT10eXBlb2YgYSYmbnVsbCE9YSl7dmFyIGI9XCJsZW5ndGhcImluIGE/W106e30sYztmb3IoYyBpbiBhKU8oYixjLFxubGYoYVtjXSkpfXJldHVybiBifTt2YXIgbWY9W1wiY2xpZW50X2lkXCIsXCJyZXNwb25zZV90eXBlXCIsXCJzY29wZVwiLFwicmVkaXJlY3RfdXJpXCIsXCJzdGF0ZVwiXSxuZj17SWQ6e3ViOjUwMCx0Yjo2MDAscHJvdmlkZXJJZDpcImZhY2Vib29rLmNvbVwiLGRjOm1mfSxKZDp7dWI6NTAwLHRiOjYyMCxwcm92aWRlcklkOlwiZ2l0aHViLmNvbVwiLGRjOm1mfSxLZDp7dWI6NTE1LHRiOjY4MCxwcm92aWRlcklkOlwiZ29vZ2xlLmNvbVwiLGRjOm1mfSxQZDp7dWI6NDg1LHRiOjcwNSxwcm92aWRlcklkOlwidHdpdHRlci5jb21cIixkYzpcIm9hdXRoX2NvbnN1bWVyX2tleSBvYXV0aF9ub25jZSBvYXV0aF9zaWduYXR1cmUgb2F1dGhfc2lnbmF0dXJlX21ldGhvZCBvYXV0aF90aW1lc3RhbXAgb2F1dGhfdG9rZW4gb2F1dGhfdmVyc2lvblwiLnNwbGl0KFwiIFwiKX19LG9mPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBuZilpZihuZltiXS5wcm92aWRlcklkPT1hKXJldHVybiBuZltiXTtyZXR1cm4gbnVsbH0scGY9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9b2YoYSkpJiZcbmEuZGN8fFtdfTt2YXIgUD1mdW5jdGlvbihhLGIpe3RoaXMuY29kZT1cImF1dGgvXCIrYTt0aGlzLm1lc3NhZ2U9Ynx8cWZbYV18fFwiXCJ9O3IoUCxFcnJvcik7UC5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybntuYW1lOnRoaXMuY29kZSxjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZX19O1xudmFyIHFmPXtcImFyZ3VtZW50LWVycm9yXCI6XCJcIixcImFwcC1ub3QtYXV0aG9yaXplZFwiOlwiVGhpcyBhcHAsIGlkZW50aWZpZWQgYnkgdGhlIGRvbWFpbiB3aGVyZSBpdCdzIGhvc3RlZCwgaXMgbm90IGF1dGhvcml6ZWQgdG8gdXNlIEZpcmViYXNlIEF1dGhlbnRpY2F0aW9uIHdpdGggdGhlIHByb3ZpZGVkIEFQSSBrZXkuIFJldmlldyB5b3VyIGtleSBjb25maWd1cmF0aW9uIGluIHRoZSBHb29nbGUgQVBJIGNvbnNvbGUuXCIsXCJhcHAtbm90LWluc3RhbGxlZFwiOlwiVGhlIHJlcXVlc3RlZCBtb2JpbGUgYXBwbGljYXRpb24gY29ycmVzcG9uZGluZyB0byB0aGUgaWRlbnRpZmllciAoQW5kcm9pZCBwYWNrYWdlIG5hbWUgb3IgaU9TIGJ1bmRsZSBJRCkgcHJvdmlkZWQgaXMgbm90IGluc3RhbGxlZCBvbiB0aGlzIGRldmljZS5cIixcImNvcnMtdW5zdXBwb3J0ZWRcIjpcIlRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlwiLFwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiOlwiVGhpcyBjcmVkZW50aWFsIGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIGEgZGlmZmVyZW50IHVzZXIgYWNjb3VudC5cIixcblwiY3VzdG9tLXRva2VuLW1pc21hdGNoXCI6XCJUaGUgY3VzdG9tIHRva2VuIGNvcnJlc3BvbmRzIHRvIGEgZGlmZmVyZW50IGF1ZGllbmNlLlwiLFwicmVxdWlyZXMtcmVjZW50LWxvZ2luXCI6XCJUaGlzIG9wZXJhdGlvbiBpcyBzZW5zaXRpdmUgYW5kIHJlcXVpcmVzIHJlY2VudCBhdXRoZW50aWNhdGlvbi4gTG9nIGluIGFnYWluIGJlZm9yZSByZXRyeWluZyB0aGlzIHJlcXVlc3QuXCIsXCJkeW5hbWljLWxpbmstbm90LWFjdGl2YXRlZFwiOlwiUGxlYXNlIGFjdGl2YXRlIER5bmFtaWMgTGlua3MgaW4gdGhlIEZpcmViYXNlIENvbnNvbGUgYW5kIGFncmVlIHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucy5cIixcImVtYWlsLWFscmVhZHktaW4tdXNlXCI6XCJUaGUgZW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFjY291bnQuXCIsXCJleHBpcmVkLWFjdGlvbi1jb2RlXCI6XCJUaGUgYWN0aW9uIGNvZGUgaGFzIGV4cGlyZWQuIFwiLFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIjpcIlRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZCBkdWUgdG8gYW5vdGhlciBjb25mbGljdGluZyBwb3B1cCBiZWluZyBvcGVuZWQuXCIsXG5cImludGVybmFsLWVycm9yXCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJpbnZhbGlkLXVzZXItdG9rZW5cIjpcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcImludmFsaWQtYXV0aC1ldmVudFwiOlwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFwiaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb25cIjpcIlRoZSBmb2xsb3dpbmcgQ29yZG92YSBwbHVnaW5zIG11c3QgYmUgaW5zdGFsbGVkIHRvIGVuYWJsZSBPQXV0aCBzaWduLWluOiBjb3Jkb3ZhLXBsdWdpbi1idWlsZGluZm8sIGNvcmRvdmEtdW5pdmVyc2FsLWxpbmtzLXBsdWdpbiBhbmQgY29yZG92YS1wbHVnaW4tYnJvd3NlcnRhYlwiLFwiaW52YWxpZC1jdXN0b20tdG9rZW5cIjpcIlRoZSBjdXN0b20gdG9rZW4gZm9ybWF0IGlzIGluY29ycmVjdC4gUGxlYXNlIGNoZWNrIHRoZSBkb2N1bWVudGF0aW9uLlwiLFwiaW52YWxpZC1lbWFpbFwiOlwiVGhlIGVtYWlsIGFkZHJlc3MgaXMgYmFkbHkgZm9ybWF0dGVkLlwiLFxuXCJpbnZhbGlkLWFwaS1rZXlcIjpcIllvdXIgQVBJIGtleSBpcyBpbnZhbGlkLCBwbGVhc2UgY2hlY2sgeW91IGhhdmUgY29waWVkIGl0IGNvcnJlY3RseS5cIixcImludmFsaWQtY3JlZGVudGlhbFwiOlwiVGhlIHN1cHBsaWVkIGF1dGggY3JlZGVudGlhbCBpcyBtYWxmb3JtZWQgb3IgaGFzIGV4cGlyZWQuXCIsXCJpbnZhbGlkLW9hdXRoLXByb3ZpZGVyXCI6XCJFbWFpbEF1dGhQcm92aWRlciBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIG9wZXJhdGlvbi4gVGhpcyBvcGVyYXRpb24gb25seSBzdXBwb3J0cyBPQXV0aCBwcm92aWRlcnMuXCIsXCJ1bmF1dGhvcml6ZWQtZG9tYWluXCI6XCJUaGlzIGRvbWFpbiBpcyBub3QgYXV0aG9yaXplZCBmb3IgT0F1dGggb3BlcmF0aW9ucyBmb3IgeW91ciBGaXJlYmFzZSBwcm9qZWN0LiBFZGl0IHRoZSBsaXN0IG9mIGF1dGhvcml6ZWQgZG9tYWlucyBmcm9tIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFwiaW52YWxpZC1hY3Rpb24tY29kZVwiOlwiVGhlIGFjdGlvbiBjb2RlIGlzIGludmFsaWQuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29kZSBpcyBtYWxmb3JtZWQsIGV4cGlyZWQsIG9yIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC5cIixcblwid3JvbmctcGFzc3dvcmRcIjpcIlRoZSBwYXNzd29yZCBpcyBpbnZhbGlkIG9yIHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYSBwYXNzd29yZC5cIixcIm1pc3NpbmctaWZyYW1lLXN0YXJ0XCI6XCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIjpcIkJlIHN1cmUgdG8gaW5jbHVkZSBhdXRoRG9tYWluIHdoZW4gY2FsbGluZyBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCksIGJ5IGZvbGxvd2luZyB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFwiYXBwLWRlbGV0ZWRcIjpcIlRoaXMgaW5zdGFuY2Ugb2YgRmlyZWJhc2VBcHAgaGFzIGJlZW4gZGVsZXRlZC5cIixcImFjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxcIjpcIkFuIGFjY291bnQgYWxyZWFkeSBleGlzdHMgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGJ1dCBkaWZmZXJlbnQgc2lnbi1pbiBjcmVkZW50aWFscy4gU2lnbiBpbiB1c2luZyBhIHByb3ZpZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVtYWlsIGFkZHJlc3MuXCIsXG5cIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIjpcIkEgbmV0d29yayBlcnJvciAoc3VjaCBhcyB0aW1lb3V0LCBpbnRlcnJ1cHRlZCBjb25uZWN0aW9uIG9yIHVucmVhY2hhYmxlIGhvc3QpIGhhcyBvY2N1cnJlZC5cIixcIm5vLWF1dGgtZXZlbnRcIjpcIkFuIGludGVybmFsIGVycm9yIGhhcyBvY2N1cnJlZC5cIixcIm5vLXN1Y2gtcHJvdmlkZXJcIjpcIlVzZXIgd2FzIG5vdCBsaW5rZWQgdG8gYW4gYWNjb3VudCB3aXRoIHRoZSBnaXZlbiBwcm92aWRlci5cIixcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiOlwiVGhlIGdpdmVuIHNpZ24taW4gcHJvdmlkZXIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgRmlyZWJhc2UgcHJvamVjdC4gRW5hYmxlIGl0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLCB1bmRlciB0aGUgc2lnbi1pbiBtZXRob2QgdGFiIG9mIHRoZSBBdXRoIHNlY3Rpb24uXCIsXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCI6J1RoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGVudmlyb25tZW50IHRoaXMgYXBwbGljYXRpb24gaXMgcnVubmluZyBvbi4gXCJsb2NhdGlvbi5wcm90b2NvbFwiIG11c3QgYmUgaHR0cCBvciBodHRwcyBhbmQgd2ViIHN0b3JhZ2UgbXVzdCBiZSBlbmFibGVkLicsXG5cInBvcHVwLWJsb2NrZWRcIjpcIlVuYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIHBvcHVwLiBJdCBtYXkgaGF2ZSBiZWVuIGJsb2NrZWQgYnkgdGhlIGJyb3dzZXIuXCIsXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiOlwiVGhlIHBvcHVwIGhhcyBiZWVuIGNsb3NlZCBieSB0aGUgdXNlciBiZWZvcmUgZmluYWxpemluZyB0aGUgb3BlcmF0aW9uLlwiLFwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIjpcIlVzZXIgY2FuIG9ubHkgYmUgbGlua2VkIHRvIG9uZSBpZGVudGl0eSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLlwiLHRpbWVvdXQ6XCJUaGUgb3BlcmF0aW9uIGhhcyB0aW1lZCBvdXQuXCIsXCJ1c2VyLXRva2VuLWV4cGlyZWRcIjpcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcInRvby1tYW55LXJlcXVlc3RzXCI6XCJXZSBoYXZlIGJsb2NrZWQgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBkZXZpY2UgZHVlIHRvIHVudXN1YWwgYWN0aXZpdHkuIFRyeSBhZ2FpbiBsYXRlci5cIixcblwidXNlci1jYW5jZWxsZWRcIjpcIlVzZXIgZGlkIG5vdCBncmFudCB5b3VyIGFwcGxpY2F0aW9uIHRoZSBwZXJtaXNzaW9ucyBpdCByZXF1ZXN0ZWQuXCIsXCJ1c2VyLW5vdC1mb3VuZFwiOlwiVGhlcmUgaXMgbm8gdXNlciByZWNvcmQgY29ycmVzcG9uZGluZyB0byB0aGlzIGlkZW50aWZpZXIuIFRoZSB1c2VyIG1heSBoYXZlIGJlZW4gZGVsZXRlZC5cIixcInVzZXItZGlzYWJsZWRcIjpcIlRoZSB1c2VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYW4gYWRtaW5pc3RyYXRvci5cIixcInVzZXItbWlzbWF0Y2hcIjpcIlRoZSBzdXBwbGllZCBjcmVkZW50aWFscyBkbyBub3QgY29ycmVzcG9uZCB0byB0aGUgcHJldmlvdXNseSBzaWduZWQgaW4gdXNlci5cIixcInVzZXItc2lnbmVkLW91dFwiOlwiXCIsXCJ3ZWFrLXBhc3N3b3JkXCI6XCJUaGUgcGFzc3dvcmQgbXVzdCBiZSA2IGNoYXJhY3RlcnMgbG9uZyBvciBtb3JlLlwiLFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIjpcIlRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkIG9yIDNyZCBwYXJ0eSBjb29raWVzIGFuZCBkYXRhIG1heSBiZSBkaXNhYmxlZC5cIn07dmFyIHJmPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy53YT1hO3RoaXMuVT1ifHxudWxsO3RoaXMuZmI9Y3x8bnVsbDt0aGlzLmZjPWR8fG51bGw7dGhpcy5KPWV8fG51bGw7aWYodGhpcy5mYnx8dGhpcy5KKXtpZih0aGlzLmZiJiZ0aGlzLkopdGhyb3cgbmV3IFAoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7aWYodGhpcy5mYiYmIXRoaXMuZmMpdGhyb3cgbmV3IFAoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7fWVsc2UgdGhyb3cgbmV3IFAoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7fTtyZi5wcm90b3R5cGUuZ2V0RXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5KfTtyZi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMud2EsZXZlbnRJZDp0aGlzLlUsdXJsUmVzcG9uc2U6dGhpcy5mYixzZXNzaW9uSWQ6dGhpcy5mYyxlcnJvcjp0aGlzLkomJnRoaXMuSi5HKCl9fTt2YXIgc2Y9ZnVuY3Rpb24oYSl7dmFyIGI9XCJ1bmF1dGhvcml6ZWQtZG9tYWluXCIsYz12b2lkIDAsZD1DZShhKTthPWQuWTtkPWQuY2E7XCJodHRwXCIhPWQmJlwiaHR0cHNcIiE9ZD9iPVwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiOmM9bGEoXCJUaGlzIGRvbWFpbiAoJXMpIGlzIG5vdCBhdXRob3JpemVkIHRvIHJ1biB0aGlzIG9wZXJhdGlvbi4gQWRkIGl0IHRvIHRoZSBPQXV0aCByZWRpcmVjdCBkb21haW5zIGxpc3QgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUgLT4gQXV0aCBzZWN0aW9uIC0+IFNpZ24gaW4gbWV0aG9kIHRhYi5cIixhKTtQLmNhbGwodGhpcyxiLGMpfTtyKHNmLFApO3ZhciB0Zj1mdW5jdGlvbihhKXt0aGlzLnplPWEuc3ViO2thKCk7dGhpcy5HYj1hLmVtYWlsfHxudWxsfTt2YXIgdWY9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Z2EoYyk/ZT1jOmImJm4oYykmJm4oZCk/ZT17b2F1dGhUb2tlbjpjLG9hdXRoVG9rZW5TZWNyZXQ6ZH06IWImJm4oYykmJihlPXthY2Nlc3NUb2tlbjpjfSk7aWYoYnx8IWUuaWRUb2tlbiYmIWUuYWNjZXNzVG9rZW4paWYoYiYmZS5vYXV0aFRva2VuJiZlLm9hdXRoVG9rZW5TZWNyZXQpTyh0aGlzLFwiYWNjZXNzVG9rZW5cIixlLm9hdXRoVG9rZW4pLE8odGhpcyxcInNlY3JldFwiLGUub2F1dGhUb2tlblNlY3JldCk7ZWxzZXtpZihiKXRocm93IG5ldyBQKFwiYXJndW1lbnQtZXJyb3JcIixcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAyIGFyZ3VtZW50cyAodGhlIE9BdXRoIGFjY2VzcyB0b2tlbiBhbmQgc2VjcmV0KS5cIik7dGhyb3cgbmV3IFAoXCJhcmd1bWVudC1lcnJvclwiLFwiY3JlZGVudGlhbCBmYWlsZWQ6IGV4cGVjdGVkIDEgYXJndW1lbnQgKHRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4pLlwiKTt9ZWxzZSBlLmlkVG9rZW4mJk8odGhpcyxcblwiaWRUb2tlblwiLGUuaWRUb2tlbiksZS5hY2Nlc3NUb2tlbiYmTyh0aGlzLFwiYWNjZXNzVG9rZW5cIixlLmFjY2Vzc1Rva2VuKTtPKHRoaXMsXCJwcm92aWRlclwiLGEpfTt1Zi5wcm90b3R5cGUuSWI9ZnVuY3Rpb24oYSl7cmV0dXJuIHZmKGEsd2YodGhpcykpfTt1Zi5wcm90b3R5cGUub2Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz13Zih0aGlzKTtjLmlkVG9rZW49YjtyZXR1cm4geGYoYSxjKX07dmFyIHdmPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2EuaWRUb2tlbiYmKGIuaWRfdG9rZW49YS5pZFRva2VuKTthLmFjY2Vzc1Rva2VuJiYoYi5hY2Nlc3NfdG9rZW49YS5hY2Nlc3NUb2tlbik7YS5zZWNyZXQmJihiLm9hdXRoX3Rva2VuX3NlY3JldD1hLnNlY3JldCk7Yi5wcm92aWRlcklkPWEucHJvdmlkZXI7cmV0dXJue3Bvc3RCb2R5OkhlKGIpLnRvU3RyaW5nKCkscmVxdWVzdFVyaTpZZSgpP0plKCk6XCJodHRwOi8vbG9jYWxob3N0XCJ9fTtcbnVmLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7dmFyIGE9e3Byb3ZpZGVyOnRoaXMucHJvdmlkZXJ9O3RoaXMuaWRUb2tlbiYmKGEub2F1dGhJZFRva2VuPXRoaXMuaWRUb2tlbik7dGhpcy5hY2Nlc3NUb2tlbiYmKGEub2F1dGhBY2Nlc3NUb2tlbj10aGlzLmFjY2Vzc1Rva2VuKTt0aGlzLnNlY3JldCYmKGEub2F1dGhUb2tlblNlY3JldD10aGlzLnNlY3JldCk7cmV0dXJuIGF9O1xudmFyIHlmPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0hIWIsZT1jfHxbXTtiPWZ1bmN0aW9uKCl7aGYodGhpcyx7cHJvdmlkZXJJZDphLGlzT0F1dGhQcm92aWRlcjohMH0pO3RoaXMuUWM9W107dGhpcy5iZD17fTtcImdvb2dsZS5jb21cIj09YSYmdGhpcy5hZGRTY29wZShcInByb2ZpbGVcIil9O2R8fChiLnByb3RvdHlwZS5hZGRTY29wZT1mdW5jdGlvbihhKXtJYSh0aGlzLlFjLGEpfHx0aGlzLlFjLnB1c2goYSl9KTtiLnByb3RvdHlwZS5zZXRDdXN0b21QYXJhbWV0ZXJzPWZ1bmN0aW9uKGEpe3RoaXMuYmQ9VGEoYSl9O2IucHJvdG90eXBlLmhlPWZ1bmN0aW9uKCl7dmFyIGE9YWYodGhpcy5iZCksYjtmb3IoYiBpbiBhKWFbYl09YVtiXS50b1N0cmluZygpO2E9VGEoYSk7Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKyl7dmFyIGM9ZVtiXTtjIGluIGEmJmRlbGV0ZSBhW2NdfXJldHVybiBhfTtiLnByb3RvdHlwZS5pZT1mdW5jdGlvbigpe3JldHVybiBOYSh0aGlzLlFjKX07Yi5jcmVkZW50aWFsPVxuZnVuY3Rpb24oYixjKXtyZXR1cm4gbmV3IHVmKGEsZCxiLGMpfTtoZihiLHtQUk9WSURFUl9JRDphfSk7cmV0dXJuIGJ9LHpmPXlmKFwiZmFjZWJvb2suY29tXCIsITEscGYoXCJmYWNlYm9vay5jb21cIikpO3pmLnByb3RvdHlwZS5hZGRTY29wZT16Zi5wcm90b3R5cGUuYWRkU2NvcGV8fHZvaWQgMDt2YXIgQWY9eWYoXCJnaXRodWIuY29tXCIsITEscGYoXCJnaXRodWIuY29tXCIpKTtBZi5wcm90b3R5cGUuYWRkU2NvcGU9QWYucHJvdG90eXBlLmFkZFNjb3BlfHx2b2lkIDA7dmFyIEJmPXlmKFwiZ29vZ2xlLmNvbVwiLCExLHBmKFwiZ29vZ2xlLmNvbVwiKSk7QmYucHJvdG90eXBlLmFkZFNjb3BlPUJmLnByb3RvdHlwZS5hZGRTY29wZXx8dm9pZCAwO1xuQmYuY3JlZGVudGlhbD1mdW5jdGlvbihhLGIpe2lmKCFhJiYhYil0aHJvdyBuZXcgUChcImFyZ3VtZW50LWVycm9yXCIsXCJjcmVkZW50aWFsIGZhaWxlZDogbXVzdCBwcm92aWRlIHRoZSBJRCB0b2tlbiBhbmQvb3IgdGhlIGFjY2VzcyB0b2tlbi5cIik7cmV0dXJuIG5ldyB1ZihcImdvb2dsZS5jb21cIiwhMSxnYShhKT9hOntpZFRva2VuOmF8fG51bGwsYWNjZXNzVG9rZW46Ynx8bnVsbH0pfTt2YXIgQ2Y9eWYoXCJ0d2l0dGVyLmNvbVwiLCEwLHBmKFwidHdpdHRlci5jb21cIikpLERmPWZ1bmN0aW9uKGEsYil7dGhpcy5HYj1hO3RoaXMuSmM9YjtPKHRoaXMsXCJwcm92aWRlclwiLFwicGFzc3dvcmRcIil9O0RmLnByb3RvdHlwZS5JYj1mdW5jdGlvbihhKXtyZXR1cm4gUShhLEVmLHtlbWFpbDp0aGlzLkdiLHBhc3N3b3JkOnRoaXMuSmN9KX07RGYucHJvdG90eXBlLm9kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFEoYSxGZix7aWRUb2tlbjpiLGVtYWlsOnRoaXMuR2IscGFzc3dvcmQ6dGhpcy5KY30pfTtcbkRmLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJue2VtYWlsOnRoaXMuR2IscGFzc3dvcmQ6dGhpcy5KY319O3ZhciBHZj1mdW5jdGlvbigpe2hmKHRoaXMse3Byb3ZpZGVySWQ6XCJwYXNzd29yZFwiLGlzT0F1dGhQcm92aWRlcjohMX0pfTtoZihHZix7UFJPVklERVJfSUQ6XCJwYXNzd29yZFwifSk7XG52YXIgSGY9e2FmOkdmLElkOnpmLEtkOkJmLEpkOkFmLFBkOkNmfSxJZj1mdW5jdGlvbihhKXt2YXIgYj1hJiZhLnByb3ZpZGVySWQ7aWYoIWIpcmV0dXJuIG51bGw7dmFyIGM9YSYmYS5vYXV0aEFjY2Vzc1Rva2VuLGQ9YSYmYS5vYXV0aFRva2VuU2VjcmV0O2E9YSYmYS5vYXV0aElkVG9rZW47Zm9yKHZhciBlIGluIEhmKWlmKEhmW2VdLlBST1ZJREVSX0lEPT1iKXRyeXtyZXR1cm4gSGZbZV0uY3JlZGVudGlhbCh7YWNjZXNzVG9rZW46YyxpZFRva2VuOmEsb2F1dGhUb2tlbjpjLG9hdXRoVG9rZW5TZWNyZXQ6ZH0pfWNhdGNoKGYpe2JyZWFrfXJldHVybiBudWxsfSxKZj1mdW5jdGlvbihhKXtpZighYS5pc09BdXRoUHJvdmlkZXIpdGhyb3cgbmV3IFAoXCJpbnZhbGlkLW9hdXRoLXByb3ZpZGVyXCIpO307dmFyIEtmPWZ1bmN0aW9uKGEsYixjLGQpe1AuY2FsbCh0aGlzLGEsZCk7Tyh0aGlzLFwiZW1haWxcIixiKTtPKHRoaXMsXCJjcmVkZW50aWFsXCIsYyl9O3IoS2YsUCk7S2YucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXt2YXIgYT17Y29kZTp0aGlzLmNvZGUsbWVzc2FnZTp0aGlzLm1lc3NhZ2UsZW1haWw6dGhpcy5lbWFpbH0sYj10aGlzLmNyZWRlbnRpYWwmJnRoaXMuY3JlZGVudGlhbC5HKCk7YiYmKFZhKGEsYiksYS5wcm92aWRlcklkPWIucHJvdmlkZXIsZGVsZXRlIGEucHJvdmlkZXIpO3JldHVybiBhfTt2YXIgTGY9ZnVuY3Rpb24oYSl7aWYoYS5jb2RlKXt2YXIgYj1hLmNvZGV8fFwiXCI7MD09Yi5pbmRleE9mKFwiYXV0aC9cIikmJihiPWIuc3Vic3RyaW5nKDUpKTtyZXR1cm4gYS5lbWFpbD9uZXcgS2YoYixhLmVtYWlsLElmKGEpLGEubWVzc2FnZSk6bmV3IFAoYixhLm1lc3NhZ2V8fHZvaWQgMCl9cmV0dXJuIG51bGx9O3ZhciBNZj1mdW5jdGlvbihhKXt0aGlzLiRlPWF9O3IoTWYsbmMpO01mLnByb3RvdHlwZS5GYj1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy4kZX07TWYucHJvdG90eXBlLkRjPWZ1bmN0aW9uKCl7cmV0dXJue319O1xudmFyIFI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2Q9XCJOb2RlXCI9PU4oKTtkPWwuWE1MSHR0cFJlcXVlc3R8fGQmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUuWE1MSHR0cFJlcXVlc3Q7aWYoIWQpdGhyb3cgbmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiLFwiVGhlIFhNTEh0dHBSZXF1ZXN0IGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt0aGlzLmk9YTthPWJ8fHt9O3RoaXMuS2U9YS5zZWN1cmVUb2tlbkVuZHBvaW50fHxcImh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIjt0aGlzLkxlPWEuc2VjdXJlVG9rZW5UaW1lb3V0fHxOZjt0aGlzLnhkPVRhKGEuc2VjdXJlVG9rZW5IZWFkZXJzfHxPZik7dGhpcy5jZT1hLmZpcmViYXNlRW5kcG9pbnR8fFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vaWRlbnRpdHl0b29sa2l0L3YzL3JlbHlpbmdwYXJ0eS9cIjt0aGlzLmRlPWEuZmlyZWJhc2VUaW1lb3V0fHxcblBmO3RoaXMuZ2Q9VGEoYS5maXJlYmFzZUhlYWRlcnN8fFFmKTtjJiYodGhpcy5nZFtcIlgtQ2xpZW50LVZlcnNpb25cIl09Yyx0aGlzLnhkW1wiWC1DbGllbnQtVmVyc2lvblwiXT1jKTt0aGlzLlVkPW5ldyBzYzt0aGlzLlplPW5ldyBNZihkKX0sUmYsTmY9bmV3IGVmKDFFNCwzRTQpLE9mPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9LFBmPW5ldyBlZigxRTQsM0U0KSxRZj17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sVGY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7TWUoKT9hPXEoYS5OZSxhKTooUmZ8fChSZj1uZXcgQyhmdW5jdGlvbihhLGIpe1NmKGEsYil9KSksYT1xKGEuTWUsYSkpO2EoYixjLGQsZSxmLGcpfTtcblIucHJvdG90eXBlLk5lPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1cIk5vZGVcIj09TigpLGs9VGUoKT9nP25ldyBJKHRoaXMuWmUpOm5ldyBJOm5ldyBJKHRoaXMuVWQpLHQ7ZiYmKGsuY2I9TWF0aC5tYXgoMCxmKSx0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLmRpc3BhdGNoRXZlbnQoXCJ0aW1lb3V0XCIpfSxmKSk7ay5saXN0ZW4oXCJjb21wbGV0ZVwiLGZ1bmN0aW9uKCl7dCYmY2xlYXJUaW1lb3V0KHQpO3ZhciBhPW51bGw7dHJ5e3ZhciBjO2M9dGhpcy5iP2djKHRoaXMuYi5yZXNwb25zZVRleHQpOnZvaWQgMDthPWN8fG51bGx9Y2F0Y2goRWkpe3RyeXthPUpTT04ucGFyc2UobmUodGhpcykpfHxudWxsfWNhdGNoKEZpKXthPW51bGx9fWImJmIoYSl9KTtRYihrLFwicmVhZHlcIixmdW5jdGlvbigpe3QmJmNsZWFyVGltZW91dCh0KTt0aGlzLnlhfHwodGhpcy55YT0hMCx0aGlzLk5hKCkpfSk7UWIoayxcInRpbWVvdXRcIixmdW5jdGlvbigpe3QmJmNsZWFyVGltZW91dCh0KTt0aGlzLnlhfHxcbih0aGlzLnlhPSEwLHRoaXMuTmEoKSk7YiYmYihudWxsKX0pO2suc2VuZChhLGMsZCxlKX07dmFyIHJkPVwiX19mY2JcIitNYXRoLmZsb29yKDFFNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpLFNmPWZ1bmN0aW9uKGEsYil7KCh3aW5kb3cuZ2FwaXx8e30pLmNsaWVudHx8e30pLnJlcXVlc3Q/YSgpOihsW3JkXT1mdW5jdGlvbigpeygod2luZG93LmdhcGl8fHt9KS5jbGllbnR8fHt9KS5yZXF1ZXN0P2EoKTpiKEVycm9yKFwiQ09SU19VTlNVUFBPUlRFRFwiKSl9LHRkKGZ1bmN0aW9uKCl7YihFcnJvcihcIkNPUlNfVU5TVVBQT1JURURcIikpfSkpfTtcblIucHJvdG90eXBlLk1lPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcztSZi50aGVuKGZ1bmN0aW9uKCl7d2luZG93LmdhcGkuY2xpZW50LnNldEFwaUtleShmLmkpO3ZhciBnPXdpbmRvdy5nYXBpLmF1dGguZ2V0VG9rZW4oKTt3aW5kb3cuZ2FwaS5hdXRoLnNldFRva2VuKG51bGwpO3dpbmRvdy5nYXBpLmNsaWVudC5yZXF1ZXN0KHtwYXRoOmEsbWV0aG9kOmMsYm9keTpkLGhlYWRlcnM6ZSxhdXRoVHlwZTpcIm5vbmVcIixjYWxsYmFjazpmdW5jdGlvbihhKXt3aW5kb3cuZ2FwaS5hdXRoLnNldFRva2VuKGcpO2ImJmIoYSl9fSl9KS5nKGZ1bmN0aW9uKGEpe2ImJmIoe2Vycm9yOnttZXNzYWdlOmEmJmEubWVzc2FnZXx8XCJDT1JTX1VOU1VQUE9SVEVEXCJ9fSl9KX07XG52YXIgVmY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEMoZnVuY3Rpb24oYyxkKXtcInJlZnJlc2hfdG9rZW5cIj09Yi5ncmFudF90eXBlJiZiLnJlZnJlc2hfdG9rZW58fFwiYXV0aG9yaXphdGlvbl9jb2RlXCI9PWIuZ3JhbnRfdHlwZSYmYi5jb2RlP1RmKGEsYS5LZStcIj9rZXk9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuaSksZnVuY3Rpb24oYSl7YT9hLmVycm9yP2QoVWYoYSkpOmEuYWNjZXNzX3Rva2VuJiZhLnJlZnJlc2hfdG9rZW4/YyhhKTpkKG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIikpOmQobmV3IFAoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0sXCJQT1NUXCIsSGUoYikudG9TdHJpbmcoKSxhLnhkLGEuTGUuZ2V0KCkpOmQobmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiKSl9KX0sV2Y9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1DZShhLmNlK2IpO0woZixcImtleVwiLGEuaSk7ZSYmTChmLFwiY2JcIixrYSgpLnRvU3RyaW5nKCkpO3ZhciBnPVwiR0VUXCI9PWM7aWYoZylmb3IodmFyIGsgaW4gZClkLmhhc093blByb3BlcnR5KGspJiZcbkwoZixrLGRba10pO3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGUpe1RmKGEsZi50b1N0cmluZygpLGZ1bmN0aW9uKGEpe2E/YS5lcnJvcj9lKFVmKGEpKTpiKGEpOmUobmV3IFAoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKX0sYyxnP3ZvaWQgMDpqYyhhZihkKSksYS5nZCxhLmRlLmdldCgpKX0pfSxYZj1mdW5jdGlvbihhKXtpZighV2IudGVzdChhLmVtYWlsKSl0aHJvdyBuZXcgUChcImludmFsaWQtZW1haWxcIik7fSxZZj1mdW5jdGlvbihhKXtcImVtYWlsXCJpbiBhJiZYZihhKX0sJGY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1ZZSgpP0plKCk6XCJodHRwOi8vbG9jYWxob3N0XCI7cmV0dXJuIFEoYSxaZix7aWRlbnRpZmllcjpiLGNvbnRpbnVlVXJpOmN9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFsbFByb3ZpZGVyc3x8W119KX0sYmc9ZnVuY3Rpb24oYSl7cmV0dXJuIFEoYSxhZyx7fSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5hdXRob3JpemVkRG9tYWluc3x8W119KX0sY2c9XG5mdW5jdGlvbihhKXtpZighYS5pZFRva2VuKXRocm93IG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIik7fTtSLnByb3RvdHlwZS5zaWduSW5Bbm9ueW1vdXNseT1mdW5jdGlvbigpe3JldHVybiBRKHRoaXMsZGcse30pfTtSLnByb3RvdHlwZS51cGRhdGVFbWFpbD1mdW5jdGlvbihhLGIpe3JldHVybiBRKHRoaXMsZWcse2lkVG9rZW46YSxlbWFpbDpifSl9O1IucHJvdG90eXBlLnVwZGF0ZVBhc3N3b3JkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFEodGhpcyxGZix7aWRUb2tlbjphLHBhc3N3b3JkOmJ9KX07dmFyIGZnPXtkaXNwbGF5TmFtZTpcIkRJU1BMQVlfTkFNRVwiLHBob3RvVXJsOlwiUEhPVE9fVVJMXCJ9O1xuUi5wcm90b3R5cGUudXBkYXRlUHJvZmlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPXtpZFRva2VuOmF9LGQ9W107T2EoZmcsZnVuY3Rpb24oYSxmKXt2YXIgZT1iW2ZdO251bGw9PT1lP2QucHVzaChhKTpmIGluIGImJihjW2ZdPWUpfSk7ZC5sZW5ndGgmJihjLmRlbGV0ZUF0dHJpYnV0ZT1kKTtyZXR1cm4gUSh0aGlzLGVnLGMpfTtSLnByb3RvdHlwZS5zZW5kUGFzc3dvcmRSZXNldEVtYWlsPWZ1bmN0aW9uKGEpe3JldHVybiBRKHRoaXMsZ2cse3JlcXVlc3RUeXBlOlwiUEFTU1dPUkRfUkVTRVRcIixlbWFpbDphfSl9O1IucHJvdG90eXBlLnNlbmRFbWFpbFZlcmlmaWNhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gUSh0aGlzLGhnLHtyZXF1ZXN0VHlwZTpcIlZFUklGWV9FTUFJTFwiLGlkVG9rZW46YX0pfTtcbnZhciBqZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIFEoYSxpZyx7aWRUb2tlbjpiLGRlbGV0ZVByb3ZpZGVyOmN9KX0sa2c9ZnVuY3Rpb24oYSl7aWYoIWEucmVxdWVzdFVyaXx8IWEuc2Vzc2lvbklkJiYhYS5wb3N0Qm9keSl0aHJvdyBuZXcgUChcImludGVybmFsLWVycm9yXCIpO30sbGc9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDthLm5lZWRDb25maXJtYXRpb24/KGEuY29kZT1cImFjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxcIixiPUxmKGEpKTpcIkZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEXCI9PWEuZXJyb3JNZXNzYWdlPyhhLmNvZGU9XCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCIsYj1MZihhKSk6XCJFTUFJTF9FWElTVFNcIj09YS5lcnJvck1lc3NhZ2UmJihhLmNvZGU9XCJlbWFpbC1hbHJlYWR5LWluLXVzZVwiLGI9TGYoYSkpO2lmKGIpdGhyb3cgYjtpZighYS5pZFRva2VuKXRocm93IG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIik7fSx2Zj1mdW5jdGlvbihhLFxuYil7Yi5yZXR1cm5JZHBDcmVkZW50aWFsPSEwO3JldHVybiBRKGEsbWcsYil9LHhmPWZ1bmN0aW9uKGEsYil7Yi5yZXR1cm5JZHBDcmVkZW50aWFsPSEwO3JldHVybiBRKGEsbmcsYil9LG9nPWZ1bmN0aW9uKGEpe2lmKCFhLm9vYkNvZGUpdGhyb3cgbmV3IFAoXCJpbnZhbGlkLWFjdGlvbi1jb2RlXCIpO307Ui5wcm90b3R5cGUuY29uZmlybVBhc3N3b3JkUmVzZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUSh0aGlzLHBnLHtvb2JDb2RlOmEsbmV3UGFzc3dvcmQ6Yn0pfTtSLnByb3RvdHlwZS5jaGVja0FjdGlvbkNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIFEodGhpcyxxZyx7b29iQ29kZTphfSl9O1IucHJvdG90eXBlLmFwcGx5QWN0aW9uQ29kZT1mdW5jdGlvbihhKXtyZXR1cm4gUSh0aGlzLHJnLHtvb2JDb2RlOmF9KX07XG52YXIgcmc9e2VuZHBvaW50Olwic2V0QWNjb3VudEluZm9cIixEOm9nLGFiOlwiZW1haWxcIn0scWc9e2VuZHBvaW50OlwicmVzZXRQYXNzd29yZFwiLEQ6b2csdWE6ZnVuY3Rpb24oYSl7aWYoIWEuZW1haWx8fCFhLnJlcXVlc3RUeXBlKXRocm93IG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIik7fX0sc2c9e2VuZHBvaW50Olwic2lnbnVwTmV3VXNlclwiLEQ6ZnVuY3Rpb24oYSl7WGYoYSk7aWYoIWEucGFzc3dvcmQpdGhyb3cgbmV3IFAoXCJ3ZWFrLXBhc3N3b3JkXCIpO30sdWE6Y2csdmE6ITB9LFpmPXtlbmRwb2ludDpcImNyZWF0ZUF1dGhVcmlcIn0sdGc9e2VuZHBvaW50OlwiZGVsZXRlQWNjb3VudFwiLCRhOltcImlkVG9rZW5cIl19LGlnPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsJGE6W1wiaWRUb2tlblwiLFwiZGVsZXRlUHJvdmlkZXJcIl0sRDpmdW5jdGlvbihhKXtpZighZGEoYS5kZWxldGVQcm92aWRlcikpdGhyb3cgbmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiKTt9fSx1Zz17ZW5kcG9pbnQ6XCJnZXRBY2NvdW50SW5mb1wifSxcbmhnPXtlbmRwb2ludDpcImdldE9vYkNvbmZpcm1hdGlvbkNvZGVcIiwkYTpbXCJpZFRva2VuXCIsXCJyZXF1ZXN0VHlwZVwiXSxEOmZ1bmN0aW9uKGEpe2lmKFwiVkVSSUZZX0VNQUlMXCIhPWEucmVxdWVzdFR5cGUpdGhyb3cgbmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiKTt9LGFiOlwiZW1haWxcIn0sZ2c9e2VuZHBvaW50OlwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLCRhOltcInJlcXVlc3RUeXBlXCJdLEQ6ZnVuY3Rpb24oYSl7aWYoXCJQQVNTV09SRF9SRVNFVFwiIT1hLnJlcXVlc3RUeXBlKXRocm93IG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIik7WGYoYSl9LGFiOlwiZW1haWxcIn0sYWc9e1RkOiEwLGVuZHBvaW50OlwiZ2V0UHJvamVjdENvbmZpZ1wiLHBlOlwiR0VUXCJ9LHBnPXtlbmRwb2ludDpcInJlc2V0UGFzc3dvcmRcIixEOm9nLGFiOlwiZW1haWxcIn0sZWc9e2VuZHBvaW50Olwic2V0QWNjb3VudEluZm9cIiwkYTpbXCJpZFRva2VuXCJdLEQ6WWYsdmE6ITB9LEZmPXtlbmRwb2ludDpcInNldEFjY291bnRJbmZvXCIsJGE6W1wiaWRUb2tlblwiXSxcbkQ6ZnVuY3Rpb24oYSl7WWYoYSk7aWYoIWEucGFzc3dvcmQpdGhyb3cgbmV3IFAoXCJ3ZWFrLXBhc3N3b3JkXCIpO30sdWE6Y2csdmE6ITB9LGRnPXtlbmRwb2ludDpcInNpZ251cE5ld1VzZXJcIix1YTpjZyx2YTohMH0sbWc9e2VuZHBvaW50OlwidmVyaWZ5QXNzZXJ0aW9uXCIsRDprZyx1YTpsZyx2YTohMH0sbmc9e2VuZHBvaW50OlwidmVyaWZ5QXNzZXJ0aW9uXCIsRDpmdW5jdGlvbihhKXtrZyhhKTtpZighYS5pZFRva2VuKXRocm93IG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIik7fSx1YTpsZyx2YTohMH0sdmc9e2VuZHBvaW50OlwidmVyaWZ5Q3VzdG9tVG9rZW5cIixEOmZ1bmN0aW9uKGEpe2lmKCFhLnRva2VuKXRocm93IG5ldyBQKFwiaW52YWxpZC1jdXN0b20tdG9rZW5cIik7fSx1YTpjZyx2YTohMH0sRWY9e2VuZHBvaW50OlwidmVyaWZ5UGFzc3dvcmRcIixEOmZ1bmN0aW9uKGEpe1hmKGEpO2lmKCFhLnBhc3N3b3JkKXRocm93IG5ldyBQKFwid3JvbmctcGFzc3dvcmRcIik7fSx1YTpjZyx2YTohMH0sUT1cbmZ1bmN0aW9uKGEsYixjKXtpZigha2YoYyxiLiRhKSlyZXR1cm4gRShuZXcgUChcImludGVybmFsLWVycm9yXCIpKTt2YXIgZD1iLnBlfHxcIlBPU1RcIixlO3JldHVybiBEKGMpLnRoZW4oYi5EKS50aGVuKGZ1bmN0aW9uKCl7Yi52YSYmKGMucmV0dXJuU2VjdXJlVG9rZW49ITApO3JldHVybiBXZihhLGIuZW5kcG9pbnQsZCxjLGIuVGR8fCExKX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGU9YX0pLnRoZW4oYi51YSkudGhlbihmdW5jdGlvbigpe2lmKCFiLmFiKXJldHVybiBlO2lmKCEoYi5hYiBpbiBlKSl0aHJvdyBuZXcgUChcImludGVybmFsLWVycm9yXCIpO3JldHVybiBlW2IuYWJdfSl9LFVmPWZ1bmN0aW9uKGEpe3ZhciBiLGM7Yz0oYS5lcnJvciYmYS5lcnJvci5lcnJvcnMmJmEuZXJyb3IuZXJyb3JzWzBdfHx7fSkucmVhc29ufHxcIlwiO3ZhciBkPXtrZXlJbnZhbGlkOlwiaW52YWxpZC1hcGkta2V5XCIsaXBSZWZlcmVyQmxvY2tlZDpcImFwcC1ub3QtYXV0aG9yaXplZFwifTtpZihjPWRbY10/XG5uZXcgUChkW2NdKTpudWxsKXJldHVybiBjO2M9YS5lcnJvciYmYS5lcnJvci5tZXNzYWdlfHxcIlwiO2Q9e0lOVkFMSURfQ1VTVE9NX1RPS0VOOlwiaW52YWxpZC1jdXN0b20tdG9rZW5cIixDUkVERU5USUFMX01JU01BVENIOlwiY3VzdG9tLXRva2VuLW1pc21hdGNoXCIsTUlTU0lOR19DVVNUT01fVE9LRU46XCJpbnRlcm5hbC1lcnJvclwiLElOVkFMSURfSURFTlRJRklFUjpcImludmFsaWQtZW1haWxcIixNSVNTSU5HX0NPTlRJTlVFX1VSSTpcImludGVybmFsLWVycm9yXCIsSU5WQUxJRF9FTUFJTDpcImludmFsaWQtZW1haWxcIixJTlZBTElEX1BBU1NXT1JEOlwid3JvbmctcGFzc3dvcmRcIixVU0VSX0RJU0FCTEVEOlwidXNlci1kaXNhYmxlZFwiLE1JU1NJTkdfUEFTU1dPUkQ6XCJpbnRlcm5hbC1lcnJvclwiLEVNQUlMX0VYSVNUUzpcImVtYWlsLWFscmVhZHktaW4tdXNlXCIsUEFTU1dPUkRfTE9HSU5fRElTQUJMRUQ6XCJvcGVyYXRpb24tbm90LWFsbG93ZWRcIixJTlZBTElEX0lEUF9SRVNQT05TRTpcImludmFsaWQtY3JlZGVudGlhbFwiLFxuRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQ6XCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCIsRU1BSUxfTk9UX0ZPVU5EOlwidXNlci1ub3QtZm91bmRcIixFWFBJUkVEX09PQl9DT0RFOlwiZXhwaXJlZC1hY3Rpb24tY29kZVwiLElOVkFMSURfT09CX0NPREU6XCJpbnZhbGlkLWFjdGlvbi1jb2RlXCIsTUlTU0lOR19PT0JfQ09ERTpcImludGVybmFsLWVycm9yXCIsQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOOlwicmVxdWlyZXMtcmVjZW50LWxvZ2luXCIsSU5WQUxJRF9JRF9UT0tFTjpcImludmFsaWQtdXNlci10b2tlblwiLFRPS0VOX0VYUElSRUQ6XCJ1c2VyLXRva2VuLWV4cGlyZWRcIixVU0VSX05PVF9GT1VORDpcInVzZXItdG9rZW4tZXhwaXJlZFwiLENPUlNfVU5TVVBQT1JURUQ6XCJjb3JzLXVuc3VwcG9ydGVkXCIsRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURUQ6XCJkeW5hbWljLWxpbmstbm90LWFjdGl2YXRlZFwiLFRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUjpcInRvby1tYW55LXJlcXVlc3RzXCIsXG5XRUFLX1BBU1NXT1JEOlwid2Vhay1wYXNzd29yZFwiLE9QRVJBVElPTl9OT1RfQUxMT1dFRDpcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiLFVTRVJfQ0FOQ0VMTEVEOlwidXNlci1jYW5jZWxsZWRcIn07Yj0oYj1jLm1hdGNoKC9eW15cXHNdK1xccyo6XFxzKiguKikkLykpJiYxPGIubGVuZ3RoP2JbMV06dm9pZCAwO2Zvcih2YXIgZSBpbiBkKWlmKDA9PT1jLmluZGV4T2YoZSkpcmV0dXJuIG5ldyBQKGRbZV0sYik7IWImJmEmJihiPSRlKGEpKTtyZXR1cm4gbmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiLGIpfTt2YXIgd2c9ZnVuY3Rpb24oYSl7dGhpcy5SPWF9O3dnLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJ9O3dnLnByb3RvdHlwZS5BZD1mdW5jdGlvbihhKXt0aGlzLlIuc3R5bGU9YTtyZXR1cm4gdGhpc307dmFyIHhnPWZ1bmN0aW9uKGEpe3RoaXMuUj1hfHx7fX07eGcucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUn07eGcucHJvdG90eXBlLkFkPWZ1bmN0aW9uKGEpe3RoaXMuUi5zdHlsZT1hO3JldHVybiB0aGlzfTt2YXIgemc9ZnVuY3Rpb24oYSl7dGhpcy5ZZT1hO3RoaXMuT2I9bnVsbDt0aGlzLkhjPXlnKHRoaXMpfSxBZz1mdW5jdGlvbihhKXt2YXIgYj1uZXcgeGc7Yi5SLndoZXJlPWRvY3VtZW50LmJvZHk7Yi5SLnVybD1hLlllO2IuUi5tZXNzYWdlSGFuZGxlcnNGaWx0ZXI9VmUoXCJnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSXCIpO2IuUi5hdHRyaWJ1dGVzPWIuUi5hdHRyaWJ1dGVzfHx7fTsobmV3IHdnKGIuUi5hdHRyaWJ1dGVzKSkuQWQoe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMTAwcHhcIix3aWR0aDpcIjFweFwiLGhlaWdodDpcIjFweFwifSk7Yi5SLmRvbnRjbGVhcj0hMDtyZXR1cm4gYn0seWc9ZnVuY3Rpb24oYSl7cmV0dXJuIEJnKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe1ZlKFwiZ2FwaS5pZnJhbWVzLmdldENvbnRleHRcIikoKS5vcGVuKEFnKGEpLnZhbHVlKCksZnVuY3Rpb24oZCl7YS5PYj1kO2EuT2IucmVzdHlsZSh7c2V0SGlkZU9uTGVhdmU6ITF9KTtcbnZhciBlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LENnLmdldCgpKSxmPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO2IoKX07ZC5waW5nKGYpLnRoZW4oZixmdW5jdGlvbigpe2MoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0pfSl9KX0pfTt6Zy5wcm90b3R5cGUuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5IYy50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGMpe2IuT2Iuc2VuZChhLnR5cGUsYSxjLFZlKFwiZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlwiKSl9KX0pfTtcbnZhciBEZz1mdW5jdGlvbihhLGIpe2EuSGMudGhlbihmdW5jdGlvbigpe2EuT2IucmVnaXN0ZXIoXCJhdXRoRXZlbnRcIixiLFZlKFwiZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlwiKSl9KX0sRWc9bmV3IGVmKDNFMywxNUUzKSxDZz1uZXcgZWYoNUUzLDE1RTMpLEJnPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXtkZigpO1ZlKFwiZ2FwaS5sb2FkXCIpKFwiZ2FwaS5pZnJhbWVzXCIse2NhbGxiYWNrOmEsb250aW1lb3V0OmZ1bmN0aW9uKCl7ZGYoKTtiKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9LHRpbWVvdXQ6RWcuZ2V0KCl9KX07aWYoVmUoXCJnYXBpLmlmcmFtZXMuSWZyYW1lXCIpKWEoKTtlbHNlIGlmKFZlKFwiZ2FwaS5sb2FkXCIpKWMoKTtlbHNle3ZhciBkPVwiX19pZnJhbWVmY2JcIitNYXRoLmZsb29yKDFFNipNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO2xbZF09ZnVuY3Rpb24oKXtWZShcImdhcGkubG9hZFwiKT9jKCk6XG5iKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9O0QocWQoXCJodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9hcGkuanM/b25sb2FkPVwiK2QpKS5nKGZ1bmN0aW9uKCl7YihFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSl9fSl9O3ZhciBGZz1mdW5jdGlvbihhLGIsYyl7dGhpcy51PWE7dGhpcy5pPWI7dGhpcy5BPWM7dGhpcy5IYT1udWxsO3RoaXMuQmI9RGUodGhpcy51LFwiL19fL2F1dGgvaWZyYW1lXCIpO0wodGhpcy5CYixcImFwaUtleVwiLHRoaXMuaSk7TCh0aGlzLkJiLFwiYXBwTmFtZVwiLHRoaXMuQSl9O0ZnLnByb3RvdHlwZS5zZXRWZXJzaW9uPWZ1bmN0aW9uKGEpe3RoaXMuSGE9YTtyZXR1cm4gdGhpc307RmcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dGhpcy5IYT9MKHRoaXMuQmIsXCJ2XCIsdGhpcy5IYSk6QmUodGhpcy5CYixcInZcIik7cmV0dXJuIHRoaXMuQmIudG9TdHJpbmcoKX07dmFyIEdnPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy51PWE7dGhpcy5pPWI7dGhpcy5BPWM7dGhpcy5TZD1kO3RoaXMuSGE9dGhpcy5VPXRoaXMuT2M9bnVsbDt0aGlzLiRiPWV9O0dnLnByb3RvdHlwZS5zZXRWZXJzaW9uPWZ1bmN0aW9uKGEpe3RoaXMuSGE9YTtyZXR1cm4gdGhpc307XG5HZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1EZSh0aGlzLnUsXCIvX18vYXV0aC9oYW5kbGVyXCIpO0woYSxcImFwaUtleVwiLHRoaXMuaSk7TChhLFwiYXBwTmFtZVwiLHRoaXMuQSk7TChhLFwiYXV0aFR5cGVcIix0aGlzLlNkKTtpZih0aGlzLiRiLmlzT0F1dGhQcm92aWRlcil7TChhLFwicHJvdmlkZXJJZFwiLHRoaXMuJGIucHJvdmlkZXJJZCk7dmFyIGI9dGhpcy4kYi5pZSgpO2ImJmIubGVuZ3RoJiZMKGEsXCJzY29wZXNcIixiLmpvaW4oXCIsXCIpKTtiPXRoaXMuJGIuaGUoKTtSYShiKXx8TChhLFwiY3VzdG9tUGFyYW1ldGVyc1wiLCRlKGIpKX10aGlzLk9jP0woYSxcInJlZGlyZWN0VXJsXCIsdGhpcy5PYyk6QmUoYSxcInJlZGlyZWN0VXJsXCIpO3RoaXMuVT9MKGEsXCJldmVudElkXCIsdGhpcy5VKTpCZShhLFwiZXZlbnRJZFwiKTt0aGlzLkhhP0woYSxcInZcIix0aGlzLkhhKTpCZShhLFwidlwiKTtpZih0aGlzLkNiKWZvcih2YXIgYyBpbiB0aGlzLkNiKXRoaXMuQ2IuaGFzT3duUHJvcGVydHkoYykmJlxuIWEuUy5nZXQoYykmJkwoYSxjLHRoaXMuQ2JbY10pO3JldHVybiBhLnRvU3RyaW5nKCl9O1xudmFyIEhnPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMudT1hO3RoaXMuaT1iO3RoaXMuQT1jO3RoaXMuZmU9KHRoaXMuamI9ZHx8bnVsbCk/VWUodGhpcy5qYik6bnVsbDtkPXRoaXMuamI7dGhpcy5xZT0obmV3IEZnKGEsYixjKSkuc2V0VmVyc2lvbihkKS50b1N0cmluZygpO3RoaXMuaWI9W107dGhpcy5mPW5ldyBSKGIsbnVsbCx0aGlzLmZlKTt0aGlzLlJiPXRoaXMucGE9bnVsbH0sSWc9ZnVuY3Rpb24oYSl7dmFyIGI9SmUoKTtyZXR1cm4gYmcoYSkudGhlbihmdW5jdGlvbihhKXthOntmb3IodmFyIGM9Q2UoYiksZT1jLmNhLGM9Yy5ZLGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGc7dmFyIGs9YVtmXTtnPWM7dmFyIHQ9ZTswPT1rLmluZGV4T2YoXCJjaHJvbWUtZXh0ZW5zaW9uOi8vXCIpP2c9Q2UoaykuWT09ZyYmXCJjaHJvbWUtZXh0ZW5zaW9uXCI9PXQ6XCJodHRwXCIhPXQmJlwiaHR0cHNcIiE9dD9nPSExOlJlLnRlc3Qoayk/Zz1nPT1rOihrPWsuc3BsaXQoXCIuXCIpLmpvaW4oXCJcXFxcLlwiKSxnPShuZXcgUmVnRXhwKFwiXiguK1xcXFwuXCIrXG5rK1wifFwiK2srXCIpJFwiLFwiaVwiKSkudGVzdChnKSk7aWYoZyl7YT0hMDticmVhayBhfX1hPSExfWlmKCFhKXRocm93IG5ldyBzZihKZSgpKTt9KX07SGcucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7aWYodGhpcy5SYilyZXR1cm4gdGhpcy5SYjt2YXIgYT10aGlzO3JldHVybiB0aGlzLlJiPVNlKCkudGhlbihmdW5jdGlvbigpe2EuTmI9bmV3IHpnKGEucWUpO0pnKGEpfSl9O0hnLnByb3RvdHlwZS5nYz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IFAoXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiKSxlPW5ldyBQKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIiksZj10aGlzLGc9ITE7cmV0dXJuIEtnKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtMZyhmKS50aGVuKGZ1bmN0aW9uKGMpe2N8fChhJiZPZShhKSxiKGUpLGc9ITApfSl9KS5nKGZ1bmN0aW9uKCl7fSkudGhlbihmdW5jdGlvbigpe2lmKCFnKXJldHVybiBRZShhKX0pLnRoZW4oZnVuY3Rpb24oKXtpZighZylyZXR1cm4gWWQoYykudGhlbihmdW5jdGlvbigpe2IoZCl9KX0pfTtcbkhnLnByb3RvdHlwZS5ZYj1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZighYSlyZXR1cm4gRShuZXcgUChcInBvcHVwLWJsb2NrZWRcIikpO2lmKGcpcmV0dXJuIEtnKHRoaXMpLmcoZnVuY3Rpb24oYil7T2UoYSk7ZShiKX0pLGQoKSxEKCk7dGhpcy5wYXx8KHRoaXMucGE9SWcodGhpcy5mKSk7dmFyIGs9dGhpcztyZXR1cm4gdGhpcy5wYS50aGVuKGZ1bmN0aW9uKCl7dmFyIGI9S2coaykuZyhmdW5jdGlvbihiKXtPZShhKTtlKGIpO3Rocm93IGI7fSk7ZCgpO3JldHVybiBifSkudGhlbihmdW5jdGlvbigpe0pmKGMpO3ZhciBkPU1nKGsudSxrLmksay5BLGIsYyxudWxsLGYsay5qYik7KGF8fGwud2luZG93KS5sb2NhdGlvbi5ocmVmPWJjKGVjKGQpKX0pLmcoZnVuY3Rpb24oYSl7XCJhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWRcIj09YS5jb2RlJiYoay5wYT1udWxsKTt0aHJvdyBhO30pfTtcbkhnLnByb3RvdHlwZS5aYj1mdW5jdGlvbihhLGIsYyl7dGhpcy5wYXx8KHRoaXMucGE9SWcodGhpcy5mKSk7dmFyIGQ9dGhpcztyZXR1cm4gdGhpcy5wYS50aGVuKGZ1bmN0aW9uKCl7SmYoYik7dmFyIGU9TWcoZC51LGQuaSxkLkEsYSxiLEplKCksYyxkLmpiKTtsLndpbmRvdy5sb2NhdGlvbi5ocmVmPWJjKGVjKGUpKX0pfTtcbnZhciBLZz1mdW5jdGlvbihhKXtyZXR1cm4gYS5wYigpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5OYi5IY30pLmcoZnVuY3Rpb24oKXthLnBhPW51bGw7dGhyb3cgbmV3IFAoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpO30pfSxNZz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2E9bmV3IEdnKGEsYixjLGQsZSk7YS5PYz1mO2EuVT1nO2Y9YS5zZXRWZXJzaW9uKGspO2YuQ2I9VGEobnVsbCk7cmV0dXJuIGYudG9TdHJpbmcoKX0sSmc9ZnVuY3Rpb24oYSl7aWYoIWEuTmIpdGhyb3cgRXJyb3IoXCJJZmNIYW5kbGVyIG11c3QgYmUgaW5pdGlhbGl6ZWQhXCIpO0RnKGEuTmIsZnVuY3Rpb24oYil7dmFyIGM9e307aWYoYiYmYi5hdXRoRXZlbnQpe3ZhciBkPSExO2I9Yi5hdXRoRXZlbnR8fHt9O2lmKGIudHlwZSl7aWYoYz1iLmVycm9yKXZhciBlPShjPWIuZXJyb3IpJiYoYy5uYW1lfHxjLmNvZGUpLGM9ZT9uZXcgUChlLnN1YnN0cmluZyg1KSxjLm1lc3NhZ2UpOm51bGw7Yj1uZXcgcmYoYi50eXBlLFxuYi5ldmVudElkLGIudXJsUmVzcG9uc2UsYi5zZXNzaW9uSWQsYyl9ZWxzZSBiPW51bGw7Zm9yKGM9MDtjPGEuaWIubGVuZ3RoO2MrKylkPWEuaWJbY10oYil8fGQ7Yz17fTtjLnN0YXR1cz1kP1wiQUNLXCI6XCJFUlJPUlwiO3JldHVybiBEKGMpfWMuc3RhdHVzPVwiRVJST1JcIjtyZXR1cm4gRChjKX0pfSxMZz1mdW5jdGlvbihhKXt2YXIgYj17dHlwZTpcIndlYlN0b3JhZ2VTdXBwb3J0XCJ9O3JldHVybiBhLnBiKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBhLk5iLnNlbmRNZXNzYWdlKGIpfSkudGhlbihmdW5jdGlvbihhKXtpZihhJiZhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhWzBdLndlYlN0b3JhZ2VTdXBwb3J0KXJldHVybiBhWzBdLndlYlN0b3JhZ2VTdXBwb3J0O3Rocm93IEVycm9yKCk7fSl9LE5nPWZ1bmN0aW9uKGEsYil7TGEoYS5pYixmdW5jdGlvbihhKXtyZXR1cm4gYT09Yn0pfTt2YXIgT2c9ZnVuY3Rpb24oYSl7dGhpcy5zPWF8fGZpcmViYXNlLklOVEVSTkFMLnJlYWN0TmF0aXZlJiZmaXJlYmFzZS5JTlRFUk5BTC5yZWFjdE5hdGl2ZS5Bc3luY1N0b3JhZ2U7aWYoIXRoaXMucyl0aHJvdyBuZXcgUChcImludGVybmFsLWVycm9yXCIsXCJUaGUgUmVhY3QgTmF0aXZlIGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt9O2g9T2cucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBEKHRoaXMucy5nZXRJdGVtKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhJiZiZihhKX0pfTtoLnNldD1mdW5jdGlvbihhLGIpe3JldHVybiBEKHRoaXMucy5zZXRJdGVtKGEsJGUoYikpKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIEQodGhpcy5zLnJlbW92ZUl0ZW0oYSkpfTtoLkphPWZ1bmN0aW9uKCl7fTtoLllhPWZ1bmN0aW9uKCl7fTt2YXIgUGc9ZnVuY3Rpb24oKXt0aGlzLnM9e319O2g9UGcucHJvdG90eXBlO2guZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBEKHRoaXMuc1thXSl9O2guc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy5zW2FdPWI7cmV0dXJuIEQoKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuc1thXTtyZXR1cm4gRCgpfTtoLkphPWZ1bmN0aW9uKCl7fTtoLllhPWZ1bmN0aW9uKCl7fTt2YXIgUmc9ZnVuY3Rpb24oKXtpZighUWcoKSl7aWYoXCJOb2RlXCI9PU4oKSl0aHJvdyBuZXcgUChcImludGVybmFsLWVycm9yXCIsXCJUaGUgTG9jYWxTdG9yYWdlIGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTt0aHJvdyBuZXcgUChcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO310aGlzLnM9bC5sb2NhbFN0b3JhZ2V8fGZpcmViYXNlLklOVEVSTkFMLm5vZGUubG9jYWxTdG9yYWdlfSxRZz1mdW5jdGlvbigpe3ZhciBhPVwiTm9kZVwiPT1OKCksYT1sLmxvY2FsU3RvcmFnZXx8YSYmZmlyZWJhc2UuSU5URVJOQUwubm9kZSYmZmlyZWJhc2UuSU5URVJOQUwubm9kZS5sb2NhbFN0b3JhZ2U7aWYoIWEpcmV0dXJuITE7dHJ5e3JldHVybiBhLnNldEl0ZW0oXCJfX3Nha1wiLFwiMVwiKSxhLnJlbW92ZUl0ZW0oXCJfX3Nha1wiKSwhMH1jYXRjaChiKXtyZXR1cm4hMX19O2g9UmcucHJvdG90eXBlO1xuaC5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gRCgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnMuZ2V0SXRlbShhKTtyZXR1cm4gYmYoYyl9KX07aC5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiBEKCkudGhlbihmdW5jdGlvbigpe3ZhciBkPSRlKGIpO251bGw9PT1kP2MucmVtb3ZlKGEpOmMucy5zZXRJdGVtKGEsZCl9KX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gRCgpLnRoZW4oZnVuY3Rpb24oKXtiLnMucmVtb3ZlSXRlbShhKX0pfTtoLkphPWZ1bmN0aW9uKGEpe2wud2luZG93JiZJYihsLndpbmRvdyxcInN0b3JhZ2VcIixhKX07aC5ZYT1mdW5jdGlvbihhKXtsLndpbmRvdyYmUmIobC53aW5kb3csXCJzdG9yYWdlXCIsYSl9O3ZhciBTZz1mdW5jdGlvbigpe3RoaXMucz17fX07aD1TZy5wcm90b3R5cGU7aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gRChudWxsKX07aC5zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gRCgpfTtoLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiBEKCl9O2guSmE9ZnVuY3Rpb24oKXt9O2guWWE9ZnVuY3Rpb24oKXt9O3ZhciBVZz1mdW5jdGlvbigpe2lmKCFUZygpKXtpZihcIk5vZGVcIj09TigpKXRocm93IG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIixcIlRoZSBTZXNzaW9uU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7dGhyb3cgbmV3IFAoXCJ3ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiKTt9dGhpcy5zPWwuc2Vzc2lvblN0b3JhZ2V8fGZpcmViYXNlLklOVEVSTkFMLm5vZGUuc2Vzc2lvblN0b3JhZ2V9LFRnPWZ1bmN0aW9uKCl7dmFyIGE9XCJOb2RlXCI9PU4oKSxhPWwuc2Vzc2lvblN0b3JhZ2V8fGEmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUmJmZpcmViYXNlLklOVEVSTkFMLm5vZGUuc2Vzc2lvblN0b3JhZ2U7aWYoIWEpcmV0dXJuITE7dHJ5e3JldHVybiBhLnNldEl0ZW0oXCJfX3Nha1wiLFwiMVwiKSxhLnJlbW92ZUl0ZW0oXCJfX3Nha1wiKSwhMH1jYXRjaChiKXtyZXR1cm4hMX19O2g9VWcucHJvdG90eXBlO1xuaC5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gRCgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgYz1iLnMuZ2V0SXRlbShhKTtyZXR1cm4gYmYoYyl9KX07aC5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiBEKCkudGhlbihmdW5jdGlvbigpe3ZhciBkPSRlKGIpO251bGw9PT1kP2MucmVtb3ZlKGEpOmMucy5zZXRJdGVtKGEsZCl9KX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gRCgpLnRoZW4oZnVuY3Rpb24oKXtiLnMucmVtb3ZlSXRlbShhKX0pfTtoLkphPWZ1bmN0aW9uKCl7fTtoLllhPWZ1bmN0aW9uKCl7fTt2YXIgVmc9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKCF3aW5kb3cuaW5kZXhlZERCKXRocm93IG5ldyBQKFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIik7dGhpcy5XZD1hO3RoaXMuR2M9Yjt0aGlzLndjPWM7dGhpcy5HZD1kO3RoaXMuZ2I9ZTt0aGlzLk89e307dGhpcy54Yj1bXTt0aGlzLnNiPTA7dGhpcy5yZT1mfHxsLmluZGV4ZWREQn0sV2csWGc9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5yZS5vcGVuKGEuV2QsYS5nYik7ZC5vbmVycm9yPWZ1bmN0aW9uKGEpe2MoRXJyb3IoYS50YXJnZXQuZXJyb3JDb2RlKSl9O2Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGIpe2I9Yi50YXJnZXQucmVzdWx0O3RyeXtiLmNyZWF0ZU9iamVjdFN0b3JlKGEuR2Mse2tleVBhdGg6YS53Y30pfWNhdGNoKGYpe2MoZil9fTtkLm9uc3VjY2Vzcz1mdW5jdGlvbihhKXtiKGEudGFyZ2V0LnJlc3VsdCl9fSl9LFlnPWZ1bmN0aW9uKGEpe2EubGR8fChhLmxkPVxuWGcoYSkpO3JldHVybiBhLmxkfSxaZz1mdW5jdGlvbihhLGIpe3JldHVybiBiLm9iamVjdFN0b3JlKGEuR2MpfSwkZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIudHJhbnNhY3Rpb24oW2EuR2NdLGM/XCJyZWFkd3JpdGVcIjpcInJlYWRvbmx5XCIpfSxhaD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEMoZnVuY3Rpb24oYixjKXthLm9uc3VjY2Vzcz1mdW5jdGlvbihhKXthJiZhLnRhcmdldD9iKGEudGFyZ2V0LnJlc3VsdCk6YigpfTthLm9uZXJyb3I9ZnVuY3Rpb24oYSl7YyhFcnJvcihhLnRhcmdldC5lcnJvckNvZGUpKX19KX07aD1WZy5wcm90b3R5cGU7XG5oLnNldD1mdW5jdGlvbihhLGIpe3ZhciBjPSExLGQsZT10aGlzO3JldHVybiBhZChZZyh0aGlzKS50aGVuKGZ1bmN0aW9uKGIpe2Q9YjtiPVpnKGUsJGcoZSxkLCEwKSk7cmV0dXJuIGFoKGIuZ2V0KGEpKX0pLnRoZW4oZnVuY3Rpb24oZil7dmFyIGc9WmcoZSwkZyhlLGQsITApKTtpZihmKXJldHVybiBmLnZhbHVlPWIsYWgoZy5wdXQoZikpO2Uuc2IrKztjPSEwO2Y9e307ZltlLndjXT1hO2ZbZS5HZF09YjtyZXR1cm4gYWgoZy5hZGQoZikpfSkudGhlbihmdW5jdGlvbigpe2UuT1thXT1ifSksZnVuY3Rpb24oKXtjJiZlLnNiLS19KX07aC5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gWWcodGhpcykudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYWgoWmcoYiwkZyhiLGMsITEpKS5nZXQoYSkpfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS52YWx1ZX0pfTtcbmgucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPSExLGM9dGhpcztyZXR1cm4gYWQoWWcodGhpcykudGhlbihmdW5jdGlvbihkKXtiPSEwO2Muc2IrKztyZXR1cm4gYWgoWmcoYywkZyhjLGQsITApKVtcImRlbGV0ZVwiXShhKSl9KS50aGVuKGZ1bmN0aW9uKCl7ZGVsZXRlIGMuT1thXX0pLGZ1bmN0aW9uKCl7YiYmYy5zYi0tfSl9O1xuaC5RZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIFlnKHRoaXMpLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9WmcoYSwkZyhhLGIsITEpKTtyZXR1cm4gYy5nZXRBbGw/YWgoYy5nZXRBbGwoKSk6bmV3IEMoZnVuY3Rpb24oYSxiKXt2YXIgZD1bXSxlPWMub3BlbkN1cnNvcigpO2Uub25zdWNjZXNzPWZ1bmN0aW9uKGIpeyhiPWIudGFyZ2V0LnJlc3VsdCk/KGQucHVzaChiLnZhbHVlKSxiW1wiY29udGludWVcIl0oKSk6YShkKX07ZS5vbmVycm9yPWZ1bmN0aW9uKGEpe2IoRXJyb3IoYS50YXJnZXQuZXJyb3JDb2RlKSl9fSl9KS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjPXt9LGQ9W107aWYoMD09YS5zYil7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKyljW2JbZF1bYS53Y11dPWJbZF1bYS5HZF07ZD1LZShhLk8sYyk7YS5PPWN9cmV0dXJuIGR9KX07aC5KYT1mdW5jdGlvbihhKXswPT10aGlzLnhiLmxlbmd0aCYmdGhpcy5UYygpO3RoaXMueGIucHVzaChhKX07XG5oLllhPWZ1bmN0aW9uKGEpe0xhKHRoaXMueGIsZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9KTswPT10aGlzLnhiLmxlbmd0aCYmdGhpcy5pYygpfTtoLlRjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmljKCk7dmFyIGI9ZnVuY3Rpb24oKXthLktjPVlkKDgwMCkudGhlbihxKGEuUWUsYSkpLnRoZW4oZnVuY3Rpb24oYil7MDxiLmxlbmd0aCYmeChhLnhiLGZ1bmN0aW9uKGEpe2EoYil9KX0pLnRoZW4oYikuZyhmdW5jdGlvbihhKXtcIlNUT1BfRVZFTlRcIiE9YS5tZXNzYWdlJiZiKCl9KTtyZXR1cm4gYS5LY307YigpfTtoLmljPWZ1bmN0aW9uKCl7dGhpcy5LYyYmdGhpcy5LYy5jYW5jZWwoXCJTVE9QX0VWRU5UXCIpfTt2YXIgZWg9ZnVuY3Rpb24oKXt0aGlzLmRkPXtCcm93c2VyOmJoLE5vZGU6Y2gsUmVhY3ROYXRpdmU6ZGh9W04oKV19LGZoLGJoPXtYOlJnLFZjOlVnfSxjaD17WDpSZyxWYzpVZ30sZGg9e1g6T2csVmM6U2d9O3ZhciBnaD1mdW5jdGlvbihhKXt2YXIgYj17fSxjPWEuZW1haWwsZD1hLm5ld0VtYWlsO2E9YS5yZXF1ZXN0VHlwZTtpZighY3x8IWEpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIHVzZXIgaW5mbyFcIik7Yi5mcm9tRW1haWw9ZHx8bnVsbDtiLmVtYWlsPWM7Tyh0aGlzLFwib3BlcmF0aW9uXCIsYSk7Tyh0aGlzLFwiZGF0YVwiLGxmKGIpKX07dmFyIGhoPVwiRmlyc3QgU2Vjb25kIFRoaXJkIEZvdXJ0aCBGaWZ0aCBTaXh0aCBTZXZlbnRoIEVpZ2h0aCBOaW50aFwiLnNwbGl0KFwiIFwiKSxTPWZ1bmN0aW9uKGEsYil7cmV0dXJue25hbWU6YXx8XCJcIixlYTpcImEgdmFsaWQgc3RyaW5nXCIsb3B0aW9uYWw6ISFiLGZhOm59fSxUPWZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmF8fFwiXCIsZWE6XCJhIHZhbGlkIG9iamVjdFwiLG9wdGlvbmFsOiExLGZhOmdhfX0saWg9ZnVuY3Rpb24oYSxiKXtyZXR1cm57bmFtZTphfHxcIlwiLGVhOlwiYSBmdW5jdGlvblwiLG9wdGlvbmFsOiEhYixmYTpwfX0samg9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcIlwiLGVhOlwibnVsbFwiLG9wdGlvbmFsOiExLGZhOmNhfX0sa2g9ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcImNyZWRlbnRpYWxcIixlYTpcImEgdmFsaWQgY3JlZGVudGlhbFwiLG9wdGlvbmFsOiExLGZhOmZ1bmN0aW9uKGEpe3JldHVybiEoIWF8fCFhLkliKX19fSxsaD1mdW5jdGlvbigpe3JldHVybntuYW1lOlwiYXV0aFByb3ZpZGVyXCIsXG5lYTpcImEgdmFsaWQgQXV0aCBwcm92aWRlclwiLG9wdGlvbmFsOiExLGZhOmZ1bmN0aW9uKGEpe3JldHVybiEhKGEmJmEucHJvdmlkZXJJZCYmYS5oYXNPd25Qcm9wZXJ0eSYmYS5oYXNPd25Qcm9wZXJ0eShcImlzT0F1dGhQcm92aWRlclwiKSl9fX0sbWg9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJue25hbWU6Y3x8XCJcIixlYTphLmVhK1wiIG9yIFwiK2IuZWEsb3B0aW9uYWw6ISFkLGZhOmZ1bmN0aW9uKGMpe3JldHVybiBhLmZhKGMpfHxiLmZhKGMpfX19O3ZhciBvaD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBiKXt2YXIgZD1iW2NdLm5hbWU7YVtkXT1uaChkLGFbY10sYltjXS5hKX19LFU9ZnVuY3Rpb24oYSxiLGMsZCl7YVtiXT1uaChiLGMsZCl9LG5oPWZ1bmN0aW9uKGEsYixjKXtpZighYylyZXR1cm4gYjt2YXIgZD1waChhKTthPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxlO2E6e2U9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSk7dmFyIGs7az0wO2Zvcih2YXIgdD0hMSxwYT0wO3BhPGMubGVuZ3RoO3BhKyspaWYoY1twYV0ub3B0aW9uYWwpdD0hMDtlbHNle2lmKHQpdGhyb3cgbmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiLFwiQXJndW1lbnQgdmFsaWRhdG9yIGVuY291bnRlcmVkIGEgcmVxdWlyZWQgYXJndW1lbnQgYWZ0ZXIgYW4gb3B0aW9uYWwgYXJndW1lbnQuXCIpO2srK310PWMubGVuZ3RoO2lmKGUubGVuZ3RoPGt8fHQ8ZS5sZW5ndGgpZT1cIkV4cGVjdGVkIFwiKyhrPT1cbnQ/MT09az9cIjEgYXJndW1lbnRcIjprK1wiIGFyZ3VtZW50c1wiOmsrXCItXCIrdCtcIiBhcmd1bWVudHNcIikrXCIgYnV0IGdvdCBcIitlLmxlbmd0aCtcIi5cIjtlbHNle2ZvcihrPTA7azxlLmxlbmd0aDtrKyspaWYodD1jW2tdLm9wdGlvbmFsJiZ2b2lkIDA9PT1lW2tdLCFjW2tdLmZhKGVba10pJiYhdCl7ZT1jW2tdO2lmKDA+a3x8az49aGgubGVuZ3RoKXRocm93IG5ldyBQKFwiaW50ZXJuYWwtZXJyb3JcIixcIkFyZ3VtZW50IHZhbGlkYXRvciByZWNlaXZlZCBhbiB1bnN1cHBvcnRlZCBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtlPWhoW2tdK1wiIGFyZ3VtZW50IFwiKyhlLm5hbWU/J1wiJytlLm5hbWUrJ1wiICc6XCJcIikrXCJtdXN0IGJlIFwiK2UuZWErXCIuXCI7YnJlYWsgYX1lPW51bGx9fWlmKGUpdGhyb3cgbmV3IFAoXCJhcmd1bWVudC1lcnJvclwiLGQrXCIgZmFpbGVkOiBcIitlKTtyZXR1cm4gYi5hcHBseSh0aGlzLGEpfTtmb3IodmFyIGUgaW4gYilhW2VdPWJbZV07Zm9yKGUgaW4gYi5wcm90b3R5cGUpYS5wcm90b3R5cGVbZV09XG5iLnByb3RvdHlwZVtlXTtyZXR1cm4gYX0scGg9ZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiLlwiKTtyZXR1cm4gYVthLmxlbmd0aC0xXX07dmFyIHFoPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuRGU9YTt0aGlzLnlkPWI7dGhpcy5KZT1jO3RoaXMuYmI9ZDt0aGlzLk49e307Zmh8fChmaD1uZXcgZWgpO2E9Zmg7dHJ5e3ZhciBlO0llKCk/KFdnfHwoV2c9bmV3IFZnKFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VEYlwiLFwiZmlyZWJhc2VMb2NhbFN0b3JhZ2VcIixcImZiYXNlX2tleVwiLFwidmFsdWVcIiwxKSksZT1XZyk6ZT1uZXcgYS5kZC5YO3RoaXMuVGE9ZX1jYXRjaChmKXt0aGlzLlRhPW5ldyBQZyx0aGlzLmJiPSEwfXRyeXt0aGlzLmtjPW5ldyBhLmRkLlZjfWNhdGNoKGYpe3RoaXMua2M9bmV3IFBnfXRoaXMuQmQ9cSh0aGlzLkNkLHRoaXMpO3RoaXMuTz17fX0scmgsc2g9ZnVuY3Rpb24oKXtyaHx8KHJoPW5ldyBxaChcImZpcmViYXNlXCIsXCI6XCIsIWNmKE0oKSkmJmwud2luZG93JiZsLndpbmRvdyE9bC53aW5kb3cudG9wPyEwOiExLFplKCkpKTtyZXR1cm4gcmh9O2g9cWgucHJvdG90eXBlO1xuaC5LPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuRGUrdGhpcy55ZCthLm5hbWUrKGI/dGhpcy55ZCtiOlwiXCIpfTtoLmdldD1mdW5jdGlvbihhLGIpe3JldHVybihhLlg/dGhpcy5UYTp0aGlzLmtjKS5nZXQodGhpcy5LKGEsYikpfTtoLnJlbW92ZT1mdW5jdGlvbihhLGIpe2I9dGhpcy5LKGEsYik7YS5YJiYhdGhpcy5iYiYmKHRoaXMuT1tiXT1udWxsKTtyZXR1cm4oYS5YP3RoaXMuVGE6dGhpcy5rYykucmVtb3ZlKGIpfTtoLnNldD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5LKGEsYyksZT10aGlzLGY9YS5YP3RoaXMuVGE6dGhpcy5rYztyZXR1cm4gZi5zZXQoZCxiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGYuZ2V0KGQpfSkudGhlbihmdW5jdGlvbihiKXthLlgmJiF0aGlzLmJiJiYoZS5PW2RdPWIpfSl9O1xuaC5hZGRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7YT10aGlzLksoYSxiKTt0aGlzLmJifHwodGhpcy5PW2FdPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oYSkpO1JhKHRoaXMuTikmJnRoaXMuVGMoKTt0aGlzLk5bYV18fCh0aGlzLk5bYV09W10pO3RoaXMuTlthXS5wdXNoKGMpfTtoLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXthPXRoaXMuSyhhLGIpO3RoaXMuTlthXSYmKExhKHRoaXMuTlthXSxmdW5jdGlvbihhKXtyZXR1cm4gYT09Y30pLDA9PXRoaXMuTlthXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLk5bYV0pO1JhKHRoaXMuTikmJnRoaXMuaWMoKX07aC5UYz1mdW5jdGlvbigpe3RoaXMuVGEuSmEodGhpcy5CZCk7dGhpcy5iYnx8dGgodGhpcyl9O1xudmFyIHRoPWZ1bmN0aW9uKGEpe3VoKGEpO2EuRmM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtmb3IodmFyIGIgaW4gYS5OKXt2YXIgYz1sLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGIpO2MhPWEuT1tiXSYmKGEuT1tiXT1jLGM9bmV3IHhiKHt0eXBlOlwic3RvcmFnZVwiLGtleTpiLHRhcmdldDp3aW5kb3csb2xkVmFsdWU6YS5PW2JdLG5ld1ZhbHVlOmN9KSxhLkNkKGMpKX19LDFFMyl9LHVoPWZ1bmN0aW9uKGEpe2EuRmMmJihjbGVhckludGVydmFsKGEuRmMpLGEuRmM9bnVsbCl9O3FoLnByb3RvdHlwZS5pYz1mdW5jdGlvbigpe3RoaXMuVGEuWWEodGhpcy5CZCk7dGhpcy5iYnx8dWgodGhpcyl9O1xucWgucHJvdG90eXBlLkNkPWZ1bmN0aW9uKGEpe2lmKGEmJmEuZ2Upe3ZhciBiPWEubGIua2V5O2lmKHRoaXMuSmUpe3ZhciBjPWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oYik7YT1hLmxiLm5ld1ZhbHVlO2EhPWMmJihhP2wubG9jYWxTdG9yYWdlLnNldEl0ZW0oYixhKTphfHxsLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGIpKX10aGlzLk9bYl09bC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShiKTt0aGlzLlljKGIpfWVsc2UgeChhLHEodGhpcy5ZYyx0aGlzKSl9O3FoLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLk5bYV0mJngodGhpcy5OW2FdLGZ1bmN0aW9uKGEpe2EoKX0pfTt2YXIgdmg9ZnVuY3Rpb24oYSl7dGhpcy5CPWE7dGhpcy53PXNoKCl9LHdoPXtuYW1lOlwicGVuZGluZ1JlZGlyZWN0XCIsWDohMX0seGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudy5zZXQod2gsXCJwZW5kaW5nXCIsYS5CKX0seWg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudy5yZW1vdmUod2gsYS5CKX0semg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudy5nZXQod2gsYS5CKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVyblwicGVuZGluZ1wiPT1hfSl9O3ZhciBWPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnU9YTt0aGlzLmk9Yjt0aGlzLkE9Yzt0aGlzLnliPVtdO3RoaXMuUmE9ITE7dGhpcy5zYz1xKHRoaXMuamUsdGhpcyk7dGhpcy5XYT1uZXcgQWgodGhpcyk7dGhpcy5zZD1uZXcgQmgodGhpcyk7dGhpcy5WYj1uZXcgdmgodGhpcy5pK1wiOlwiK3RoaXMuQSk7dGhpcy5lYj17fTt0aGlzLmViLnVua25vd249dGhpcy5XYTt0aGlzLmViLnNpZ25JblZpYVJlZGlyZWN0PXRoaXMuV2E7dGhpcy5lYi5saW5rVmlhUmVkaXJlY3Q9dGhpcy5XYTt0aGlzLmViLnNpZ25JblZpYVBvcHVwPXRoaXMuc2Q7dGhpcy5lYi5saW5rVmlhUG9wdXA9dGhpcy5zZDt0aGlzLmFhPW5ldyBIZyh0aGlzLnUsdGhpcy5pLHRoaXMuQSxmaXJlYmFzZS5TREtfVkVSU0lPTnx8bnVsbCl9O1xuVi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLlJhPSExO05nKHRoaXMuYWEsdGhpcy5zYyk7dGhpcy5hYT1uZXcgSGcodGhpcy51LHRoaXMuaSx0aGlzLkEsZmlyZWJhc2UuU0RLX1ZFUlNJT058fG51bGwpfTtWLnByb3RvdHlwZS5wYj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5SYXx8KHRoaXMuUmE9ITAsdGhpcy5hYS5pYi5wdXNoKHRoaXMuc2MpKTt2YXIgYj10aGlzLmFhO3JldHVybiBLZyh0aGlzLmFhKS5nKGZ1bmN0aW9uKGMpe2EuYWE9PWImJmEucmVzZXQoKTt0aHJvdyBjO30pfTt2YXIgRGg9ZnVuY3Rpb24oYSl7dmFyIGI9TSgpO1plKGIpfHxjZihiKXx8YS5wYigpO0NoKGEuV2EpfTtcblYucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihhKXtJYSh0aGlzLnliLGEpfHx0aGlzLnliLnB1c2goYSk7aWYoIXRoaXMuUmEpe3ZhciBiPXRoaXM7emgodGhpcy5WYikudGhlbihmdW5jdGlvbihhKXthP3loKGIuVmIpLnRoZW4oZnVuY3Rpb24oKXtiLnBiKCl9KTpEaChiKX0pLmcoZnVuY3Rpb24oKXtEaChiKX0pfX07Vi5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7TGEodGhpcy55YixmdW5jdGlvbihiKXtyZXR1cm4gYj09YX0pfTtWLnByb3RvdHlwZS5qZT1mdW5jdGlvbihhKXtpZighYSl0aHJvdyBuZXcgUChcImludmFsaWQtYXV0aC1ldmVudFwiKTtmb3IodmFyIGI9ITEsYz0wO2M8dGhpcy55Yi5sZW5ndGg7YysrKXt2YXIgZD10aGlzLnliW2NdO2lmKGQuWmMoYS53YSxhLlUpKXsoYj10aGlzLmViW2Eud2FdKSYmYi50ZChhLGQpO2I9ITA7YnJlYWt9fUNoKHRoaXMuV2EpO3JldHVybiBifTtcbnZhciBFaD1uZXcgZWYoMkUzLDFFNCksRmg9bmV3IGVmKDFFNCwzRTQpO1YucHJvdG90eXBlLmdldFJlZGlyZWN0UmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuV2EuZ2V0UmVkaXJlY3RSZXN1bHQoKX07Vi5wcm90b3R5cGUuWWI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzO3JldHVybiB0aGlzLmFhLlliKGEsYixjLGZ1bmN0aW9uKCl7Zi5SYXx8KGYuUmE9ITAsZi5hYS5pYi5wdXNoKGYuc2MpKX0sZnVuY3Rpb24oKXtmLnJlc2V0KCl9LGQsZSl9O1YucHJvdG90eXBlLlpiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU7cmV0dXJuIHhoKHRoaXMuVmIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZC5hYS5aYihhLGIsYykuZyhmdW5jdGlvbihhKXtlPWE7cmV0dXJuIHloKGQuVmIpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBlO30pfSkudGhlbihmdW5jdGlvbigpe30pfSl9O1xuVi5wcm90b3R5cGUuZ2M9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuYWEuZ2MoYyxmdW5jdGlvbihjKXthLkZhKGIsbnVsbCxjLGQpfSxFaC5nZXQoKSl9O3ZhciBHaD17fSxIaD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YitcIjpcIitjO0doW2RdfHwoR2hbZF09bmV3IFYoYSxiLGMpKTtyZXR1cm4gR2hbZF19LEFoPWZ1bmN0aW9uKGEpe3RoaXMudz1hO3RoaXMua2E9bnVsbDt0aGlzLndiPVtdO3RoaXMudmI9W107dGhpcy50YT1udWxsO3RoaXMuTmM9ITF9O0FoLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMua2E9bnVsbDt0aGlzLnRhJiYodGhpcy50YS5jYW5jZWwoKSx0aGlzLnRhPW51bGwpfTtcbkFoLnByb3RvdHlwZS50ZD1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiBFKG5ldyBQKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKTt0aGlzLk5jPSEwO3ZhciBjPWEud2EsZD1hLlUsZT1hLmdldEVycm9yKCkmJlwiYXV0aC93ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiPT1hLmdldEVycm9yKCkuY29kZTtcInVua25vd25cIiE9Y3x8ZT9hPWEuSj90aGlzLkxjKGEsYik6Yi5tYihjLGQpP3RoaXMuTWMoYSxiKTpFKG5ldyBQKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKToodGhpcy5rYT1udWxsLEloKHRoaXMsITEsbnVsbCxudWxsKSxhPUQoKSk7cmV0dXJuIGF9O3ZhciBDaD1mdW5jdGlvbihhKXthLk5jfHwoYS5OYz0hMCxJaChhLCExLG51bGwsbnVsbCkpfTtBaC5wcm90b3R5cGUuTGM9ZnVuY3Rpb24oYSl7dGhpcy5rYT1udWxsO0loKHRoaXMsITAsbnVsbCxhLmdldEVycm9yKCkpO3JldHVybiBEKCl9O1xuQWgucHJvdG90eXBlLk1jPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWEud2E7Yj1iLm1iKGQsYS5VKTt2YXIgZT1hLmZiO2E9YS5mYzt2YXIgZj1cInNpZ25JblZpYVJlZGlyZWN0XCI9PWR8fFwibGlua1ZpYVJlZGlyZWN0XCI9PWQ7dGhpcy50YSYmdGhpcy50YS5jYW5jZWwoKTt0aGlzLmthPW51bGw7cmV0dXJuIGIoZSxhKS50aGVuKGZ1bmN0aW9uKGEpe0loKGMsZixhLG51bGwpfSkuZyhmdW5jdGlvbihhKXtJaChjLGYsbnVsbCxhKX0pfTtcbnZhciBKaD1mdW5jdGlvbihhLGIpe2Eua2E9ZnVuY3Rpb24oKXtyZXR1cm4gRShiKX07aWYoYS52Yi5sZW5ndGgpZm9yKHZhciBjPTA7YzxhLnZiLmxlbmd0aDtjKyspYS52YltjXShiKX0sS2g9ZnVuY3Rpb24oYSxiKXthLmthPWZ1bmN0aW9uKCl7cmV0dXJuIEQoYil9O2lmKGEud2IubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS53Yi5sZW5ndGg7YysrKWEud2JbY10oYil9LEloPWZ1bmN0aW9uKGEsYixjLGQpe2I/ZD9KaChhLGQpOktoKGEsYyk6S2goYSx7dXNlcjpudWxsfSk7YS53Yj1bXTthLnZiPVtdfTtBaC5wcm90b3R5cGUuZ2V0UmVkaXJlY3RSZXN1bHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBuZXcgQyhmdW5jdGlvbihiLGMpe2Eua2E/YS5rYSgpLnRoZW4oYixjKTooYS53Yi5wdXNoKGIpLGEudmIucHVzaChjKSxMaChhKSl9KX07XG52YXIgTGg9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFAoXCJ0aW1lb3V0XCIpO2EudGEmJmEudGEuY2FuY2VsKCk7YS50YT1ZZChGaC5nZXQoKSkudGhlbihmdW5jdGlvbigpe2Eua2F8fEloKGEsITAsbnVsbCxiKX0pfSxCaD1mdW5jdGlvbihhKXt0aGlzLnc9YX07QmgucHJvdG90eXBlLnRkPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIEUobmV3IFAoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpO3ZhciBjPWEud2EsZD1hLlU7cmV0dXJuIGEuSj90aGlzLkxjKGEsYik6Yi5tYihjLGQpP3RoaXMuTWMoYSxiKTpFKG5ldyBQKFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKX07QmgucHJvdG90eXBlLkxjPWZ1bmN0aW9uKGEsYil7Yi5GYShhLndhLG51bGwsYS5nZXRFcnJvcigpLGEuVSk7cmV0dXJuIEQoKX07XG5CaC5wcm90b3R5cGUuTWM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLlUsZD1hLndhO3JldHVybiBiLm1iKGQsYykoYS5mYixhLmZjKS50aGVuKGZ1bmN0aW9uKGEpe2IuRmEoZCxhLG51bGwsYyl9KS5nKGZ1bmN0aW9uKGEpe2IuRmEoZCxudWxsLGEsYyl9KX07dmFyIE1oPWZ1bmN0aW9uKGEpe3RoaXMuZj1hO3RoaXMueGE9dGhpcy5UPW51bGw7dGhpcy5PYT0wfTtNaC5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybnthcGlLZXk6dGhpcy5mLmkscmVmcmVzaFRva2VuOnRoaXMuVCxhY2Nlc3NUb2tlbjp0aGlzLnhhLGV4cGlyYXRpb25UaW1lOnRoaXMuT2F9fTtcbnZhciBPaD1mdW5jdGlvbihhLGIpe3ZhciBjPWIuaWRUb2tlbixkPWIucmVmcmVzaFRva2VuO2I9TmgoYi5leHBpcmVzSW4pO2EueGE9YzthLk9hPWI7YS5UPWR9LE5oPWZ1bmN0aW9uKGEpe3JldHVybiBrYSgpKzFFMypwYXJzZUludChhLDEwKX0sUGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmYoYS5mLGIpLnRoZW4oZnVuY3Rpb24oYil7YS54YT1iLmFjY2Vzc190b2tlbjthLk9hPU5oKGIuZXhwaXJlc19pbik7YS5UPWIucmVmcmVzaF90b2tlbjtyZXR1cm57YWNjZXNzVG9rZW46YS54YSxleHBpcmF0aW9uVGltZTphLk9hLHJlZnJlc2hUb2tlbjphLlR9fSkuZyhmdW5jdGlvbihiKXtcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCI9PWIuY29kZSYmKGEuVD1udWxsKTt0aHJvdyBiO30pfSxRaD1mdW5jdGlvbihhKXtyZXR1cm4hKCFhLnhhfHxhLlQpfTtcbk1oLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbihhKXthPSEhYTtyZXR1cm4gUWgodGhpcyk/RShuZXcgUChcInVzZXItdG9rZW4tZXhwaXJlZFwiKSk6YXx8IXRoaXMueGF8fGthKCk+dGhpcy5PYS0zRTQ/dGhpcy5UP1BoKHRoaXMse2dyYW50X3R5cGU6XCJyZWZyZXNoX3Rva2VuXCIscmVmcmVzaF90b2tlbjp0aGlzLlR9KTpEKG51bGwpOkQoe2FjY2Vzc1Rva2VuOnRoaXMueGEsZXhwaXJhdGlvblRpbWU6dGhpcy5PYSxyZWZyZXNoVG9rZW46dGhpcy5UfSl9O3ZhciBSaD1mdW5jdGlvbihhLGIsYyxkLGUpe2hmKHRoaXMse3VpZDphLGRpc3BsYXlOYW1lOmR8fG51bGwscGhvdG9VUkw6ZXx8bnVsbCxlbWFpbDpjfHxudWxsLHByb3ZpZGVySWQ6Yn0pfSxTaD1mdW5jdGlvbihhLGIpe3diLmNhbGwodGhpcyxhKTtmb3IodmFyIGMgaW4gYil0aGlzW2NdPWJbY119O3IoU2gsd2IpO1xudmFyIFc9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuVz1bXTt0aGlzLmk9YS5hcGlLZXk7dGhpcy5BPWEuYXBwTmFtZTt0aGlzLnU9YS5hdXRoRG9tYWlufHxudWxsO2E9ZmlyZWJhc2UuU0RLX1ZFUlNJT04/VWUoZmlyZWJhc2UuU0RLX1ZFUlNJT04pOm51bGw7dGhpcy5mPW5ldyBSKHRoaXMuaSxudWxsLGEpO3RoaXMuZGE9bmV3IE1oKHRoaXMuZik7VGgodGhpcyxiLmlkVG9rZW4pO09oKHRoaXMuZGEsYik7Tyh0aGlzLFwicmVmcmVzaFRva2VuXCIsdGhpcy5kYS5UKTtVaCh0aGlzLGN8fHt9KTtHLmNhbGwodGhpcyk7dGhpcy5XYj0hMTt0aGlzLnUmJlllKCkmJih0aGlzLmo9SGgodGhpcy51LHRoaXMuaSx0aGlzLkEpKTt0aGlzLmhjPVtdO3RoaXMucmM9RCgpfTtyKFcsRyk7XG5XLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxkPXRoaXM7cmV0dXJuIHRoaXMucmM9dGhpcy5yYy50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZCxjKX0sZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShkLGMpfSl9O1xudmFyIFRoPWZ1bmN0aW9uKGEsYil7YS5tZD1iO08oYSxcIl9sYXRcIixiKX0sVmg9ZnVuY3Rpb24oYSxiKXtMYShhLmhjLGZ1bmN0aW9uKGEpe3JldHVybiBhPT1ifSl9LFdoPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmhjLmxlbmd0aDtjKyspYi5wdXNoKGEuaGNbY10oYSkpO3JldHVybiBZYyhiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX0sWGg9ZnVuY3Rpb24oYSl7YS5qJiYhYS5XYiYmKGEuV2I9ITAsYS5qLnN1YnNjcmliZShhKSl9LFVoPWZ1bmN0aW9uKGEsYil7aGYoYSx7dWlkOmIudWlkLGRpc3BsYXlOYW1lOmIuZGlzcGxheU5hbWV8fG51bGwscGhvdG9VUkw6Yi5waG90b1VSTHx8bnVsbCxlbWFpbDpiLmVtYWlsfHxudWxsLGVtYWlsVmVyaWZpZWQ6Yi5lbWFpbFZlcmlmaWVkfHwhMSxpc0Fub255bW91czpiLmlzQW5vbnltb3VzfHwhMSxwcm92aWRlckRhdGE6W119KX07TyhXLnByb3RvdHlwZSxcInByb3ZpZGVySWRcIixcImZpcmViYXNlXCIpO1xudmFyIFloPWZ1bmN0aW9uKCl7fSxaaD1mdW5jdGlvbihhKXtyZXR1cm4gRCgpLnRoZW4oZnVuY3Rpb24oKXtpZihhLllkKXRocm93IG5ldyBQKFwiYXBwLWRlbGV0ZWRcIik7fSl9LCRoPWZ1bmN0aW9uKGEpe3JldHVybiBFYShhLnByb3ZpZGVyRGF0YSxmdW5jdGlvbihhKXtyZXR1cm4gYS5wcm92aWRlcklkfSl9LGJpPWZ1bmN0aW9uKGEsYil7YiYmKGFpKGEsYi5wcm92aWRlcklkKSxhLnByb3ZpZGVyRGF0YS5wdXNoKGIpKX0sYWk9ZnVuY3Rpb24oYSxiKXtMYShhLnByb3ZpZGVyRGF0YSxmdW5jdGlvbihhKXtyZXR1cm4gYS5wcm92aWRlcklkPT1ifSl9LGNpPWZ1bmN0aW9uKGEsYixjKXsoXCJ1aWRcIiE9Ynx8YykmJmEuaGFzT3duUHJvcGVydHkoYikmJk8oYSxiLGMpfTtcblcucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiIT1hJiYoaGYodGhpcyx7dWlkOmEudWlkLGRpc3BsYXlOYW1lOmEuZGlzcGxheU5hbWUscGhvdG9VUkw6YS5waG90b1VSTCxlbWFpbDphLmVtYWlsLGVtYWlsVmVyaWZpZWQ6YS5lbWFpbFZlcmlmaWVkLGlzQW5vbnltb3VzOmEuaXNBbm9ueW1vdXMscHJvdmlkZXJEYXRhOltdfSkseChhLnByb3ZpZGVyRGF0YSxmdW5jdGlvbihhKXtiaShiLGEpfSksdGhpcy5kYT1hLmRhLE8odGhpcyxcInJlZnJlc2hUb2tlblwiLHRoaXMuZGEuVCkpfTtXLnByb3RvdHlwZS5yZWxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBaaCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGRpKGEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gV2goYSl9KS50aGVuKFloKX0pfTtcbnZhciBkaT1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9YS5pc0Fub255bW91cztyZXR1cm4gZWkoYSxiKS50aGVuKGZ1bmN0aW9uKCl7Y3x8Y2koYSxcImlzQW5vbnltb3VzXCIsITEpO3JldHVybiBifSkuZyhmdW5jdGlvbihiKXtcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCI9PWIuY29kZSYmKGEuZGlzcGF0Y2hFdmVudChuZXcgU2goXCJ1c2VyRGVsZXRlZFwiKSksZmkoYSkpO3Rocm93IGI7fSl9KX07XG5XLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9UWgodGhpcy5kYSk7cmV0dXJuIFpoKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5kYS5nZXRUb2tlbihhKX0pLnRoZW4oZnVuY3Rpb24oYSl7aWYoIWEpdGhyb3cgbmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiKTthLmFjY2Vzc1Rva2VuIT1iLm1kJiYoVGgoYixhLmFjY2Vzc1Rva2VuKSxiLkJhKCkpO2NpKGIsXCJyZWZyZXNoVG9rZW5cIixhLnJlZnJlc2hUb2tlbik7cmV0dXJuIGEuYWNjZXNzVG9rZW59KS5nKGZ1bmN0aW9uKGEpe2lmKFwiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIj09YS5jb2RlJiYhYylyZXR1cm4gV2goYikudGhlbihmdW5jdGlvbigpe2NpKGIsXCJyZWZyZXNoVG9rZW5cIixudWxsKTt0aHJvdyBhO30pO3Rocm93IGE7fSl9O1xudmFyIGdpPWZ1bmN0aW9uKGEsYil7Yi5pZFRva2VuJiZhLm1kIT1iLmlkVG9rZW4mJihPaChhLmRhLGIpLGEuQmEoKSxUaChhLGIuaWRUb2tlbiksY2koYSxcInJlZnJlc2hUb2tlblwiLGEuZGEuVCkpfTtXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgU2goXCJ0b2tlbkNoYW5nZWRcIikpfTt2YXIgZWk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUShhLmYsdWcse2lkVG9rZW46Yn0pLnRoZW4ocShhLkdlLGEpKX07XG5XLnByb3RvdHlwZS5HZT1mdW5jdGlvbihhKXthPWEudXNlcnM7aWYoIWF8fCFhLmxlbmd0aCl0aHJvdyBuZXcgUChcImludGVybmFsLWVycm9yXCIpO2E9YVswXTtVaCh0aGlzLHt1aWQ6YS5sb2NhbElkLGRpc3BsYXlOYW1lOmEuZGlzcGxheU5hbWUscGhvdG9VUkw6YS5waG90b1VybCxlbWFpbDphLmVtYWlsLGVtYWlsVmVyaWZpZWQ6ISFhLmVtYWlsVmVyaWZpZWR9KTtmb3IodmFyIGI9aGkoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWJpKHRoaXMsYltjXSk7Y2kodGhpcyxcImlzQW5vbnltb3VzXCIsISh0aGlzLmVtYWlsJiZhLnBhc3N3b3JkSGFzaCkmJiEodGhpcy5wcm92aWRlckRhdGEmJnRoaXMucHJvdmlkZXJEYXRhLmxlbmd0aCkpfTtcbnZhciBoaT1mdW5jdGlvbihhKXtyZXR1cm4oYT1hLnByb3ZpZGVyVXNlckluZm8pJiZhLmxlbmd0aD9FYShhLGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgUmgoYS5yYXdJZCxhLnByb3ZpZGVySWQsYS5lbWFpbCxhLmRpc3BsYXlOYW1lLGEucGhvdG9VcmwpfSk6W119O1cucHJvdG90eXBlLnJlYXV0aGVudGljYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuYyhhLkliKHRoaXMuZikudGhlbihmdW5jdGlvbihhKXt2YXIgYzthOnt2YXIgZT1hLmlkVG9rZW4uc3BsaXQoXCIuXCIpO2lmKDM9PWUubGVuZ3RoKXtmb3IodmFyIGU9ZVsxXSxmPSg0LWUubGVuZ3RoJTQpJTQsZz0wO2c8ZjtnKyspZSs9XCIuXCI7dHJ5e3ZhciBrPWdjKHJiKGUpKTtpZihrLnN1YiYmay5pc3MmJmsuYXVkJiZrLmV4cCl7Yz1uZXcgdGYoayk7YnJlYWsgYX19Y2F0Y2godCl7fX1jPW51bGx9aWYoIWN8fGIudWlkIT1jLnplKXRocm93IG5ldyBQKFwidXNlci1taXNtYXRjaFwiKTtnaShiLGEpO3JldHVybiBiLnJlbG9hZCgpfSkpfTtcbnZhciBpaT1mdW5jdGlvbihhLGIpe3JldHVybiBkaShhKS50aGVuKGZ1bmN0aW9uKCl7aWYoSWEoJGgoYSksYikpcmV0dXJuIFdoKGEpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBuZXcgUChcInByb3ZpZGVyLWFscmVhZHktbGlua2VkXCIpO30pfSl9O2g9Vy5wcm90b3R5cGU7aC54ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLmMoaWkodGhpcyxhLnByb3ZpZGVyKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0VG9rZW4oKX0pLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGEub2QoYi5mLGMpfSkudGhlbihxKHRoaXMuZmQsdGhpcykpKX07aC5saW5rPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJhKHRoaXMueGUsYSl9O2guZmQ9ZnVuY3Rpb24oYSl7Z2kodGhpcyxhKTt2YXIgYj10aGlzO3JldHVybiB0aGlzLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYn0pfTtcbmguVmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5jKHRoaXMuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBiLmYudXBkYXRlRW1haWwoYyxhKX0pLnRoZW4oZnVuY3Rpb24oYSl7Z2koYixhKTtyZXR1cm4gYi5yZWxvYWQoKX0pKX07aC51cGRhdGVFbWFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yYSh0aGlzLlZlLGEpfTtoLldlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuYyh0aGlzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYi5mLnVwZGF0ZVBhc3N3b3JkKGMsYSl9KS50aGVuKGZ1bmN0aW9uKGEpe2dpKGIsYSk7cmV0dXJuIGIucmVsb2FkKCl9KSl9O2gudXBkYXRlUGFzc3dvcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmEodGhpcy5XZSxhKX07XG5oLlhlPWZ1bmN0aW9uKGEpe2lmKHZvaWQgMD09PWEuZGlzcGxheU5hbWUmJnZvaWQgMD09PWEucGhvdG9VUkwpcmV0dXJuIFpoKHRoaXMpO3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuYyh0aGlzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gYi5mLnVwZGF0ZVByb2ZpbGUoYyx7ZGlzcGxheU5hbWU6YS5kaXNwbGF5TmFtZSxwaG90b1VybDphLnBob3RvVVJMfSl9KS50aGVuKGZ1bmN0aW9uKGEpe2dpKGIsYSk7Y2koYixcImRpc3BsYXlOYW1lXCIsYS5kaXNwbGF5TmFtZXx8bnVsbCk7Y2koYixcInBob3RvVVJMXCIsYS5waG90b1VybHx8bnVsbCk7cmV0dXJuIFdoKGIpfSkudGhlbihZaCkpfTtoLnVwZGF0ZVByb2ZpbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmEodGhpcy5YZSxhKX07XG5oLlVlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuYyhkaSh0aGlzKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBJYSgkaChiKSxhKT9qZyhiLmYsYyxbYV0pLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGM9e307eChhLnByb3ZpZGVyVXNlckluZm98fFtdLGZ1bmN0aW9uKGEpe2NbYS5wcm92aWRlcklkXT0hMH0pO3goJGgoYiksZnVuY3Rpb24oYSl7Y1thXXx8YWkoYixhKX0pO3JldHVybiBXaChiKX0pOldoKGIpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBuZXcgUChcIm5vLXN1Y2gtcHJvdmlkZXJcIik7fSl9KSl9O2gudW5saW5rPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJhKHRoaXMuVWUsYSl9O2guWGQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLmModGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIFEoYS5mLHRnLHtpZFRva2VuOmJ9KX0pLnRoZW4oZnVuY3Rpb24oKXthLmRpc3BhdGNoRXZlbnQobmV3IFNoKFwidXNlckRlbGV0ZWRcIikpfSkpLnRoZW4oZnVuY3Rpb24oKXtmaShhKX0pfTtcbmhbXCJkZWxldGVcIl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYSh0aGlzLlhkKX07aC5aYz1mdW5jdGlvbihhLGIpe3JldHVyblwibGlua1ZpYVBvcHVwXCI9PWEmJih0aGlzLmlhfHxudWxsKT09YiYmdGhpcy5iYXx8XCJsaW5rVmlhUmVkaXJlY3RcIj09YSYmKHRoaXMuYmN8fG51bGwpPT1iPyEwOiExfTtoLkZhPWZ1bmN0aW9uKGEsYixjLGQpe1wibGlua1ZpYVBvcHVwXCI9PWEmJmQ9PSh0aGlzLmlhfHxudWxsKSYmKGMmJnRoaXMuRGE/dGhpcy5EYShjKTpiJiYhYyYmdGhpcy5iYSYmdGhpcy5iYShiKSx0aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpLGRlbGV0ZSB0aGlzLmJhLGRlbGV0ZSB0aGlzLkRhKX07aC5tYj1mdW5jdGlvbihhLGIpe3JldHVyblwibGlua1ZpYVBvcHVwXCI9PWEmJmI9PSh0aGlzLmlhfHxudWxsKXx8XCJsaW5rVmlhUmVkaXJlY3RcIj09YSYmKHRoaXMuYmN8fG51bGwpPT1iP3EodGhpcy5hZSx0aGlzKTpudWxsfTtcbmguSGI9ZnVuY3Rpb24oKXtyZXR1cm4gWGUodGhpcy51aWQrXCI6OjpcIil9O1xudmFyIGtpPWZ1bmN0aW9uKGEsYil7aWYoIVllKCkpcmV0dXJuIEUobmV3IFAoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTt2YXIgYz1vZihiLnByb3ZpZGVySWQpLGQ9YS5IYigpLGU9bnVsbDshWmUoKSYmYS51JiZiLmlzT0F1dGhQcm92aWRlciYmKGU9TWcoYS51LGEuaSxhLkEsXCJsaW5rVmlhUG9wdXBcIixiLG51bGwsZCxmaXJlYmFzZS5TREtfVkVSU0lPTnx8bnVsbCkpO3ZhciBmPVBlKGUsYyYmYy51YixjJiZjLnRiKSxjPWlpKGEsYi5wcm92aWRlcklkKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFdoKGEpfSkudGhlbihmdW5jdGlvbigpe2ppKGEpO3JldHVybiBhLmdldFRva2VuKCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEuai5ZYihmLFwibGlua1ZpYVBvcHVwXCIsYixkLCEhZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGIsYyl7YS5GYShcImxpbmtWaWFQb3B1cFwiLG51bGwsbmV3IFAoXCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdFwiKSxcbmEuaWF8fG51bGwpO2EuYmE9YjthLkRhPWM7YS5pYT1kO2EuQz1hLmouZ2MoYSxcImxpbmtWaWFQb3B1cFwiLGYsZCl9KX0pLnRoZW4oZnVuY3Rpb24oYSl7ZiYmT2UoZik7cmV0dXJuIGF9KS5nKGZ1bmN0aW9uKGEpe2YmJk9lKGYpO3Rocm93IGE7fSk7cmV0dXJuIGEuYyhjKX07Vy5wcm90b3R5cGUubGlua1dpdGhQb3B1cD1mdW5jdGlvbihhKXt2YXIgYj1raSh0aGlzLGEpO3JldHVybiB0aGlzLnJhKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KX07XG5XLnByb3RvdHlwZS55ZT1mdW5jdGlvbihhKXtpZighWWUoKSlyZXR1cm4gRShuZXcgUChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO3ZhciBiPXRoaXMsYz1udWxsLGQ9dGhpcy5IYigpLGU9aWkodGhpcyxhLnByb3ZpZGVySWQpLnRoZW4oZnVuY3Rpb24oKXtqaShiKTtyZXR1cm4gYi5nZXRUb2tlbigpfSkudGhlbihmdW5jdGlvbigpe2IuYmM9ZDtyZXR1cm4gV2goYil9KS50aGVuKGZ1bmN0aW9uKGEpe2IuRWEmJihhPWIuRWEsYT1hLncuc2V0KGxpLGIuRygpLGEuQikpO3JldHVybiBhfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBiLmouWmIoXCJsaW5rVmlhUmVkaXJlY3RcIixhLGQpfSkuZyhmdW5jdGlvbihhKXtjPWE7aWYoYi5FYSlyZXR1cm4gbWkoYi5FYSk7dGhyb3cgYzt9KS50aGVuKGZ1bmN0aW9uKCl7aWYoYyl0aHJvdyBjO30pO3JldHVybiB0aGlzLmMoZSl9O1xuVy5wcm90b3R5cGUubGlua1dpdGhSZWRpcmVjdD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yYSh0aGlzLnllLGEpfTt2YXIgamk9ZnVuY3Rpb24oYSl7aWYoIWEuanx8IWEuV2Ipe2lmKGEuaiYmIWEuV2IpdGhyb3cgbmV3IFAoXCJpbnRlcm5hbC1lcnJvclwiKTt0aHJvdyBuZXcgUChcImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZFwiKTt9fTtXLnByb3RvdHlwZS5hZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy5DJiYodGhpcy5DLmNhbmNlbCgpLHRoaXMuQz1udWxsKTt2YXIgZD1udWxsLGU9dGhpcy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oZCl7cmV0dXJuIHhmKGMuZix7cmVxdWVzdFVyaTphLHNlc3Npb25JZDpiLGlkVG9rZW46ZH0pfSkudGhlbihmdW5jdGlvbihhKXtkPUlmKGEpO3JldHVybiBjLmZkKGEpfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm57dXNlcjphLGNyZWRlbnRpYWw6ZH19KTtyZXR1cm4gdGhpcy5jKGUpfTtcblcucHJvdG90eXBlLnNlbmRFbWFpbFZlcmlmaWNhdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuYyh0aGlzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gYS5mLnNlbmRFbWFpbFZlcmlmaWNhdGlvbihiKX0pLnRoZW4oZnVuY3Rpb24oYil7aWYoYS5lbWFpbCE9YilyZXR1cm4gYS5yZWxvYWQoKX0pLnRoZW4oZnVuY3Rpb24oKXt9KSl9O3ZhciBmaT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEuVy5sZW5ndGg7YisrKWEuV1tiXS5jYW5jZWwoXCJhcHAtZGVsZXRlZFwiKTthLlc9W107YS5ZZD0hMDtPKGEsXCJyZWZyZXNoVG9rZW5cIixudWxsKTthLmomJmEuai51bnN1YnNjcmliZShhKX07Vy5wcm90b3R5cGUuYz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuVy5wdXNoKGEpO2FkKGEsZnVuY3Rpb24oKXtLYShiLlcsYSl9KTtyZXR1cm4gYX07Vy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRygpfTtcblcucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXt2YXIgYT17dWlkOnRoaXMudWlkLGRpc3BsYXlOYW1lOnRoaXMuZGlzcGxheU5hbWUscGhvdG9VUkw6dGhpcy5waG90b1VSTCxlbWFpbDp0aGlzLmVtYWlsLGVtYWlsVmVyaWZpZWQ6dGhpcy5lbWFpbFZlcmlmaWVkLGlzQW5vbnltb3VzOnRoaXMuaXNBbm9ueW1vdXMscHJvdmlkZXJEYXRhOltdLGFwaUtleTp0aGlzLmksYXBwTmFtZTp0aGlzLkEsYXV0aERvbWFpbjp0aGlzLnUsc3RzVG9rZW5NYW5hZ2VyOnRoaXMuZGEuRygpLHJlZGlyZWN0RXZlbnRJZDp0aGlzLmJjfHxudWxsfTt4KHRoaXMucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKGIpe2EucHJvdmlkZXJEYXRhLnB1c2goamYoYikpfSk7cmV0dXJuIGF9O1xudmFyIG5pPWZ1bmN0aW9uKGEpe2lmKCFhLmFwaUtleSlyZXR1cm4gbnVsbDt2YXIgYj17YXBpS2V5OmEuYXBpS2V5LGF1dGhEb21haW46YS5hdXRoRG9tYWluLGFwcE5hbWU6YS5hcHBOYW1lfSxjPXt9O2lmKGEuc3RzVG9rZW5NYW5hZ2VyJiZhLnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbiYmYS5zdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWUpYy5pZFRva2VuPWEuc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuLGMucmVmcmVzaFRva2VuPWEuc3RzVG9rZW5NYW5hZ2VyLnJlZnJlc2hUb2tlbnx8bnVsbCxjLmV4cGlyZXNJbj0oYS5zdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWUta2EoKSkvMUUzO2Vsc2UgcmV0dXJuIG51bGw7dmFyIGQ9bmV3IFcoYixjLGEpO2EucHJvdmlkZXJEYXRhJiZ4KGEucHJvdmlkZXJEYXRhLGZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXt9O2hmKGIsYSk7YmkoZCxiKX19KTthLnJlZGlyZWN0RXZlbnRJZCYmKGQuYmM9YS5yZWRpcmVjdEV2ZW50SWQpO1xucmV0dXJuIGR9LG9pPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgVyhhLGIpO2MmJihkLkVhPWMpO3JldHVybiBkLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZH0pfTt2YXIgcGk9ZnVuY3Rpb24oYSl7dGhpcy5CPWE7dGhpcy53PXNoKCl9LGxpPXtuYW1lOlwicmVkaXJlY3RVc2VyXCIsWDohMX0sbWk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudy5yZW1vdmUobGksYS5CKX0scWk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS53LmdldChsaSxhLkIpLnRoZW4oZnVuY3Rpb24oYSl7YSYmYiYmKGEuYXV0aERvbWFpbj1iKTtyZXR1cm4gbmkoYXx8e30pfSl9O3ZhciByaT1mdW5jdGlvbihhKXt0aGlzLkI9YTt0aGlzLnc9c2goKX0sc2k9e25hbWU6XCJhdXRoVXNlclwiLFg6ITB9LHRpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudy5zZXQoc2ksYi5HKCksYS5CKX0sdWk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudy5yZW1vdmUoc2ksYS5CKX0sdmk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS53LmdldChzaSxhLkIpLnRoZW4oZnVuY3Rpb24oYSl7YSYmYiYmKGEuYXV0aERvbWFpbj1iKTtyZXR1cm4gbmkoYXx8e30pfSl9O3ZhciBZPWZ1bmN0aW9uKGEpe3RoaXMuTWE9ITE7Tyh0aGlzLFwiYXBwXCIsYSk7aWYoWCh0aGlzKS5vcHRpb25zJiZYKHRoaXMpLm9wdGlvbnMuYXBpS2V5KWE9ZmlyZWJhc2UuU0RLX1ZFUlNJT04/VWUoZmlyZWJhc2UuU0RLX1ZFUlNJT04pOm51bGwsdGhpcy5mPW5ldyBSKFgodGhpcykub3B0aW9ucyYmWCh0aGlzKS5vcHRpb25zLmFwaUtleSxudWxsLGEpO2Vsc2UgdGhyb3cgbmV3IFAoXCJpbnZhbGlkLWFwaS1rZXlcIik7dGhpcy5XPVtdO3RoaXMuS2E9W107dGhpcy5FZT1maXJlYmFzZS5JTlRFUk5BTC5jcmVhdGVTdWJzY3JpYmUocSh0aGlzLnNlLHRoaXMpKTt3aSh0aGlzLG51bGwpO3RoaXMubWE9bmV3IHJpKFgodGhpcykub3B0aW9ucy5hcGlLZXkrXCI6XCIrWCh0aGlzKS5uYW1lKTt0aGlzLlhhPW5ldyBwaShYKHRoaXMpLm9wdGlvbnMuYXBpS2V5K1wiOlwiK1godGhpcykubmFtZSk7dGhpcy5EYj10aGlzLmMoeGkodGhpcykpO3RoaXMuc2E9dGhpcy5jKHlpKHRoaXMpKTt0aGlzLkVjPVxuITE7dGhpcy5CYz1xKHRoaXMuUGUsdGhpcyk7dGhpcy5FZD1xKHRoaXMuUWEsdGhpcyk7dGhpcy5GZD1xKHRoaXMub2UsdGhpcyk7dGhpcy5EZD1xKHRoaXMubmUsdGhpcyk7emkodGhpcyk7dGhpcy5JTlRFUk5BTD17fTt0aGlzLklOVEVSTkFMW1wiZGVsZXRlXCJdPXEodGhpc1tcImRlbGV0ZVwiXSx0aGlzKX07WS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue2FwaUtleTpYKHRoaXMpLm9wdGlvbnMuYXBpS2V5LGF1dGhEb21haW46WCh0aGlzKS5vcHRpb25zLmF1dGhEb21haW4sYXBwTmFtZTpYKHRoaXMpLm5hbWUsY3VycmVudFVzZXI6Wih0aGlzKSYmWih0aGlzKS5HKCl9fTtcbnZhciBBaT1mdW5jdGlvbihhKXtyZXR1cm4gYS5aZHx8RShuZXcgUChcImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZFwiKSl9LHppPWZ1bmN0aW9uKGEpe3ZhciBiPVgoYSkub3B0aW9ucy5hdXRoRG9tYWluLGM9WChhKS5vcHRpb25zLmFwaUtleTtiJiZZZSgpJiYoYS5aZD1hLkRiLnRoZW4oZnVuY3Rpb24oKXtpZighYS5NYSlyZXR1cm4gYS5qPUhoKGIsYyxYKGEpLm5hbWUpLGEuai5zdWJzY3JpYmUoYSksWihhKSYmWGgoWihhKSksYS5QYyYmKFhoKGEuUGMpLGEuUGM9bnVsbCksYS5qfSkpfTtoPVkucHJvdG90eXBlO2guWmM9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBcInVua25vd25cIjpjYXNlIFwic2lnbkluVmlhUmVkaXJlY3RcIjpyZXR1cm4hMDtjYXNlIFwic2lnbkluVmlhUG9wdXBcIjpyZXR1cm4gdGhpcy5pYT09YiYmISF0aGlzLmJhO2RlZmF1bHQ6cmV0dXJuITF9fTtcbmguRmE9ZnVuY3Rpb24oYSxiLGMsZCl7XCJzaWduSW5WaWFQb3B1cFwiPT1hJiZ0aGlzLmlhPT1kJiYoYyYmdGhpcy5EYT90aGlzLkRhKGMpOmImJiFjJiZ0aGlzLmJhJiZ0aGlzLmJhKGIpLHRoaXMuQyYmKHRoaXMuQy5jYW5jZWwoKSx0aGlzLkM9bnVsbCksZGVsZXRlIHRoaXMuYmEsZGVsZXRlIHRoaXMuRGEpfTtoLm1iPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJzaWduSW5WaWFSZWRpcmVjdFwiPT1hfHxcInNpZ25JblZpYVBvcHVwXCI9PWEmJnRoaXMuaWE9PWImJnRoaXMuYmE/cSh0aGlzLmJlLHRoaXMpOm51bGx9O1xuaC5iZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YT17cmVxdWVzdFVyaTphLHNlc3Npb25JZDpifTt0aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpO3ZhciBkPW51bGwsZT12ZihjLmYsYSkudGhlbihmdW5jdGlvbihhKXtkPUlmKGEpO3JldHVybiBhfSk7YT1jLkRiLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIEJpKGMsYSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJue3VzZXI6WihjKSxjcmVkZW50aWFsOmR9fSk7cmV0dXJuIHRoaXMuYyhhKX07aC5IYj1mdW5jdGlvbigpe3JldHVybiBYZSgpfTtcbmguc2lnbkluV2l0aFBvcHVwPWZ1bmN0aW9uKGEpe2lmKCFZZSgpKXJldHVybiBFKG5ldyBQKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGI9dGhpcyxjPW9mKGEucHJvdmlkZXJJZCksZD10aGlzLkhiKCksZT1udWxsOyFaZSgpJiZYKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbiYmYS5pc09BdXRoUHJvdmlkZXImJihlPU1nKFgodGhpcykub3B0aW9ucy5hdXRoRG9tYWluLFgodGhpcykub3B0aW9ucy5hcGlLZXksWCh0aGlzKS5uYW1lLFwic2lnbkluVmlhUG9wdXBcIixhLG51bGwsZCxmaXJlYmFzZS5TREtfVkVSU0lPTnx8bnVsbCkpO3ZhciBmPVBlKGUsYyYmYy51YixjJiZjLnRiKSxjPUFpKHRoaXMpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGIuWWIoZixcInNpZ25JblZpYVBvcHVwXCIsYSxkLCEhZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDKGZ1bmN0aW9uKGEsYyl7Yi5GYShcInNpZ25JblZpYVBvcHVwXCIsbnVsbCxuZXcgUChcImNhbmNlbGxlZC1wb3B1cC1yZXF1ZXN0XCIpLFxuYi5pYSk7Yi5iYT1hO2IuRGE9YztiLmlhPWQ7Yi5DPWIuai5nYyhiLFwic2lnbkluVmlhUG9wdXBcIixmLGQpfSl9KS50aGVuKGZ1bmN0aW9uKGEpe2YmJk9lKGYpO3JldHVybiBhfSkuZyhmdW5jdGlvbihhKXtmJiZPZShmKTt0aHJvdyBhO30pO3JldHVybiB0aGlzLmMoYyl9O2guc2lnbkluV2l0aFJlZGlyZWN0PWZ1bmN0aW9uKGEpe2lmKCFZZSgpKXJldHVybiBFKG5ldyBQKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGI9dGhpcyxjPUFpKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5qLlpiKFwic2lnbkluVmlhUmVkaXJlY3RcIixhKX0pO3JldHVybiB0aGlzLmMoYyl9O1xuaC5nZXRSZWRpcmVjdFJlc3VsdD1mdW5jdGlvbigpe2lmKCFZZSgpKXJldHVybiBFKG5ldyBQKFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7dmFyIGE9dGhpcyxiPUFpKHRoaXMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5qLmdldFJlZGlyZWN0UmVzdWx0KCl9KTtyZXR1cm4gdGhpcy5jKGIpfTtcbnZhciBCaT1mdW5jdGlvbihhLGIpe3ZhciBjPXt9O2MuYXBpS2V5PVgoYSkub3B0aW9ucy5hcGlLZXk7Yy5hdXRoRG9tYWluPVgoYSkub3B0aW9ucy5hdXRoRG9tYWluO2MuYXBwTmFtZT1YKGEpLm5hbWU7cmV0dXJuIGEuRGIudGhlbihmdW5jdGlvbigpe3JldHVybiBvaShjLGIsYS5YYSl9KS50aGVuKGZ1bmN0aW9uKGIpe2lmKFooYSkmJmIudWlkPT1aKGEpLnVpZClyZXR1cm4gWihhKS5jb3B5KGIpLGEuUWEoYik7d2koYSxiKTtYaChiKTtyZXR1cm4gYS5RYShiKX0pLnRoZW4oZnVuY3Rpb24oKXthLkJhKCl9KX0sd2k9ZnVuY3Rpb24oYSxiKXtaKGEpJiYoVmgoWihhKSxhLkVkKSxSYihaKGEpLFwidG9rZW5DaGFuZ2VkXCIsYS5GZCksUmIoWihhKSxcInVzZXJEZWxldGVkXCIsYS5EZCkpO2ImJihiLmhjLnB1c2goYS5FZCksSWIoYixcInRva2VuQ2hhbmdlZFwiLGEuRmQpLEliKGIsXCJ1c2VyRGVsZXRlZFwiLGEuRGQpKTtPKGEsXCJjdXJyZW50VXNlclwiLGIpfTtcblkucHJvdG90eXBlLnNpZ25PdXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9dGhpcy5zYS50aGVuKGZ1bmN0aW9uKCl7aWYoIVooYSkpcmV0dXJuIEQoKTt3aShhLG51bGwpO3JldHVybiB1aShhLm1hKS50aGVuKGZ1bmN0aW9uKCl7YS5CYSgpfSl9KTtyZXR1cm4gdGhpcy5jKGIpfTtcbnZhciBDaT1mdW5jdGlvbihhKXt2YXIgYj1xaShhLlhhLFgoYSkub3B0aW9ucy5hdXRoRG9tYWluKS50aGVuKGZ1bmN0aW9uKGIpe2lmKGEuUGM9YiliLkVhPWEuWGE7cmV0dXJuIG1pKGEuWGEpfSk7cmV0dXJuIGEuYyhiKX0seGk9ZnVuY3Rpb24oYSl7dmFyIGI9WChhKS5vcHRpb25zLmF1dGhEb21haW4sYz1DaShhKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHZpKGEubWEsYil9KS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBiPyhiLkVhPWEuWGEsYi5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHRpKGEubWEsYikudGhlbihmdW5jdGlvbigpe3JldHVybiBifSl9KS5nKGZ1bmN0aW9uKGMpe3JldHVyblwiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCI9PWMuY29kZT9iOnVpKGEubWEpfSkpOm51bGx9KS50aGVuKGZ1bmN0aW9uKGIpe3dpKGEsYnx8bnVsbCl9KTtyZXR1cm4gYS5jKGMpfSx5aT1mdW5jdGlvbihhKXtyZXR1cm4gYS5EYi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2V0UmVkaXJlY3RSZXN1bHQoKX0pLmcoZnVuY3Rpb24oKXt9KS50aGVuKGZ1bmN0aW9uKCl7aWYoIWEuTWEpcmV0dXJuIGEuQmMoKX0pLmcoZnVuY3Rpb24oKXt9KS50aGVuKGZ1bmN0aW9uKCl7aWYoIWEuTWEpe2EuRWM9XG4hMDt2YXIgYj1hLm1hO2Iudy5hZGRMaXN0ZW5lcihzaSxiLkIsYS5CYyl9fSl9O1kucHJvdG90eXBlLlBlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdmkodGhpcy5tYSxYKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbikudGhlbihmdW5jdGlvbihiKXtpZighYS5NYSl7dmFyIGM7aWYoYz1aKGEpJiZiKXtjPVooYSkudWlkO3ZhciBkPWIudWlkO2M9dm9pZCAwPT09Y3x8bnVsbD09PWN8fFwiXCI9PT1jfHx2b2lkIDA9PT1kfHxudWxsPT09ZHx8XCJcIj09PWQ/ITE6Yz09ZH1pZihjKXJldHVybiBaKGEpLmNvcHkoYiksWihhKS5nZXRUb2tlbigpO2lmKFooYSl8fGIpd2koYSxiKSxiJiYoWGgoYiksYi5FYT1hLlhhKSxhLmomJmEuai5zdWJzY3JpYmUoYSksYS5CYSgpfX0pfTtZLnByb3RvdHlwZS5RYT1mdW5jdGlvbihhKXtyZXR1cm4gdGkodGhpcy5tYSxhKX07WS5wcm90b3R5cGUub2U9ZnVuY3Rpb24oKXt0aGlzLkJhKCk7dGhpcy5RYShaKHRoaXMpKX07XG5ZLnByb3RvdHlwZS5uZT1mdW5jdGlvbigpe3RoaXMuc2lnbk91dCgpfTt2YXIgRGk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jKGIudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gQmkoYSxiKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gWihhKX0pKX07aD1ZLnByb3RvdHlwZTtoLnNlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5hZGRBdXRoVG9rZW5MaXN0ZW5lcihmdW5jdGlvbigpe2EubmV4dChaKGIpKX0pfTtoLm9uQXV0aFN0YXRlQ2hhbmdlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpczt0aGlzLkVjJiZmaXJlYmFzZS5Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cChhKT9hKFooZCkpOnAoYS5uZXh0KSYmYS5uZXh0KFooZCkpfSk7cmV0dXJuIHRoaXMuRWUoYSxiLGMpfTtcbmguZ2V0VG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuc2EudGhlbihmdW5jdGlvbigpe3JldHVybiBaKGIpP1ooYikuZ2V0VG9rZW4oYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm57YWNjZXNzVG9rZW46YX19KTpudWxsfSk7cmV0dXJuIHRoaXMuYyhjKX07aC5zaWduSW5XaXRoQ3VzdG9tVG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5zYS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIERpKGIsUShiLmYsdmcse3Rva2VuOmF9KSl9KS50aGVuKGZ1bmN0aW9uKGEpe2NpKGEsXCJpc0Fub255bW91c1wiLCExKTtyZXR1cm4gYi5RYShhKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gWihiKX0pfTtoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gdGhpcy5zYS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIERpKGMsUShjLmYsRWYse2VtYWlsOmEscGFzc3dvcmQ6Yn0pKX0pfTtcbmguY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4gdGhpcy5zYS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIERpKGMsUShjLmYsc2cse2VtYWlsOmEscGFzc3dvcmQ6Yn0pKX0pfTtoLnNpZ25JbldpdGhDcmVkZW50aWFsPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIHRoaXMuc2EudGhlbihmdW5jdGlvbigpe3JldHVybiBEaShiLGEuSWIoYi5mKSl9KX07aC5zaWduSW5Bbm9ueW1vdXNseT1mdW5jdGlvbigpe3ZhciBhPVoodGhpcyksYj10aGlzO3JldHVybiBhJiZhLmlzQW5vbnltb3VzP0QoYSk6dGhpcy5zYS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIERpKGIsYi5mLnNpZ25JbkFub255bW91c2x5KCkpfSkudGhlbihmdW5jdGlvbihhKXtjaShhLFwiaXNBbm9ueW1vdXNcIiwhMCk7cmV0dXJuIGIuUWEoYSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFooYil9KX07XG52YXIgWD1mdW5jdGlvbihhKXtyZXR1cm4gYS5hcHB9LFo9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3VycmVudFVzZXJ9O2g9WS5wcm90b3R5cGU7aC5CYT1mdW5jdGlvbigpe2lmKHRoaXMuRWMpZm9yKHZhciBhPTA7YTx0aGlzLkthLmxlbmd0aDthKyspaWYodGhpcy5LYVthXSl0aGlzLkthW2FdKFoodGhpcykmJloodGhpcykuX2xhdHx8bnVsbCl9O2guYWRkQXV0aFRva2VuTGlzdGVuZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLkthLnB1c2goYSk7dGhpcy5jKHRoaXMuc2EudGhlbihmdW5jdGlvbigpe2IuTWF8fElhKGIuS2EsYSkmJmEoWihiKSYmWihiKS5fbGF0fHxudWxsKX0pKX07aC5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcj1mdW5jdGlvbihhKXtMYSh0aGlzLkthLGZ1bmN0aW9uKGIpe3JldHVybiBiPT1hfSl9O1xuaFtcImRlbGV0ZVwiXT1mdW5jdGlvbigpe3RoaXMuTWE9ITA7Zm9yKHZhciBhPTA7YTx0aGlzLlcubGVuZ3RoO2ErKyl0aGlzLldbYV0uY2FuY2VsKFwiYXBwLWRlbGV0ZWRcIik7dGhpcy5XPVtdO3RoaXMubWEmJihhPXRoaXMubWEsYS53LnJlbW92ZUxpc3RlbmVyKHNpLGEuQix0aGlzLkJjKSk7dGhpcy5qJiZ0aGlzLmoudW5zdWJzY3JpYmUodGhpcyk7cmV0dXJuIGZpcmViYXNlLlByb21pc2UucmVzb2x2ZSgpfTtoLmM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLlcucHVzaChhKTthZChhLGZ1bmN0aW9uKCl7S2EoYi5XLGEpfSk7cmV0dXJuIGF9O2guZmV0Y2hQcm92aWRlcnNGb3JFbWFpbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jKCRmKHRoaXMuZixhKSl9O2gudmVyaWZ5UGFzc3dvcmRSZXNldENvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2hlY2tBY3Rpb25Db2RlKGEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YS5lbWFpbH0pfTtcbmguY29uZmlybVBhc3N3b3JkUmVzZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jKHRoaXMuZi5jb25maXJtUGFzc3dvcmRSZXNldChhLGIpLnRoZW4oZnVuY3Rpb24oKXt9KSl9O2guY2hlY2tBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmModGhpcy5mLmNoZWNrQWN0aW9uQ29kZShhKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZ2goYSl9KSl9O2guYXBwbHlBY3Rpb25Db2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmModGhpcy5mLmFwcGx5QWN0aW9uQ29kZShhKS50aGVuKGZ1bmN0aW9uKCl7fSkpfTtoLnNlbmRQYXNzd29yZFJlc2V0RW1haWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYyh0aGlzLmYuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhKS50aGVuKGZ1bmN0aW9uKCl7fSkpfTtvaChZLnByb3RvdHlwZSx7YXBwbHlBY3Rpb25Db2RlOntuYW1lOlwiYXBwbHlBY3Rpb25Db2RlXCIsYTpbUyhcImNvZGVcIildfSxjaGVja0FjdGlvbkNvZGU6e25hbWU6XCJjaGVja0FjdGlvbkNvZGVcIixhOltTKFwiY29kZVwiKV19LGNvbmZpcm1QYXNzd29yZFJlc2V0OntuYW1lOlwiY29uZmlybVBhc3N3b3JkUmVzZXRcIixhOltTKFwiY29kZVwiKSxTKFwibmV3UGFzc3dvcmRcIildfSxjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQ6e25hbWU6XCJjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmRcIixhOltTKFwiZW1haWxcIiksUyhcInBhc3N3b3JkXCIpXX0sZmV0Y2hQcm92aWRlcnNGb3JFbWFpbDp7bmFtZTpcImZldGNoUHJvdmlkZXJzRm9yRW1haWxcIixhOltTKFwiZW1haWxcIildfSxnZXRSZWRpcmVjdFJlc3VsdDp7bmFtZTpcImdldFJlZGlyZWN0UmVzdWx0XCIsYTpbXX0sb25BdXRoU3RhdGVDaGFuZ2VkOntuYW1lOlwib25BdXRoU3RhdGVDaGFuZ2VkXCIsYTpbbWgoVCgpLGloKCksXCJuZXh0T3JPYnNlcnZlclwiKSxcbmloKFwib3B0X2Vycm9yXCIsITApLGloKFwib3B0X2NvbXBsZXRlZFwiLCEwKV19LHNlbmRQYXNzd29yZFJlc2V0RW1haWw6e25hbWU6XCJzZW5kUGFzc3dvcmRSZXNldEVtYWlsXCIsYTpbUyhcImVtYWlsXCIpXX0sc2lnbkluQW5vbnltb3VzbHk6e25hbWU6XCJzaWduSW5Bbm9ueW1vdXNseVwiLGE6W119LHNpZ25JbldpdGhDcmVkZW50aWFsOntuYW1lOlwic2lnbkluV2l0aENyZWRlbnRpYWxcIixhOltraCgpXX0sc2lnbkluV2l0aEN1c3RvbVRva2VuOntuYW1lOlwic2lnbkluV2l0aEN1c3RvbVRva2VuXCIsYTpbUyhcInRva2VuXCIpXX0sc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQ6e25hbWU6XCJzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZFwiLGE6W1MoXCJlbWFpbFwiKSxTKFwicGFzc3dvcmRcIildfSxzaWduSW5XaXRoUG9wdXA6e25hbWU6XCJzaWduSW5XaXRoUG9wdXBcIixhOltsaCgpXX0sc2lnbkluV2l0aFJlZGlyZWN0OntuYW1lOlwic2lnbkluV2l0aFJlZGlyZWN0XCIsYTpbbGgoKV19LHNpZ25PdXQ6e25hbWU6XCJzaWduT3V0XCIsXG5hOltdfSx0b0pTT046e25hbWU6XCJ0b0pTT05cIixhOltTKG51bGwsITApXX0sdmVyaWZ5UGFzc3dvcmRSZXNldENvZGU6e25hbWU6XCJ2ZXJpZnlQYXNzd29yZFJlc2V0Q29kZVwiLGE6W1MoXCJjb2RlXCIpXX19KTtcbm9oKFcucHJvdG90eXBlLHtcImRlbGV0ZVwiOntuYW1lOlwiZGVsZXRlXCIsYTpbXX0sZ2V0VG9rZW46e25hbWU6XCJnZXRUb2tlblwiLGE6W3tuYW1lOlwib3B0X2ZvcmNlUmVmcmVzaFwiLGVhOlwiYSBib29sZWFuXCIsb3B0aW9uYWw6ITAsZmE6ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhfX1dfSxsaW5rOntuYW1lOlwibGlua1wiLGE6W2toKCldfSxsaW5rV2l0aFBvcHVwOntuYW1lOlwibGlua1dpdGhQb3B1cFwiLGE6W2xoKCldfSxsaW5rV2l0aFJlZGlyZWN0OntuYW1lOlwibGlua1dpdGhSZWRpcmVjdFwiLGE6W2xoKCldfSxyZWF1dGhlbnRpY2F0ZTp7bmFtZTpcInJlYXV0aGVudGljYXRlXCIsYTpba2goKV19LHJlbG9hZDp7bmFtZTpcInJlbG9hZFwiLGE6W119LHNlbmRFbWFpbFZlcmlmaWNhdGlvbjp7bmFtZTpcInNlbmRFbWFpbFZlcmlmaWNhdGlvblwiLGE6W119LHRvSlNPTjp7bmFtZTpcInRvSlNPTlwiLGE6W1MobnVsbCwhMCldfSx1bmxpbms6e25hbWU6XCJ1bmxpbmtcIixhOltTKFwicHJvdmlkZXJcIildfSxcbnVwZGF0ZUVtYWlsOntuYW1lOlwidXBkYXRlRW1haWxcIixhOltTKFwiZW1haWxcIildfSx1cGRhdGVQYXNzd29yZDp7bmFtZTpcInVwZGF0ZVBhc3N3b3JkXCIsYTpbUyhcInBhc3N3b3JkXCIpXX0sdXBkYXRlUHJvZmlsZTp7bmFtZTpcInVwZGF0ZVByb2ZpbGVcIixhOltUKFwicHJvZmlsZVwiKV19fSk7b2goQy5wcm90b3R5cGUse2c6e25hbWU6XCJjYXRjaFwifSx0aGVuOntuYW1lOlwidGhlblwifX0pO1UoR2YsXCJjcmVkZW50aWFsXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IERmKGEsYil9LFtTKFwiZW1haWxcIiksUyhcInBhc3N3b3JkXCIpXSk7b2goemYucHJvdG90eXBlLHthZGRTY29wZTp7bmFtZTpcImFkZFNjb3BlXCIsYTpbUyhcInNjb3BlXCIpXX0sc2V0Q3VzdG9tUGFyYW1ldGVyczp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixhOltUKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXX19KTtVKHpmLFwiY3JlZGVudGlhbFwiLHpmLmNyZWRlbnRpYWwsW21oKFMoKSxUKCksXCJ0b2tlblwiKV0pO1xub2goQWYucHJvdG90eXBlLHthZGRTY29wZTp7bmFtZTpcImFkZFNjb3BlXCIsYTpbUyhcInNjb3BlXCIpXX0sc2V0Q3VzdG9tUGFyYW1ldGVyczp7bmFtZTpcInNldEN1c3RvbVBhcmFtZXRlcnNcIixhOltUKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXX19KTtVKEFmLFwiY3JlZGVudGlhbFwiLEFmLmNyZWRlbnRpYWwsW21oKFMoKSxUKCksXCJ0b2tlblwiKV0pO29oKEJmLnByb3RvdHlwZSx7YWRkU2NvcGU6e25hbWU6XCJhZGRTY29wZVwiLGE6W1MoXCJzY29wZVwiKV19LHNldEN1c3RvbVBhcmFtZXRlcnM6e25hbWU6XCJzZXRDdXN0b21QYXJhbWV0ZXJzXCIsYTpbVChcImN1c3RvbU9BdXRoUGFyYW1ldGVyc1wiKV19fSk7VShCZixcImNyZWRlbnRpYWxcIixCZi5jcmVkZW50aWFsLFttaChTKCksbWgoVCgpLGpoKCkpLFwiaWRUb2tlblwiKSxtaChTKCksamgoKSxcImFjY2Vzc1Rva2VuXCIsITApXSk7b2goQ2YucHJvdG90eXBlLHtzZXRDdXN0b21QYXJhbWV0ZXJzOntuYW1lOlwic2V0Q3VzdG9tUGFyYW1ldGVyc1wiLGE6W1QoXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildfX0pO1xuVShDZixcImNyZWRlbnRpYWxcIixDZi5jcmVkZW50aWFsLFttaChTKCksVCgpLFwidG9rZW5cIiksUyhcInNlY3JldFwiLCEwKV0pO1xuKGZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZSYmZmlyZWJhc2UuSU5URVJOQUwmJmZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyU2VydmljZSl7dmFyIGE9e0F1dGg6WSxFcnJvcjpQfTtVKGEsXCJFbWFpbEF1dGhQcm92aWRlclwiLEdmLFtdKTtVKGEsXCJGYWNlYm9va0F1dGhQcm92aWRlclwiLHpmLFtdKTtVKGEsXCJHaXRodWJBdXRoUHJvdmlkZXJcIixBZixbXSk7VShhLFwiR29vZ2xlQXV0aFByb3ZpZGVyXCIsQmYsW10pO1UoYSxcIlR3aXR0ZXJBdXRoUHJvdmlkZXJcIixDZixbXSk7ZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKFwiYXV0aFwiLGZ1bmN0aW9uKGEsYyl7YT1uZXcgWShhKTtjKHtJTlRFUk5BTDp7Z2V0VG9rZW46cShhLmdldFRva2VuLGEpLGFkZEF1dGhUb2tlbkxpc3RlbmVyOnEoYS5hZGRBdXRoVG9rZW5MaXN0ZW5lcixhKSxyZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcjpxKGEucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIsYSl9fSk7cmV0dXJuIGF9LFxuYSxmdW5jdGlvbihhLGMpe2lmKFwiY3JlYXRlXCI9PT1hKXRyeXtjLmF1dGgoKX1jYXRjaChkKXt9fSk7ZmlyZWJhc2UuSU5URVJOQUwuZXh0ZW5kTmFtZXNwYWNlKHtVc2VyOld9KX1lbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGhlIGZpcmViYXNlIG5hbWVzcGFjZTsgYmUgc3VyZSB0byBpbmNsdWRlIGZpcmViYXNlLWFwcC5qcyBiZWZvcmUgdGhpcyBsaWJyYXJ5LlwiKTt9KSgpO30pLmNhbGwodGhpcyk7XG59KS5jYWxsKGdsb2JhbCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlLmF1dGg7XG4iLCJ2YXIgZmlyZWJhc2UgPSByZXF1aXJlKCcuL2FwcCcpO1xuKGZ1bmN0aW9uKCl7XG4vKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjMuNi4zXG4gICAgQnVpbGQ6IDMuNi4zLXJjLjZcbiAgICBUZXJtczogaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL3Rlcm1zL1xuXG4gICAgLS0tXG5cbiAgICB0eXBlZGFycmF5LmpzXG4gICAgQ29weXJpZ2h0IChjKSAyMDEwLCBMaW5kZW4gUmVzZWFyY2gsIEluYy5cblxuICAgIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICAgIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAgICBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gICAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAgICBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAgICBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAgICBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gICAgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAgICBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gICAgVEhFIFNPRlRXQVJFLiAqL1xuKGZ1bmN0aW9uKCkge3ZhciBnLGFhPXRoaXM7ZnVuY3Rpb24gbihhKXtyZXR1cm4gdm9pZCAwIT09YX1mdW5jdGlvbiBiYSgpe31mdW5jdGlvbiBjYShhKXthLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIGEuWWU/YS5ZZTphLlllPW5ldyBhfX1cbmZ1bmN0aW9uIGRhKGEpe3ZhciBiPXR5cGVvZiBhO2lmKFwib2JqZWN0XCI9PWIpaWYoYSl7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYXJyYXlcIjtpZihhIGluc3RhbmNlb2YgT2JqZWN0KXJldHVybiBiO3ZhciBjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtpZihcIltvYmplY3QgV2luZG93XVwiPT1jKXJldHVyblwib2JqZWN0XCI7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1jfHxcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnNwbGljZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtpZihcIltvYmplY3QgRnVuY3Rpb25dXCI9PWN8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgcmV0dXJuXCJudWxsXCI7XG5lbHNlIGlmKFwiZnVuY3Rpb25cIj09YiYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuY2FsbClyZXR1cm5cIm9iamVjdFwiO3JldHVybiBifWZ1bmN0aW9uIGVhKGEpe3JldHVyblwiYXJyYXlcIj09ZGEoYSl9ZnVuY3Rpb24gZmEoYSl7dmFyIGI9ZGEoYSk7cmV0dXJuXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9ZnVuY3Rpb24gcChhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX1mdW5jdGlvbiBnYShhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX1mdW5jdGlvbiBoYShhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PWRhKGEpfWZ1bmN0aW9uIGlhKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJm51bGwhPWF8fFwiZnVuY3Rpb25cIj09Yn1mdW5jdGlvbiBqYShhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX1cbmZ1bmN0aW9uIGthKGEsYixjKXtpZighYSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoYyxkKTtyZXR1cm4gYS5hcHBseShiLGMpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHEoYSxiLGMpe3E9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9qYTprYTtyZXR1cm4gcS5hcHBseShudWxsLGFyZ3VtZW50cyl9XG5mdW5jdGlvbiBsYShhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS53Zz1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2Euc2c9ZnVuY3Rpb24oYSxjLGYpe2Zvcih2YXIgaD1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGs9MjtrPGFyZ3VtZW50cy5sZW5ndGg7aysrKWhbay0yXT1hcmd1bWVudHNba107cmV0dXJuIGIucHJvdG90eXBlW2NdLmFwcGx5KGEsaCl9fTtmdW5jdGlvbiBtYSgpe3RoaXMuV2E9LTF9O2Z1bmN0aW9uIG5hKCl7dGhpcy5XYT0tMTt0aGlzLldhPTY0O3RoaXMuTT1bXTt0aGlzLlZkPVtdO3RoaXMuQWY9W107dGhpcy56ZD1bXTt0aGlzLnpkWzBdPTEyODtmb3IodmFyIGE9MTthPHRoaXMuV2E7KythKXRoaXMuemRbYV09MDt0aGlzLlBkPXRoaXMuJGI9MDt0aGlzLnJlc2V0KCl9bGEobmEsbWEpO25hLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuTVswXT0xNzMyNTg0MTkzO3RoaXMuTVsxXT00MDIzMjMzNDE3O3RoaXMuTVsyXT0yNTYyMzgzMTAyO3RoaXMuTVszXT0yNzE3MzM4Nzg7dGhpcy5NWzRdPTMyODUzNzc1MjA7dGhpcy5QZD10aGlzLiRiPTB9O1xuZnVuY3Rpb24gb2EoYSxiLGMpe2N8fChjPTApO3ZhciBkPWEuQWY7aWYocChiKSlmb3IodmFyIGU9MDsxNj5lO2UrKylkW2VdPWIuY2hhckNvZGVBdChjKTw8MjR8Yi5jaGFyQ29kZUF0KGMrMSk8PDE2fGIuY2hhckNvZGVBdChjKzIpPDw4fGIuY2hhckNvZGVBdChjKzMpLGMrPTQ7ZWxzZSBmb3IoZT0wOzE2PmU7ZSsrKWRbZV09YltjXTw8MjR8YltjKzFdPDwxNnxiW2MrMl08PDh8YltjKzNdLGMrPTQ7Zm9yKGU9MTY7ODA+ZTtlKyspe3ZhciBmPWRbZS0zXV5kW2UtOF1eZFtlLTE0XV5kW2UtMTZdO2RbZV09KGY8PDF8Zj4+PjMxKSY0Mjk0OTY3Mjk1fWI9YS5NWzBdO2M9YS5NWzFdO2Zvcih2YXIgaD1hLk1bMl0saz1hLk1bM10sbD1hLk1bNF0sbSxlPTA7ODA+ZTtlKyspNDA+ZT8yMD5lPyhmPWteYyYoaF5rKSxtPTE1MTg1MDAyNDkpOihmPWNeaF5rLG09MTg1OTc3NTM5Myk6NjA+ZT8oZj1jJmh8ayYoY3xoKSxtPTI0MDA5NTk3MDgpOihmPWNeaF5rLG09MzM5NTQ2OTc4MiksZj0oYjw8XG41fGI+Pj4yNykrZitsK20rZFtlXSY0Mjk0OTY3Mjk1LGw9ayxrPWgsaD0oYzw8MzB8Yz4+PjIpJjQyOTQ5NjcyOTUsYz1iLGI9ZjthLk1bMF09YS5NWzBdK2ImNDI5NDk2NzI5NTthLk1bMV09YS5NWzFdK2MmNDI5NDk2NzI5NTthLk1bMl09YS5NWzJdK2gmNDI5NDk2NzI5NTthLk1bM109YS5NWzNdK2smNDI5NDk2NzI5NTthLk1bNF09YS5NWzRdK2wmNDI5NDk2NzI5NX1cbm5hLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXtuKGIpfHwoYj1hLmxlbmd0aCk7Zm9yKHZhciBjPWItdGhpcy5XYSxkPTAsZT10aGlzLlZkLGY9dGhpcy4kYjtkPGI7KXtpZigwPT1mKWZvcig7ZDw9Yzspb2EodGhpcyxhLGQpLGQrPXRoaXMuV2E7aWYocChhKSlmb3IoO2Q8Yjspe2lmKGVbZl09YS5jaGFyQ29kZUF0KGQpLCsrZiwrK2QsZj09dGhpcy5XYSl7b2EodGhpcyxlKTtmPTA7YnJlYWt9fWVsc2UgZm9yKDtkPGI7KWlmKGVbZl09YVtkXSwrK2YsKytkLGY9PXRoaXMuV2Epe29hKHRoaXMsZSk7Zj0wO2JyZWFrfX10aGlzLiRiPWY7dGhpcy5QZCs9Yn19O2Z1bmN0aW9uIHIoYSxiKXtmb3IodmFyIGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX1mdW5jdGlvbiBwYShhLGIpe3ZhciBjPXt9LGQ7Zm9yKGQgaW4gYSljW2RdPWIuY2FsbCh2b2lkIDAsYVtkXSxkLGEpO3JldHVybiBjfWZ1bmN0aW9uIHFhKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIWIuY2FsbCh2b2lkIDAsYVtjXSxjLGEpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHJhKGEpe3ZhciBiPTAsYztmb3IoYyBpbiBhKWIrKztyZXR1cm4gYn1mdW5jdGlvbiBzYShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4gYn1mdW5jdGlvbiB0YShhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1hW2RdO3JldHVybiBifWZ1bmN0aW9uIHVhKGEpe3ZhciBiPVtdLGM9MCxkO2ZvcihkIGluIGEpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gdmEoYSxiKXtmb3IodmFyIGMgaW4gYSlpZihhW2NdPT1iKXJldHVybiEwO3JldHVybiExfVxuZnVuY3Rpb24gd2EoYSxiLGMpe2Zvcih2YXIgZCBpbiBhKWlmKGIuY2FsbChjLGFbZF0sZCxhKSlyZXR1cm4gZH1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPXdhKGEsYix2b2lkIDApO3JldHVybiBjJiZhW2NdfWZ1bmN0aW9uIHlhKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHphKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9O2Z1bmN0aW9uIEFhKGEpe2E9U3RyaW5nKGEpO2lmKC9eXFxzKiQvLnRlc3QoYSk/MDovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvXCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csXCJdXCIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OltcXHNcXHUyMDI4XFx1MjAyOV0qXFxbKSsvZyxcIlwiKSkpdHJ5e3JldHVybiBldmFsKFwiKFwiK2ErXCIpXCIpfWNhdGNoKGIpe310aHJvdyBFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpO31mdW5jdGlvbiBCYSgpe3RoaXMuRmQ9dm9pZCAwfVxuZnVuY3Rpb24gQ2EoYSxiLGMpe3N3aXRjaCh0eXBlb2YgYil7Y2FzZSBcInN0cmluZ1wiOkRhKGIsYyk7YnJlYWs7Y2FzZSBcIm51bWJlclwiOmMucHVzaChpc0Zpbml0ZShiKSYmIWlzTmFOKGIpP2I6XCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJib29sZWFuXCI6Yy5wdXNoKGIpO2JyZWFrO2Nhc2UgXCJ1bmRlZmluZWRcIjpjLnB1c2goXCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjppZihudWxsPT1iKXtjLnB1c2goXCJudWxsXCIpO2JyZWFrfWlmKGVhKGIpKXt2YXIgZD1iLmxlbmd0aDtjLnB1c2goXCJbXCIpO2Zvcih2YXIgZT1cIlwiLGY9MDtmPGQ7ZisrKWMucHVzaChlKSxlPWJbZl0sQ2EoYSxhLkZkP2EuRmQuY2FsbChiLFN0cmluZyhmKSxlKTplLGMpLGU9XCIsXCI7Yy5wdXNoKFwiXVwiKTticmVha31jLnB1c2goXCJ7XCIpO2Q9XCJcIjtmb3IoZiBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGYpJiYoZT1iW2ZdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihjLnB1c2goZCksRGEoZixjKSxcbmMucHVzaChcIjpcIiksQ2EoYSxhLkZkP2EuRmQuY2FsbChiLGYsZSk6ZSxjKSxkPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0eXBlb2YgYik7fX12YXIgRWE9eydcIic6J1xcXFxcIicsXCJcXFxcXCI6XCJcXFxcXFxcXFwiLFwiL1wiOlwiXFxcXC9cIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxceDBCXCI6XCJcXFxcdTAwMGJcIn0sRmE9L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2c7XG5mdW5jdGlvbiBEYShhLGIpe2IucHVzaCgnXCInLGEucmVwbGFjZShGYSxmdW5jdGlvbihhKXtpZihhIGluIEVhKXJldHVybiBFYVthXTt2YXIgYj1hLmNoYXJDb2RlQXQoMCksZT1cIlxcXFx1XCI7MTY+Yj9lKz1cIjAwMFwiOjI1Nj5iP2UrPVwiMDBcIjo0MDk2PmImJihlKz1cIjBcIik7cmV0dXJuIEVhW2FdPWUrYi50b1N0cmluZygxNil9KSwnXCInKX07dmFyIHQ7YTp7dmFyIEdhPWFhLm5hdmlnYXRvcjtpZihHYSl7dmFyIEhhPUdhLnVzZXJBZ2VudDtpZihIYSl7dD1IYTticmVhayBhfX10PVwiXCJ9O3ZhciB2PUFycmF5LnByb3RvdHlwZSxJYT12LmluZGV4T2Y/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB2LmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKHAoYSkpcmV0dXJuIHAoYikmJjE9PWIubGVuZ3RoP2EuaW5kZXhPZihiLGMpOi0xO2Zvcig7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSmE9di5mb3JFYWNoP2Z1bmN0aW9uKGEsYixjKXt2LmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0sS2E9di5maWx0ZXI/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB2LmZpbHRlci5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxoPXAoYSk/XG5hLnNwbGl0KFwiXCIpOmEsaz0wO2s8ZDtrKyspaWYoayBpbiBoKXt2YXIgbD1oW2tdO2IuY2FsbChjLGwsayxhKSYmKGVbZisrXT1sKX1yZXR1cm4gZX0sTGE9di5tYXA/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB2Lm1hcC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGY9cChhKT9hLnNwbGl0KFwiXCIpOmEsaD0wO2g8ZDtoKyspaCBpbiBmJiYoZVtoXT1iLmNhbGwoYyxmW2hdLGgsYSkpO3JldHVybiBlfSxNYT12LnJlZHVjZT9mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9W10sZj0xLGg9YXJndW1lbnRzLmxlbmd0aDtmPGg7ZisrKWUucHVzaChhcmd1bWVudHNbZl0pO2QmJihlWzBdPXEoYixkKSk7cmV0dXJuIHYucmVkdWNlLmFwcGx5KGEsZSl9OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWM7SmEoYSxmdW5jdGlvbihjLGgpe2U9Yi5jYWxsKGQsZSxjLGgsYSl9KTtyZXR1cm4gZX0sTmE9di5ldmVyeT9mdW5jdGlvbihhLGIsXG5jKXtyZXR1cm4gdi5ldmVyeS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXAoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmIWIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gT2EoYSxiKXt2YXIgYz1QYShhLGIsdm9pZCAwKTtyZXR1cm4gMD5jP251bGw6cChhKT9hLmNoYXJBdChjKTphW2NdfWZ1bmN0aW9uIFBhKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4gZjtyZXR1cm4tMX1mdW5jdGlvbiBRYShhLGIpe3ZhciBjPUlhKGEsYik7MDw9YyYmdi5zcGxpY2UuY2FsbChhLGMsMSl9ZnVuY3Rpb24gUmEoYSxiLGMpe3JldHVybiAyPj1hcmd1bWVudHMubGVuZ3RoP3Yuc2xpY2UuY2FsbChhLGIpOnYuc2xpY2UuY2FsbChhLGIsYyl9XG5mdW5jdGlvbiBTYShhLGIpe2Euc29ydChifHxUYSl9ZnVuY3Rpb24gVGEoYSxiKXtyZXR1cm4gYT5iPzE6YTxiPy0xOjB9O3ZhciBVYT0tMSE9dC5pbmRleE9mKFwiT3BlcmFcIil8fC0xIT10LmluZGV4T2YoXCJPUFJcIiksVmE9LTEhPXQuaW5kZXhPZihcIlRyaWRlbnRcIil8fC0xIT10LmluZGV4T2YoXCJNU0lFXCIpLFdhPS0xIT10LmluZGV4T2YoXCJHZWNrb1wiKSYmLTE9PXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpJiYhKC0xIT10LmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9dC5pbmRleE9mKFwiTVNJRVwiKSksWGE9LTEhPXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpO1xuKGZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiO2lmKFVhJiZhYS5vcGVyYSlyZXR1cm4gYT1hYS5vcGVyYS52ZXJzaW9uLGhhKGEpP2EoKTphO1dhP2I9L3J2XFw6KFteXFwpO10rKShcXCl8OykvOlZhP2I9L1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLzpYYSYmKGI9L1dlYktpdFxcLyhcXFMrKS8pO2ImJihhPShhPWIuZXhlYyh0KSk/YVsxXTpcIlwiKTtyZXR1cm4gVmEmJihiPShiPWFhLmRvY3VtZW50KT9iLmRvY3VtZW50TW9kZTp2b2lkIDAsYj5wYXJzZUZsb2F0KGEpKT9TdHJpbmcoYik6YX0pKCk7dmFyIFlhPW51bGwsWmE9bnVsbCwkYT1udWxsO2Z1bmN0aW9uIGFiKGEsYil7aWYoIWZhKGEpKXRocm93IEVycm9yKFwiZW5jb2RlQnl0ZUFycmF5IHRha2VzIGFuIGFycmF5IGFzIGEgcGFyYW1ldGVyXCIpO2JiKCk7Zm9yKHZhciBjPWI/WmE6WWEsZD1bXSxlPTA7ZTxhLmxlbmd0aDtlKz0zKXt2YXIgZj1hW2VdLGg9ZSsxPGEubGVuZ3RoLGs9aD9hW2UrMV06MCxsPWUrMjxhLmxlbmd0aCxtPWw/YVtlKzJdOjAsdT1mPj4yLGY9KGYmMyk8PDR8az4+NCxrPShrJjE1KTw8MnxtPj42LG09bSY2MztsfHwobT02NCxofHwoaz02NCkpO2QucHVzaChjW3VdLGNbZl0sY1trXSxjW21dKX1yZXR1cm4gZC5qb2luKFwiXCIpfVxuZnVuY3Rpb24gYmIoKXtpZighWWEpe1lhPXt9O1phPXt9OyRhPXt9O2Zvcih2YXIgYT0wOzY1PmE7YSsrKVlhW2FdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIi5jaGFyQXQoYSksWmFbYV09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fLlwiLmNoYXJBdChhKSwkYVtaYVthXV09YSw2Mjw9YSYmKCRhW1wiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIi5jaGFyQXQoYSldPWEpfX07ZnVuY3Rpb24gY2IoYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYil9ZnVuY3Rpb24gdyhhLGIpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpKXJldHVybiBhW2JdfWZ1bmN0aW9uIGRiKGEsYil7Zm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJmIoYyxhW2NdKX07ZnVuY3Rpb24geChhLGIsYyxkKXt2YXIgZTtkPGI/ZT1cImF0IGxlYXN0IFwiK2I6ZD5jJiYoZT0wPT09Yz9cIm5vbmVcIjpcIm5vIG1vcmUgdGhhbiBcIitjKTtpZihlKXRocm93IEVycm9yKGErXCIgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggXCIrZCsoMT09PWQ/XCIgYXJndW1lbnQuXCI6XCIgYXJndW1lbnRzLlwiKStcIiBFeHBlY3RzIFwiK2UrXCIuXCIpO31mdW5jdGlvbiB5KGEsYixjKXt2YXIgZD1cIlwiO3N3aXRjaChiKXtjYXNlIDE6ZD1jP1wiZmlyc3RcIjpcIkZpcnN0XCI7YnJlYWs7Y2FzZSAyOmQ9Yz9cInNlY29uZFwiOlwiU2Vjb25kXCI7YnJlYWs7Y2FzZSAzOmQ9Yz9cInRoaXJkXCI6XCJUaGlyZFwiO2JyZWFrO2Nhc2UgNDpkPWM/XCJmb3VydGhcIjpcIkZvdXJ0aFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJlcnJvclByZWZpeCBjYWxsZWQgd2l0aCBhcmd1bWVudE51bWJlciA+IDQuICBOZWVkIHRvIHVwZGF0ZSBpdD9cIik7fXJldHVybiBhPWErXCIgZmFpbGVkOiBcIisoZCtcIiBhcmd1bWVudCBcIil9XG5mdW5jdGlvbiBBKGEsYixjLGQpe2lmKCghZHx8bihjKSkmJiFoYShjKSl0aHJvdyBFcnJvcih5KGEsYixkKStcIm11c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi5cIik7fWZ1bmN0aW9uIGViKGEsYixjKXtpZihuKGMpJiYoIWlhKGMpfHxudWxsPT09YykpdGhyb3cgRXJyb3IoeShhLGIsITApK1wibXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LlwiKTt9O2Z1bmN0aW9uIGZiKGEpe3ZhciBiPVtdO2RiKGEsZnVuY3Rpb24oYSxkKXtlYShkKT9KYShkLGZ1bmN0aW9uKGQpe2IucHVzaChlbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGQpKX0pOmIucHVzaChlbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGQpKX0pO3JldHVybiBiLmxlbmd0aD9cIiZcIitiLmpvaW4oXCImXCIpOlwiXCJ9O3ZhciBnYj1maXJlYmFzZS5Qcm9taXNlO2Z1bmN0aW9uIGhiKCl7dmFyIGE9dGhpczt0aGlzLnJlamVjdD10aGlzLnJlc29sdmU9bnVsbDt0aGlzLnJhPW5ldyBnYihmdW5jdGlvbihiLGMpe2EucmVzb2x2ZT1iO2EucmVqZWN0PWN9KX1mdW5jdGlvbiBpYihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe2M/YS5yZWplY3QoYyk6YS5yZXNvbHZlKGQpO2hhKGIpJiYoamIoYS5yYSksMT09PWIubGVuZ3RoP2IoYyk6YihjLGQpKX19ZnVuY3Rpb24gamIoYSl7YS50aGVuKHZvaWQgMCxiYSl9O2Z1bmN0aW9uIGtiKGEsYil7aWYoIWEpdGhyb3cgbGIoYik7fWZ1bmN0aW9uIGxiKGEpe3JldHVybiBFcnJvcihcIkZpcmViYXNlIERhdGFiYXNlIChcIitmaXJlYmFzZS5TREtfVkVSU0lPTitcIikgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogXCIrYSl9O2Z1bmN0aW9uIG1iKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hLmNoYXJDb2RlQXQoZCk7NTUyOTY8PWUmJjU2MzE5Pj1lJiYoZS09NTUyOTYsZCsrLGtiKGQ8YS5sZW5ndGgsXCJTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS5cIiksZT02NTUzNisoZTw8MTApKyhhLmNoYXJDb2RlQXQoZCktNTYzMjApKTsxMjg+ZT9iW2MrK109ZTooMjA0OD5lP2JbYysrXT1lPj42fDE5MjooNjU1MzY+ZT9iW2MrK109ZT4+MTJ8MjI0OihiW2MrK109ZT4+MTh8MjQwLGJbYysrXT1lPj4xMiY2M3wxMjgpLGJbYysrXT1lPj42JjYzfDEyOCksYltjKytdPWUmNjN8MTI4KX1yZXR1cm4gYn1mdW5jdGlvbiBuYihhKXtmb3IodmFyIGI9MCxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWEuY2hhckNvZGVBdChjKTsxMjg+ZD9iKys6MjA0OD5kP2IrPTI6NTUyOTY8PWQmJjU2MzE5Pj1kPyhiKz00LGMrKyk6Yis9M31yZXR1cm4gYn07ZnVuY3Rpb24gb2IoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBKU09OJiZuKEpTT04ucGFyc2UpP0pTT04ucGFyc2UoYSk6QWEoYSl9ZnVuY3Rpb24gQihhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIEpTT04mJm4oSlNPTi5zdHJpbmdpZnkpKWE9SlNPTi5zdHJpbmdpZnkoYSk7ZWxzZXt2YXIgYj1bXTtDYShuZXcgQmEsYSxiKTthPWIuam9pbihcIlwiKX1yZXR1cm4gYX07ZnVuY3Rpb24gcGIoYSxiKXt0aGlzLmNvbW1pdHRlZD1hO3RoaXMuc25hcHNob3Q9Yn07ZnVuY3Rpb24gcWIoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmISEod2luZG93LmNvcmRvdmF8fHdpbmRvdy5waG9uZWdhcHx8d2luZG93LlBob25lR2FwKSYmL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJlwic3RyaW5nXCI9PT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCIpfTtmdW5jdGlvbiByYihhKXt0aGlzLnJlPWE7dGhpcy5CZD1bXTt0aGlzLlFiPTA7dGhpcy5YZD0tMTt0aGlzLkZiPW51bGx9ZnVuY3Rpb24gc2IoYSxiLGMpe2EuWGQ9YjthLkZiPWM7YS5YZDxhLlFiJiYoYS5GYigpLGEuRmI9bnVsbCl9ZnVuY3Rpb24gdGIoYSxiLGMpe2ZvcihhLkJkW2JdPWM7YS5CZFthLlFiXTspe3ZhciBkPWEuQmRbYS5RYl07ZGVsZXRlIGEuQmRbYS5RYl07Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2UpaWYoZFtlXSl7dmFyIGY9YTt1YihmdW5jdGlvbigpe2YucmUoZFtlXSl9KX1pZihhLlFiPT09YS5YZCl7YS5GYiYmKGNsZWFyVGltZW91dChhLkZiKSxhLkZiKCksYS5GYj1udWxsKTticmVha31hLlFiKyt9fTtmdW5jdGlvbiB2Yigpe3RoaXMucGM9e319dmIucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe251bGw9PWI/ZGVsZXRlIHRoaXMucGNbYV06dGhpcy5wY1thXT1ifTt2Yi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBjYih0aGlzLnBjLGEpP3RoaXMucGNbYV06bnVsbH07dmIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5wY1thXX07dmIucHJvdG90eXBlLlplPSEwO2Z1bmN0aW9uIHdiKGEpe3RoaXMudWM9YTt0aGlzLkNkPVwiZmlyZWJhc2U6XCJ9Zz13Yi5wcm90b3R5cGU7Zy5zZXQ9ZnVuY3Rpb24oYSxiKXtudWxsPT1iP3RoaXMudWMucmVtb3ZlSXRlbSh0aGlzLkNkK2EpOnRoaXMudWMuc2V0SXRlbSh0aGlzLkNkK2EsQihiKSl9O2cuZ2V0PWZ1bmN0aW9uKGEpe2E9dGhpcy51Yy5nZXRJdGVtKHRoaXMuQ2QrYSk7cmV0dXJuIG51bGw9PWE/bnVsbDpvYihhKX07Zy5yZW1vdmU9ZnVuY3Rpb24oYSl7dGhpcy51Yy5yZW1vdmVJdGVtKHRoaXMuQ2QrYSl9O2cuWmU9ITE7Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVjLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIHhiKGEpe3RyeXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3dbYV0pe3ZhciBiPXdpbmRvd1thXTtiLnNldEl0ZW0oXCJmaXJlYmFzZTpzZW50aW5lbFwiLFwiY2FjaGVcIik7Yi5yZW1vdmVJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIik7cmV0dXJuIG5ldyB3YihiKX19Y2F0Y2goYyl7fXJldHVybiBuZXcgdmJ9dmFyIHliPXhiKFwibG9jYWxTdG9yYWdlXCIpLHpiPXhiKFwic2Vzc2lvblN0b3JhZ2VcIik7ZnVuY3Rpb24gQWIoYSxiLGMpe3RoaXMudHlwZT1CYjt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1iO3RoaXMuR2E9Y31BYi5wcm90b3R5cGUuTWM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGF0aC5lKCk/bmV3IEFiKHRoaXMuc291cmNlLEMsdGhpcy5HYS5RKGEpKTpuZXcgQWIodGhpcy5zb3VyY2UsRCh0aGlzLnBhdGgpLHRoaXMuR2EpfTtBYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgb3ZlcndyaXRlOiBcIit0aGlzLkdhLnRvU3RyaW5nKCkrXCIpXCJ9O2Z1bmN0aW9uIENiKGEsYil7dGhpcy50eXBlPURiO3RoaXMuc291cmNlPWE7dGhpcy5wYXRoPWJ9Q2IucHJvdG90eXBlLk1jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC5lKCk/bmV3IENiKHRoaXMuc291cmNlLEMpOm5ldyBDYih0aGlzLnNvdXJjZSxEKHRoaXMucGF0aCkpfTtDYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgbGlzdGVuX2NvbXBsZXRlKVwifTtmdW5jdGlvbiBFYihhKXt0aGlzLm9jPWF9RWIucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9jLklOVEVSTkFMLmdldFRva2VuKGEpLnRoZW4obnVsbCxmdW5jdGlvbihhKXtyZXR1cm4gYSYmXCJhdXRoL3Rva2VuLW5vdC1pbml0aWFsaXplZFwiPT09YS5jb2RlPyhFKFwiR290IGF1dGgvdG9rZW4tbm90LWluaXRpYWxpemVkIGVycm9yLiAgVHJlYXRpbmcgYXMgbnVsbCB0b2tlbi5cIiksbnVsbCk6UHJvbWlzZS5yZWplY3QoYSl9KX07ZnVuY3Rpb24gRmIoYSxiKXthLm9jLklOVEVSTkFMLmFkZEF1dGhUb2tlbkxpc3RlbmVyKGIpfTtmdW5jdGlvbiBHYigpe3RoaXMuSmQ9R31HYi5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5KZC5QKGEpfTtHYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5KZC50b1N0cmluZygpfTtmdW5jdGlvbiBIYihhLGIsYyxkLGUpe3RoaXMuaG9zdD1hLnRvTG93ZXJDYXNlKCk7dGhpcy5kb21haW49dGhpcy5ob3N0LnN1YnN0cih0aGlzLmhvc3QuaW5kZXhPZihcIi5cIikrMSk7dGhpcy5TYz1iO3RoaXMubmU9Yzt0aGlzLnFnPWQ7dGhpcy5nZj1lfHxcIlwiO3RoaXMuJGE9eWIuZ2V0KFwiaG9zdDpcIithKXx8dGhpcy5ob3N0fWZ1bmN0aW9uIEliKGEsYil7YiE9PWEuJGEmJihhLiRhPWIsXCJzLVwiPT09YS4kYS5zdWJzdHIoMCwyKSYmeWIuc2V0KFwiaG9zdDpcIithLmhvc3QsYS4kYSkpfVxuZnVuY3Rpb24gSmIoYSxiLGMpe0goXCJzdHJpbmdcIj09PXR5cGVvZiBiLFwidHlwZW9mIHR5cGUgbXVzdCA9PSBzdHJpbmdcIik7SChcIm9iamVjdFwiPT09dHlwZW9mIGMsXCJ0eXBlb2YgcGFyYW1zIG11c3QgPT0gb2JqZWN0XCIpO2lmKFwid2Vic29ja2V0XCI9PT1iKWI9KGEuU2M/XCJ3c3M6Ly9cIjpcIndzOi8vXCIpK2EuJGErXCIvLndzP1wiO2Vsc2UgaWYoXCJsb25nX3BvbGxpbmdcIj09PWIpYj0oYS5TYz9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK2EuJGErXCIvLmxwP1wiO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIGNvbm5lY3Rpb24gdHlwZTogXCIrYik7YS5ob3N0IT09YS4kYSYmKGMubnM9YS5uZSk7dmFyIGQ9W107cihjLGZ1bmN0aW9uKGEsYil7ZC5wdXNoKGIrXCI9XCIrYSl9KTtyZXR1cm4gYitkLmpvaW4oXCImXCIpfVxuSGIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMuU2M/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLmhvc3Q7dGhpcy5nZiYmKGErPVwiPFwiK3RoaXMuZ2YrXCI+XCIpO3JldHVybiBhfTtmdW5jdGlvbiBLYigpe3RoaXMudGM9e319ZnVuY3Rpb24gTGIoYSxiLGMpe24oYyl8fChjPTEpO2NiKGEudGMsYil8fChhLnRjW2JdPTApO2EudGNbYl0rPWN9S2IucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB6YSh0aGlzLnRjKX07ZnVuY3Rpb24gTWIoYSl7dGhpcy5FZj1hO3RoaXMucmQ9bnVsbH1NYi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5FZi5nZXQoKSxiPXphKGEpO2lmKHRoaXMucmQpZm9yKHZhciBjIGluIHRoaXMucmQpYltjXS09dGhpcy5yZFtjXTt0aGlzLnJkPWE7cmV0dXJuIGJ9O2Z1bmN0aW9uIE5iKCl7dGhpcy52Yj1bXX1mdW5jdGlvbiBPYihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXSxmPWUuWWIoKTtudWxsPT09Y3x8Zi5aKGMuWWIoKSl8fChhLnZiLnB1c2goYyksYz1udWxsKTtudWxsPT09YyYmKGM9bmV3IFBiKGYpKTtjLmFkZChlKX1jJiZhLnZiLnB1c2goYyl9ZnVuY3Rpb24gUWIoYSxiLGMpe09iKGEsYyk7UmIoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5aKGIpfSl9ZnVuY3Rpb24gU2IoYSxiLGMpe09iKGEsYyk7UmIoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250YWlucyhiKXx8Yi5jb250YWlucyhhKX0pfVxuZnVuY3Rpb24gUmIoYSxiKXtmb3IodmFyIGM9ITAsZD0wO2Q8YS52Yi5sZW5ndGg7ZCsrKXt2YXIgZT1hLnZiW2RdO2lmKGUpaWYoZT1lLlliKCksYihlKSl7Zm9yKHZhciBlPWEudmJbZF0sZj0wO2Y8ZS5qZC5sZW5ndGg7ZisrKXt2YXIgaD1lLmpkW2ZdO2lmKG51bGwhPT1oKXtlLmpkW2ZdPW51bGw7dmFyIGs9aC5UYigpO1RiJiZFKFwiZXZlbnQ6IFwiK2gudG9TdHJpbmcoKSk7dWIoayl9fWEudmJbZF09bnVsbH1lbHNlIGM9ITF9YyYmKGEudmI9W10pfWZ1bmN0aW9uIFBiKGEpe3RoaXMucWE9YTt0aGlzLmpkPVtdfVBiLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSl7dGhpcy5qZC5wdXNoKGEpfTtQYi5wcm90b3R5cGUuWWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xYX07ZnVuY3Rpb24gVWIoYSxiLGMsZCl7dGhpcy4kZD1iO3RoaXMuTWQ9Yzt0aGlzLkRkPWQ7dGhpcy5oZD1hfVViLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuTWQud2IoKTtyZXR1cm5cInZhbHVlXCI9PT10aGlzLmhkP2EucGF0aDphLmdldFBhcmVudCgpLnBhdGh9O1ViLnByb3RvdHlwZS5lZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhkfTtVYi5wcm90b3R5cGUuVGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC5UYih0aGlzKX07VWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWIoKS50b1N0cmluZygpK1wiOlwiK3RoaXMuaGQrXCI6XCIrQih0aGlzLk1kLlFlKCkpfTtmdW5jdGlvbiBWYihhLGIsYyl7dGhpcy4kZD1hO3RoaXMuZXJyb3I9Yjt0aGlzLnBhdGg9Y31WYi5wcm90b3R5cGUuWWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRofTtWYi5wcm90b3R5cGUuZWU9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbmNlbFwifTtcblZiLnByb3RvdHlwZS5UYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLlRiKHRoaXMpfTtWYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCkrXCI6Y2FuY2VsXCJ9O2Z1bmN0aW9uIFdiKCl7fVdiLnByb3RvdHlwZS5UZT1mdW5jdGlvbigpe3JldHVybiBudWxsfTtXYi5wcm90b3R5cGUuZGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07dmFyIFhiPW5ldyBXYjtmdW5jdGlvbiBZYihhLGIsYyl7dGhpcy54Zj1hO3RoaXMuS2E9Yjt0aGlzLnlkPWN9WWIucHJvdG90eXBlLlRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuS2EuTjtpZihaYihiLGEpKXJldHVybiBiLmooKS5RKGEpO2I9bnVsbCE9dGhpcy55ZD9uZXcgJGIodGhpcy55ZCwhMCwhMSk6dGhpcy5LYS53KCk7cmV0dXJuIHRoaXMueGYucWMoYSxiKX07WWIucHJvdG90eXBlLmRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsIT10aGlzLnlkP3RoaXMueWQ6YWModGhpcy5LYSk7YT10aGlzLnhmLldkKGQsYiwxLGMsYSk7cmV0dXJuIDA9PT1hLmxlbmd0aD9udWxsOmFbMF19O2Z1bmN0aW9uIEkoYSxiLGMsZCl7dGhpcy50eXBlPWE7dGhpcy5KYT1iO3RoaXMuWGE9Yzt0aGlzLm9lPWQ7dGhpcy5EZD12b2lkIDB9ZnVuY3Rpb24gYmMoYSl7cmV0dXJuIG5ldyBJKGNjLGEpfXZhciBjYz1cInZhbHVlXCI7ZnVuY3Rpb24gJGIoYSxiLGMpe3RoaXMuQT1hO3RoaXMuZGE9Yjt0aGlzLlNiPWN9ZnVuY3Rpb24gZGMoYSl7cmV0dXJuIGEuZGF9ZnVuY3Rpb24gZWMoYSl7cmV0dXJuIGEuU2J9ZnVuY3Rpb24gZmMoYSxiKXtyZXR1cm4gYi5lKCk/YS5kYSYmIWEuU2I6WmIoYSxKKGIpKX1mdW5jdGlvbiBaYihhLGIpe3JldHVybiBhLmRhJiYhYS5TYnx8YS5BLkRhKGIpfSRiLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07ZnVuY3Rpb24gZ2MoYSxiKXtyZXR1cm4gaGMoYS5uYW1lLGIubmFtZSl9ZnVuY3Rpb24gaWMoYSxiKXtyZXR1cm4gaGMoYSxiKX07ZnVuY3Rpb24gSyhhLGIpe3RoaXMubmFtZT1hO3RoaXMuUj1ifWZ1bmN0aW9uIGpjKGEsYil7cmV0dXJuIG5ldyBLKGEsYil9O2Z1bmN0aW9uIGtjKGEsYil7cmV0dXJuIGEmJlwib2JqZWN0XCI9PT10eXBlb2YgYT8oSChcIi5zdlwiaW4gYSxcIlVuZXhwZWN0ZWQgbGVhZiBub2RlIG9yIHByaW9yaXR5IGNvbnRlbnRzXCIpLGJbYVtcIi5zdlwiXV0pOmF9ZnVuY3Rpb24gbGMoYSxiKXt2YXIgYz1uZXcgbWM7bmMoYSxuZXcgTChcIlwiKSxmdW5jdGlvbihhLGUpe29jKGMsYSxwYyhlLGIpKX0pO3JldHVybiBjfWZ1bmN0aW9uIHBjKGEsYil7dmFyIGM9YS5DKCkuSCgpLGM9a2MoYyxiKSxkO2lmKGEuSigpKXt2YXIgZT1rYyhhLkNhKCksYik7cmV0dXJuIGUhPT1hLkNhKCl8fGMhPT1hLkMoKS5IKCk/bmV3IHFjKGUsTShjKSk6YX1kPWE7YyE9PWEuQygpLkgoKSYmKGQ9ZC5mYShuZXcgcWMoYykpKTthLk8oTixmdW5jdGlvbihhLGMpe3ZhciBlPXBjKGMsYik7ZSE9PWMmJihkPWQuVChhLGUpKX0pO3JldHVybiBkfTt2YXIgcmM9ZnVuY3Rpb24oKXt2YXIgYT0xO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKyt9fSgpLEg9a2Isc2M9bGI7XG5mdW5jdGlvbiB0YyhhKXt0cnl7dmFyIGI7YmIoKTtmb3IodmFyIGM9JGEsZD1bXSxlPTA7ZTxhLmxlbmd0aDspe3ZhciBmPWNbYS5jaGFyQXQoZSsrKV0saD1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjA7KytlO3ZhciBrPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO3ZhciBsPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO2lmKG51bGw9PWZ8fG51bGw9PWh8fG51bGw9PWt8fG51bGw9PWwpdGhyb3cgRXJyb3IoKTtkLnB1c2goZjw8MnxoPj40KTs2NCE9ayYmKGQucHVzaChoPDw0JjI0MHxrPj4yKSw2NCE9bCYmZC5wdXNoKGs8PDYmMTkyfGwpKX1pZig4MTkyPmQubGVuZ3RoKWI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQpO2Vsc2V7YT1cIlwiO2ZvcihjPTA7YzxkLmxlbmd0aDtjKz04MTkyKWErPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxSYShkLGMsYys4MTkyKSk7Yj1hfXJldHVybiBifWNhdGNoKG0pe0UoXCJiYXNlNjREZWNvZGUgZmFpbGVkOiBcIixcbm0pfXJldHVybiBudWxsfWZ1bmN0aW9uIHVjKGEpe3ZhciBiPW1iKGEpO2E9bmV3IG5hO2EudXBkYXRlKGIpO3ZhciBiPVtdLGM9OCphLlBkOzU2PmEuJGI/YS51cGRhdGUoYS56ZCw1Ni1hLiRiKTphLnVwZGF0ZShhLnpkLGEuV2EtKGEuJGItNTYpKTtmb3IodmFyIGQ9YS5XYS0xOzU2PD1kO2QtLSlhLlZkW2RdPWMmMjU1LGMvPTI1NjtvYShhLGEuVmQpO2ZvcihkPWM9MDs1PmQ7ZCsrKWZvcih2YXIgZT0yNDswPD1lO2UtPTgpYltjXT1hLk1bZF0+PmUmMjU1LCsrYztyZXR1cm4gYWIoYil9ZnVuY3Rpb24gdmMoYSl7Zm9yKHZhciBiPVwiXCIsYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYj1mYShhcmd1bWVudHNbY10pP2IrdmMuYXBwbHkobnVsbCxhcmd1bWVudHNbY10pOlwib2JqZWN0XCI9PT10eXBlb2YgYXJndW1lbnRzW2NdP2IrQihhcmd1bWVudHNbY10pOmIrYXJndW1lbnRzW2NdLGIrPVwiIFwiO3JldHVybiBifXZhciBUYj1udWxsLHdjPSEwO1xuZnVuY3Rpb24geGMoYSxiKXtrYighYnx8ITA9PT1hfHwhMT09PWEsXCJDYW4ndCB0dXJuIG9uIGN1c3RvbSBsb2dnZXJzIHBlcnNpc3RlbnRseS5cIik7ITA9PT1hPyhcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJihcImZ1bmN0aW9uXCI9PT10eXBlb2YgY29uc29sZS5sb2c/VGI9cShjb25zb2xlLmxvZyxjb25zb2xlKTpcIm9iamVjdFwiPT09dHlwZW9mIGNvbnNvbGUubG9nJiYoVGI9ZnVuY3Rpb24oYSl7Y29uc29sZS5sb2coYSl9KSksYiYmemIuc2V0KFwibG9nZ2luZ19lbmFibGVkXCIsITApKTpoYShhKT9UYj1hOihUYj1udWxsLHpiLnJlbW92ZShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9ZnVuY3Rpb24gRShhKXshMD09PXdjJiYod2M9ITEsbnVsbD09PVRiJiYhMD09PXpiLmdldChcImxvZ2dpbmdfZW5hYmxlZFwiKSYmeGMoITApKTtpZihUYil7dmFyIGI9dmMuYXBwbHkobnVsbCxhcmd1bWVudHMpO1RiKGIpfX1cbmZ1bmN0aW9uIHljKGEpe3JldHVybiBmdW5jdGlvbigpe0UoYSxhcmd1bWVudHMpfX1mdW5jdGlvbiB6YyhhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe3ZhciBiPVwiRklSRUJBU0UgSU5URVJOQUwgRVJST1I6IFwiK3ZjLmFwcGx5KG51bGwsYXJndW1lbnRzKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUuZXJyb3I/Y29uc29sZS5lcnJvcihiKTpjb25zb2xlLmxvZyhiKX19ZnVuY3Rpb24gQWMoYSl7dmFyIGI9dmMuYXBwbHkobnVsbCxhcmd1bWVudHMpO3Rocm93IEVycm9yKFwiRklSRUJBU0UgRkFUQUwgRVJST1I6IFwiK2IpO31mdW5jdGlvbiBPKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7dmFyIGI9XCJGSVJFQkFTRSBXQVJOSU5HOiBcIit2Yy5hcHBseShudWxsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLndhcm4/Y29uc29sZS53YXJuKGIpOmNvbnNvbGUubG9nKGIpfX1cbmZ1bmN0aW9uIEJjKGEpe3ZhciBiLGMsZCxlLGYsaD1hO2Y9Yz1hPWI9XCJcIjtkPSEwO2U9XCJodHRwc1wiO2lmKHAoaCkpe3ZhciBrPWguaW5kZXhPZihcIi8vXCIpOzA8PWsmJihlPWguc3Vic3RyaW5nKDAsay0xKSxoPWguc3Vic3RyaW5nKGsrMikpO2s9aC5pbmRleE9mKFwiL1wiKTstMT09PWsmJihrPWgubGVuZ3RoKTtiPWguc3Vic3RyaW5nKDAsayk7Zj1cIlwiO2g9aC5zdWJzdHJpbmcoaykuc3BsaXQoXCIvXCIpO2ZvcihrPTA7azxoLmxlbmd0aDtrKyspaWYoMDxoW2tdLmxlbmd0aCl7dmFyIGw9aFtrXTt0cnl7bD1kZWNvZGVVUklDb21wb25lbnQobC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWNhdGNoKG0pe31mKz1cIi9cIitsfWg9Yi5zcGxpdChcIi5cIik7Mz09PWgubGVuZ3RoPyhhPWhbMV0sYz1oWzBdLnRvTG93ZXJDYXNlKCkpOjI9PT1oLmxlbmd0aCYmKGE9aFswXSk7az1iLmluZGV4T2YoXCI6XCIpOzA8PWsmJihkPVwiaHR0cHNcIj09PWV8fFwid3NzXCI9PT1lKX1cImZpcmViYXNlXCI9PT1hJiZBYyhiK1wiIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tIGluc3RlYWRcIik7XG5jJiZcInVuZGVmaW5lZFwiIT1jfHxBYyhcIkNhbm5vdCBwYXJzZSBGaXJlYmFzZSB1cmwuIFBsZWFzZSB1c2UgaHR0cHM6Ly88WU9VUiBGSVJFQkFTRT4uZmlyZWJhc2Vpby5jb21cIik7ZHx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYtMSE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKFwiaHR0cHM6XCIpJiZPKFwiSW5zZWN1cmUgRmlyZWJhc2UgYWNjZXNzIGZyb20gYSBzZWN1cmUgcGFnZS4gUGxlYXNlIHVzZSBodHRwcyBpbiBjYWxscyB0byBuZXcgRmlyZWJhc2UoKS5cIik7cmV0dXJue2pjOm5ldyBIYihiLGQsYyxcIndzXCI9PT1lfHxcIndzc1wiPT09ZSkscGF0aDpuZXcgTChmKX19ZnVuY3Rpb24gQ2MoYSl7cmV0dXJuIGdhKGEpJiYoYSE9YXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpfVxuZnVuY3Rpb24gRGMoYSl7aWYoXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSlhKCk7ZWxzZXt2YXIgYj0hMSxjPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keT9ifHwoYj0hMCxhKCkpOnNldFRpbWVvdXQoYyxNYXRoLmZsb29yKDEwKSl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsYywhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYywhMSkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiYoZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmMoKX0pLHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGMpKX19XG5mdW5jdGlvbiBoYyhhLGIpe2lmKGE9PT1iKXJldHVybiAwO2lmKFwiW01JTl9OQU1FXVwiPT09YXx8XCJbTUFYX05BTUVdXCI9PT1iKXJldHVybi0xO2lmKFwiW01JTl9OQU1FXVwiPT09Ynx8XCJbTUFYX05BTUVdXCI9PT1hKXJldHVybiAxO3ZhciBjPUVjKGEpLGQ9RWMoYik7cmV0dXJuIG51bGwhPT1jP251bGwhPT1kPzA9PWMtZD9hLmxlbmd0aC1iLmxlbmd0aDpjLWQ6LTE6bnVsbCE9PWQ/MTphPGI/LTE6MX1mdW5jdGlvbiBGYyhhLGIpe2lmKGImJmEgaW4gYilyZXR1cm4gYlthXTt0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQga2V5IChcIithK1wiKSBpbiBvYmplY3Q6IFwiK0IoYikpO31cbmZ1bmN0aW9uIEdjKGEpe2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8bnVsbD09PWEpcmV0dXJuIEIoYSk7dmFyIGI9W10sYztmb3IoYyBpbiBhKWIucHVzaChjKTtiLnNvcnQoKTtjPVwie1wiO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKTAhPT1kJiYoYys9XCIsXCIpLGMrPUIoYltkXSksYys9XCI6XCIsYys9R2MoYVtiW2RdXSk7cmV0dXJuIGMrXCJ9XCJ9ZnVuY3Rpb24gSGMoYSxiKXtpZihhLmxlbmd0aDw9YilyZXR1cm5bYV07Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrPWIpZCtiPmE/Yy5wdXNoKGEuc3Vic3RyaW5nKGQsYS5sZW5ndGgpKTpjLnB1c2goYS5zdWJzdHJpbmcoZCxkK2IpKTtyZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIpe2lmKGVhKGEpKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWIoYyxhW2NdKTtlbHNlIHIoYSxiKX1cbmZ1bmN0aW9uIEpjKGEpe0goIUNjKGEpLFwiSW52YWxpZCBKU09OIG51bWJlclwiKTt2YXIgYixjLGQsZTswPT09YT8oZD1jPTAsYj0tSW5maW5pdHk9PT0xL2E/MTowKTooYj0wPmEsYT1NYXRoLmFicyhhKSxhPj1NYXRoLnBvdygyLC0xMDIyKT8oZD1NYXRoLm1pbihNYXRoLmZsb29yKE1hdGgubG9nKGEpL01hdGguTE4yKSwxMDIzKSxjPWQrMTAyMyxkPU1hdGgucm91bmQoYSpNYXRoLnBvdygyLDUyLWQpLU1hdGgucG93KDIsNTIpKSk6KGM9MCxkPU1hdGgucm91bmQoYS9NYXRoLnBvdygyLC0xMDc0KSkpKTtlPVtdO2ZvcihhPTUyO2E7LS1hKWUucHVzaChkJTI/MTowKSxkPU1hdGguZmxvb3IoZC8yKTtmb3IoYT0xMTthOy0tYSllLnB1c2goYyUyPzE6MCksYz1NYXRoLmZsb29yKGMvMik7ZS5wdXNoKGI/MTowKTtlLnJldmVyc2UoKTtiPWUuam9pbihcIlwiKTtjPVwiXCI7Zm9yKGE9MDs2ND5hO2ErPTgpZD1wYXJzZUludChiLnN1YnN0cihhLDgpLDIpLnRvU3RyaW5nKDE2KSwxPT09ZC5sZW5ndGgmJlxuKGQ9XCIwXCIrZCksYys9ZDtyZXR1cm4gYy50b0xvd2VyQ2FzZSgpfXZhciBLYz0vXi0/XFxkezEsMTB9JC87ZnVuY3Rpb24gRWMoYSl7cmV0dXJuIEtjLnRlc3QoYSkmJihhPU51bWJlcihhKSwtMjE0NzQ4MzY0ODw9YSYmMjE0NzQ4MzY0Nz49YSk/YTpudWxsfWZ1bmN0aW9uIHViKGEpe3RyeXthKCl9Y2F0Y2goYil7c2V0VGltZW91dChmdW5jdGlvbigpe08oXCJFeGNlcHRpb24gd2FzIHRocm93biBieSB1c2VyIGNhbGxiYWNrLlwiLGIuc3RhY2t8fFwiXCIpO3Rocm93IGI7fSxNYXRoLmZsb29yKDApKX19ZnVuY3Rpb24gTGMoYSxiLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpjfSl9ZnVuY3Rpb24gTWMoYSxiKXt2YXIgYz1zZXRUaW1lb3V0KGEsYik7XCJvYmplY3RcIj09PXR5cGVvZiBjJiZjLnVucmVmJiZjLnVucmVmKCk7cmV0dXJuIGN9O2Z1bmN0aW9uIE5jKGEpe3ZhciBiPXt9LGM9e30sZD17fSxlPVwiXCI7dHJ5e3ZhciBmPWEuc3BsaXQoXCIuXCIpLGI9b2IodGMoZlswXSl8fFwiXCIpLGM9b2IodGMoZlsxXSl8fFwiXCIpLGU9ZlsyXSxkPWMuZHx8e307ZGVsZXRlIGMuZH1jYXRjaChoKXt9cmV0dXJue3RnOmIsSWU6YyxkYXRhOmQsbWc6ZX19ZnVuY3Rpb24gT2MoYSl7YT1OYyhhKTt2YXIgYj1hLkllO3JldHVybiEhYS5tZyYmISFiJiZcIm9iamVjdFwiPT09dHlwZW9mIGImJmIuaGFzT3duUHJvcGVydHkoXCJpYXRcIil9ZnVuY3Rpb24gUGMoYSl7YT1OYyhhKS5JZTtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJiEwPT09dyhhLFwiYWRtaW5cIil9O2Z1bmN0aW9uIFFjKGEsYixjKXt0aGlzLmY9eWMoXCJwOnJlc3Q6XCIpO3RoaXMuTD1hO3RoaXMuR2I9Yjt0aGlzLiRjPWM7dGhpcy4kPXt9fWZ1bmN0aW9uIFJjKGEsYil7aWYobihiKSlyZXR1cm5cInRhZyRcIitiO0goU2MoYS5tKSxcInNob3VsZCBoYXZlIGEgdGFnIGlmIGl0J3Mgbm90IGEgZGVmYXVsdCBxdWVyeS5cIik7cmV0dXJuIGEucGF0aC50b1N0cmluZygpfWc9UWMucHJvdG90eXBlO1xuZy4kZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnBhdGgudG9TdHJpbmcoKTt0aGlzLmYoXCJMaXN0ZW4gY2FsbGVkIGZvciBcIitlK1wiIFwiK2EuamEoKSk7dmFyIGY9UmMoYSxjKSxoPXt9O3RoaXMuJFtmXT1oO2E9VGMoYS5tKTt2YXIgaz10aGlzO1VjKHRoaXMsZStcIi5qc29uXCIsYSxmdW5jdGlvbihhLGIpe3ZhciB1PWI7NDA0PT09YSYmKGE9dT1udWxsKTtudWxsPT09YSYmay5HYihlLHUsITEsYyk7dyhrLiQsZik9PT1oJiZkKGE/NDAxPT1hP1wicGVybWlzc2lvbl9kZW5pZWRcIjpcInJlc3RfZXJyb3I6XCIrYTpcIm9rXCIsbnVsbCl9KX07Zy51Zj1mdW5jdGlvbihhLGIpe3ZhciBjPVJjKGEsYik7ZGVsZXRlIHRoaXMuJFtjXX07Zy5rZj1mdW5jdGlvbigpe307Zy5wZT1mdW5jdGlvbigpe307Zy5jZj1mdW5jdGlvbigpe307Zy54ZD1mdW5jdGlvbigpe307Zy5wdXQ9ZnVuY3Rpb24oKXt9O2cuYWY9ZnVuY3Rpb24oKXt9O2cud2U9ZnVuY3Rpb24oKXt9O1xuZnVuY3Rpb24gVWMoYSxiLGMsZCl7Yz1jfHx7fTtjLmZvcm1hdD1cImV4cG9ydFwiO2EuJGMuZ2V0VG9rZW4oITEpLnRoZW4oZnVuY3Rpb24oZSl7KGU9ZSYmZS5hY2Nlc3NUb2tlbikmJihjLmF1dGg9ZSk7dmFyIGY9KGEuTC5TYz9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK2EuTC5ob3N0K2IrXCI/XCIrZmIoYyk7YS5mKFwiU2VuZGluZyBSRVNUIHJlcXVlc3QgZm9yIFwiK2YpO3ZhciBoPW5ldyBYTUxIdHRwUmVxdWVzdDtoLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKGQmJjQ9PT1oLnJlYWR5U3RhdGUpe2EuZihcIlJFU1QgUmVzcG9uc2UgZm9yIFwiK2YrXCIgcmVjZWl2ZWQuIHN0YXR1czpcIixoLnN0YXR1cyxcInJlc3BvbnNlOlwiLGgucmVzcG9uc2VUZXh0KTt2YXIgYj1udWxsO2lmKDIwMDw9aC5zdGF0dXMmJjMwMD5oLnN0YXR1cyl7dHJ5e2I9b2IoaC5yZXNwb25zZVRleHQpfWNhdGNoKGMpe08oXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiByZXNwb25zZSBmb3IgXCIrZitcIjogXCIraC5yZXNwb25zZVRleHQpfWQobnVsbCxcbmIpfWVsc2UgNDAxIT09aC5zdGF0dXMmJjQwNCE9PWguc3RhdHVzJiZPKFwiR290IHVuc3VjY2Vzc2Z1bCBSRVNUIHJlc3BvbnNlIGZvciBcIitmK1wiIFN0YXR1czogXCIraC5zdGF0dXMpLGQoaC5zdGF0dXMpO2Q9bnVsbH19O2gub3BlbihcIkdFVFwiLGYsITApO2guc2VuZCgpfSl9O2Z1bmN0aW9uIFZjKGEsYixjKXt0aGlzLnR5cGU9V2M7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yjt0aGlzLmNoaWxkcmVuPWN9VmMucHJvdG90eXBlLk1jPWZ1bmN0aW9uKGEpe2lmKHRoaXMucGF0aC5lKCkpcmV0dXJuIGE9dGhpcy5jaGlsZHJlbi5zdWJ0cmVlKG5ldyBMKGEpKSxhLmUoKT9udWxsOmEudmFsdWU/bmV3IEFiKHRoaXMuc291cmNlLEMsYS52YWx1ZSk6bmV3IFZjKHRoaXMuc291cmNlLEMsYSk7SChKKHRoaXMucGF0aCk9PT1hLFwiQ2FuJ3QgZ2V0IGEgbWVyZ2UgZm9yIGEgY2hpbGQgbm90IG9uIHRoZSBwYXRoIG9mIHRoZSBvcGVyYXRpb25cIik7cmV0dXJuIG5ldyBWYyh0aGlzLnNvdXJjZSxEKHRoaXMucGF0aCksdGhpcy5jaGlsZHJlbil9O1ZjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBtZXJnZTogXCIrdGhpcy5jaGlsZHJlbi50b1N0cmluZygpK1wiKVwifTtmdW5jdGlvbiBYYyhhLGIpe3RoaXMucmY9e307dGhpcy5WYz1uZXcgTWIoYSk7dGhpcy52YT1iO3ZhciBjPTFFNCsyRTQqTWF0aC5yYW5kb20oKTtNYyhxKHRoaXMubGYsdGhpcyksTWF0aC5mbG9vcihjKSl9WGMucHJvdG90eXBlLmxmPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5WYy5nZXQoKSxiPXt9LGM9ITEsZDtmb3IoZCBpbiBhKTA8YVtkXSYmY2IodGhpcy5yZixkKSYmKGJbZF09YVtkXSxjPSEwKTtjJiZ0aGlzLnZhLndlKGIpO01jKHEodGhpcy5sZix0aGlzKSxNYXRoLmZsb29yKDZFNSpNYXRoLnJhbmRvbSgpKSl9O3ZhciBZYz17fSxaYz17fTtmdW5jdGlvbiAkYyhhKXthPWEudG9TdHJpbmcoKTtZY1thXXx8KFljW2FdPW5ldyBLYik7cmV0dXJuIFljW2FdfWZ1bmN0aW9uIGFkKGEsYil7dmFyIGM9YS50b1N0cmluZygpO1pjW2NdfHwoWmNbY109YigpKTtyZXR1cm4gWmNbY119O3ZhciBiZD1udWxsO1widW5kZWZpbmVkXCIhPT10eXBlb2YgTW96V2ViU29ja2V0P2JkPU1veldlYlNvY2tldDpcInVuZGVmaW5lZFwiIT09dHlwZW9mIFdlYlNvY2tldCYmKGJkPVdlYlNvY2tldCk7ZnVuY3Rpb24gY2QoYSxiLGMsZCl7dGhpcy5ZZD1hO3RoaXMuZj15Yyh0aGlzLllkKTt0aGlzLmZyYW1lcz10aGlzLnpjPW51bGw7dGhpcy5wYj10aGlzLnFiPXRoaXMuRGU9MDt0aGlzLlZhPSRjKGIpO2E9e3Y6XCI1XCJ9O1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJihhLnI9XCJmXCIpO2MmJihhLnM9Yyk7ZCYmKGEubHM9ZCk7dGhpcy5KZT1KYihiLFwid2Vic29ja2V0XCIsYSl9dmFyIGRkO1xuY2QucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiKXt0aGlzLmliPWI7dGhpcy5YZj1hO3RoaXMuZihcIldlYnNvY2tldCBjb25uZWN0aW5nIHRvIFwiK3RoaXMuSmUpO3RoaXMud2M9ITE7eWIuc2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIiwhMCk7dHJ5e3RoaXMuSWE9bmV3IGJkKHRoaXMuSmUpfWNhdGNoKGMpe3RoaXMuZihcIkVycm9yIGluc3RhbnRpYXRpbmcgV2ViU29ja2V0LlwiKTt2YXIgZD1jLm1lc3NhZ2V8fGMuZGF0YTtkJiZ0aGlzLmYoZCk7dGhpcy5iYigpO3JldHVybn12YXIgZT10aGlzO3RoaXMuSWEub25vcGVuPWZ1bmN0aW9uKCl7ZS5mKFwiV2Vic29ja2V0IGNvbm5lY3RlZC5cIik7ZS53Yz0hMH07dGhpcy5JYS5vbmNsb3NlPWZ1bmN0aW9uKCl7ZS5mKFwiV2Vic29ja2V0IGNvbm5lY3Rpb24gd2FzIGRpc2Nvbm5lY3RlZC5cIik7ZS5JYT1udWxsO2UuYmIoKX07dGhpcy5JYS5vbm1lc3NhZ2U9ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWUuSWEpaWYoYT1hLmRhdGEsZS5wYis9XG5hLmxlbmd0aCxMYihlLlZhLFwiYnl0ZXNfcmVjZWl2ZWRcIixhLmxlbmd0aCksZWQoZSksbnVsbCE9PWUuZnJhbWVzKWZkKGUsYSk7ZWxzZXthOntIKG51bGw9PT1lLmZyYW1lcyxcIldlIGFscmVhZHkgaGF2ZSBhIGZyYW1lIGJ1ZmZlclwiKTtpZig2Pj1hLmxlbmd0aCl7dmFyIGI9TnVtYmVyKGEpO2lmKCFpc05hTihiKSl7ZS5EZT1iO2UuZnJhbWVzPVtdO2E9bnVsbDticmVhayBhfX1lLkRlPTE7ZS5mcmFtZXM9W119bnVsbCE9PWEmJmZkKGUsYSl9fTt0aGlzLklhLm9uZXJyb3I9ZnVuY3Rpb24oYSl7ZS5mKFwiV2ViU29ja2V0IGVycm9yLiAgQ2xvc2luZyBjb25uZWN0aW9uLlwiKTsoYT1hLm1lc3NhZ2V8fGEuZGF0YSkmJmUuZihhKTtlLmJiKCl9fTtjZC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt9O1xuY2QuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dmFyIGI9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZCAoWzAtOV17MCx9XFwuWzAtOV17MCx9KS8pO2ImJjE8Yi5sZW5ndGgmJjQuND5wYXJzZUZsb2F0KGJbMV0pJiYoYT0hMCl9cmV0dXJuIWEmJm51bGwhPT1iZCYmIWRkfTtjZC5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5PTI7Y2QuaGVhbHRoeVRpbWVvdXQ9M0U0O2c9Y2QucHJvdG90eXBlO2cuc2Q9ZnVuY3Rpb24oKXt5Yi5yZW1vdmUoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKX07ZnVuY3Rpb24gZmQoYSxiKXthLmZyYW1lcy5wdXNoKGIpO2lmKGEuZnJhbWVzLmxlbmd0aD09YS5EZSl7dmFyIGM9YS5mcmFtZXMuam9pbihcIlwiKTthLmZyYW1lcz1udWxsO2M9b2IoYyk7YS5YZihjKX19XG5nLnNlbmQ9ZnVuY3Rpb24oYSl7ZWQodGhpcyk7YT1CKGEpO3RoaXMucWIrPWEubGVuZ3RoO0xiKHRoaXMuVmEsXCJieXRlc19zZW50XCIsYS5sZW5ndGgpO2E9SGMoYSwxNjM4NCk7MTxhLmxlbmd0aCYmZ2QodGhpcyxTdHJpbmcoYS5sZW5ndGgpKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylnZCh0aGlzLGFbYl0pfTtnLlRjPWZ1bmN0aW9uKCl7dGhpcy5BYj0hMDt0aGlzLnpjJiYoY2xlYXJJbnRlcnZhbCh0aGlzLnpjKSx0aGlzLnpjPW51bGwpO3RoaXMuSWEmJih0aGlzLklhLmNsb3NlKCksdGhpcy5JYT1udWxsKX07Zy5iYj1mdW5jdGlvbigpe3RoaXMuQWJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5UYygpLHRoaXMuaWImJih0aGlzLmliKHRoaXMud2MpLHRoaXMuaWI9bnVsbCkpfTtnLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5BYnx8KHRoaXMuZihcIldlYlNvY2tldCBpcyBiZWluZyBjbG9zZWRcIiksdGhpcy5UYygpKX07XG5mdW5jdGlvbiBlZChhKXtjbGVhckludGVydmFsKGEuemMpO2EuemM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXthLklhJiZnZChhLFwiMFwiKTtlZChhKX0sTWF0aC5mbG9vcig0NUUzKSl9ZnVuY3Rpb24gZ2QoYSxiKXt0cnl7YS5JYS5zZW5kKGIpfWNhdGNoKGMpe2EuZihcIkV4Y2VwdGlvbiB0aHJvd24gZnJvbSBXZWJTb2NrZXQuc2VuZCgpOlwiLGMubWVzc2FnZXx8Yy5kYXRhLFwiQ2xvc2luZyBjb25uZWN0aW9uLlwiKSxzZXRUaW1lb3V0KHEoYS5iYixhKSwwKX19O2Z1bmN0aW9uIGhkKCl7dGhpcy5mYj17fX1cbmZ1bmN0aW9uIGpkKGEsYil7dmFyIGM9Yi50eXBlLGQ9Yi5YYTtIKFwiY2hpbGRfYWRkZWRcIj09Y3x8XCJjaGlsZF9jaGFuZ2VkXCI9PWN8fFwiY2hpbGRfcmVtb3ZlZFwiPT1jLFwiT25seSBjaGlsZCBjaGFuZ2VzIHN1cHBvcnRlZCBmb3IgdHJhY2tpbmdcIik7SChcIi5wcmlvcml0eVwiIT09ZCxcIk9ubHkgbm9uLXByaW9yaXR5IGNoaWxkIGNoYW5nZXMgY2FuIGJlIHRyYWNrZWQuXCIpO3ZhciBlPXcoYS5mYixkKTtpZihlKXt2YXIgZj1lLnR5cGU7aWYoXCJjaGlsZF9hZGRlZFwiPT1jJiZcImNoaWxkX3JlbW92ZWRcIj09ZilhLmZiW2RdPW5ldyBJKFwiY2hpbGRfY2hhbmdlZFwiLGIuSmEsZCxlLkphKTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1jJiZcImNoaWxkX2FkZGVkXCI9PWYpZGVsZXRlIGEuZmJbZF07ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5mYltkXT1uZXcgSShcImNoaWxkX3JlbW92ZWRcIixlLm9lLGQpO2Vsc2UgaWYoXCJjaGlsZF9jaGFuZ2VkXCI9PWMmJlxuXCJjaGlsZF9hZGRlZFwiPT1mKWEuZmJbZF09bmV3IEkoXCJjaGlsZF9hZGRlZFwiLGIuSmEsZCk7ZWxzZSBpZihcImNoaWxkX2NoYW5nZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5mYltkXT1uZXcgSShcImNoaWxkX2NoYW5nZWRcIixiLkphLGQsZS5vZSk7ZWxzZSB0aHJvdyBzYyhcIklsbGVnYWwgY29tYmluYXRpb24gb2YgY2hhbmdlczogXCIrYitcIiBvY2N1cnJlZCBhZnRlciBcIitlKTt9ZWxzZSBhLmZiW2RdPWJ9O2Z1bmN0aW9uIGtkKGEpe3RoaXMuVj1hO3RoaXMuZz1hLm0uZ31mdW5jdGlvbiBsZChhLGIsYyxkKXt2YXIgZT1bXSxmPVtdO0phKGIsZnVuY3Rpb24oYil7XCJjaGlsZF9jaGFuZ2VkXCI9PT1iLnR5cGUmJmEuZy5uZChiLm9lLGIuSmEpJiZmLnB1c2gobmV3IEkoXCJjaGlsZF9tb3ZlZFwiLGIuSmEsYi5YYSkpfSk7bWQoYSxlLFwiY2hpbGRfcmVtb3ZlZFwiLGIsZCxjKTttZChhLGUsXCJjaGlsZF9hZGRlZFwiLGIsZCxjKTttZChhLGUsXCJjaGlsZF9tb3ZlZFwiLGYsZCxjKTttZChhLGUsXCJjaGlsZF9jaGFuZ2VkXCIsYixkLGMpO21kKGEsZSxjYyxiLGQsYyk7cmV0dXJuIGV9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2Q9S2EoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09Y30pO1NhKGQscShhLkZmLGEpKTtKYShkLGZ1bmN0aW9uKGMpe3ZhciBkPW5kKGEsYyxmKTtKYShlLGZ1bmN0aW9uKGUpe2UubmYoYy50eXBlKSYmYi5wdXNoKGUuY3JlYXRlRXZlbnQoZCxhLlYpKX0pfSl9XG5mdW5jdGlvbiBuZChhLGIsYyl7XCJ2YWx1ZVwiIT09Yi50eXBlJiZcImNoaWxkX3JlbW92ZWRcIiE9PWIudHlwZSYmKGIuRGQ9Yy5WZShiLlhhLGIuSmEsYS5nKSk7cmV0dXJuIGJ9a2QucHJvdG90eXBlLkZmPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YS5YYXx8bnVsbD09Yi5YYSl0aHJvdyBzYyhcIlNob3VsZCBvbmx5IGNvbXBhcmUgY2hpbGRfIGV2ZW50cy5cIik7cmV0dXJuIHRoaXMuZy5jb21wYXJlKG5ldyBLKGEuWGEsYS5KYSksbmV3IEsoYi5YYSxiLkphKSl9O2Z1bmN0aW9uIG9kKGEsYil7dGhpcy5TZD1hO3RoaXMuRGY9Yn1mdW5jdGlvbiBwZChhKXt0aGlzLlU9YX1cbnBkLnByb3RvdHlwZS5lYj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uZXcgaGQsZjtpZihiLnR5cGU9PT1CYiliLnNvdXJjZS5jZT9jPXFkKHRoaXMsYSxiLnBhdGgsYi5HYSxjLGQsZSk6KEgoYi5zb3VyY2UuU2UsXCJVbmtub3duIHNvdXJjZS5cIiksZj1iLnNvdXJjZS5DZXx8ZWMoYS53KCkpJiYhYi5wYXRoLmUoKSxjPXJkKHRoaXMsYSxiLnBhdGgsYi5HYSxjLGQsZixlKSk7ZWxzZSBpZihiLnR5cGU9PT1XYyliLnNvdXJjZS5jZT9jPXNkKHRoaXMsYSxiLnBhdGgsYi5jaGlsZHJlbixjLGQsZSk6KEgoYi5zb3VyY2UuU2UsXCJVbmtub3duIHNvdXJjZS5cIiksZj1iLnNvdXJjZS5DZXx8ZWMoYS53KCkpLGM9dGQodGhpcyxhLGIucGF0aCxiLmNoaWxkcmVuLGMsZCxmLGUpKTtlbHNlIGlmKGIudHlwZT09PXVkKWlmKGIuSWQpaWYoYj1iLnBhdGgsbnVsbCE9Yy5sYyhiKSljPWE7ZWxzZXtmPW5ldyBZYihjLGEsZCk7ZD1hLk4uaigpO2lmKGIuZSgpfHxcIi5wcmlvcml0eVwiPT09SihiKSlkYyhhLncoKSk/XG5iPWMuQWEoYWMoYSkpOihiPWEudygpLmooKSxIKGIgaW5zdGFuY2VvZiBQLFwic2VydmVyQ2hpbGRyZW4gd291bGQgYmUgY29tcGxldGUgaWYgbGVhZiBub2RlXCIpLGI9Yy5yYyhiKSksYj10aGlzLlUueWEoZCxiLGUpO2Vsc2V7dmFyIGg9SihiKSxrPWMucWMoaCxhLncoKSk7bnVsbD09ayYmWmIoYS53KCksaCkmJihrPWQuUShoKSk7Yj1udWxsIT1rP3RoaXMuVS5GKGQsaCxrLEQoYiksZixlKTphLk4uaigpLkRhKGgpP3RoaXMuVS5GKGQsaCxHLEQoYiksZixlKTpkO2IuZSgpJiZkYyhhLncoKSkmJihkPWMuQWEoYWMoYSkpLGQuSigpJiYoYj10aGlzLlUueWEoYixkLGUpKSl9ZD1kYyhhLncoKSl8fG51bGwhPWMubGMoQyk7Yz12ZChhLGIsZCx0aGlzLlUuTmEoKSl9ZWxzZSBjPXdkKHRoaXMsYSxiLnBhdGgsYi5PYixjLGQsZSk7ZWxzZSBpZihiLnR5cGU9PT1EYilkPWIucGF0aCxiPWEudygpLGY9Yi5qKCksaD1iLmRhfHxkLmUoKSxjPXhkKHRoaXMsbmV3IHlkKGEuTixuZXcgJGIoZixcbmgsYi5TYikpLGQsYyxYYixlKTtlbHNlIHRocm93IHNjKFwiVW5rbm93biBvcGVyYXRpb24gdHlwZTogXCIrYi50eXBlKTtlPXRhKGUuZmIpO2Q9YztiPWQuTjtiLmRhJiYoZj1iLmooKS5KKCl8fGIuaigpLmUoKSxoPXpkKGEpLCgwPGUubGVuZ3RofHwhYS5OLmRhfHxmJiYhYi5qKCkuWihoKXx8IWIuaigpLkMoKS5aKGguQygpKSkmJmUucHVzaChiYyh6ZChkKSkpKTtyZXR1cm4gbmV3IG9kKGMsZSl9O1xuZnVuY3Rpb24geGQoYSxiLGMsZCxlLGYpe3ZhciBoPWIuTjtpZihudWxsIT1kLmxjKGMpKXJldHVybiBiO3ZhciBrO2lmKGMuZSgpKUgoZGMoYi53KCkpLFwiSWYgY2hhbmdlIHBhdGggaXMgZW1wdHksIHdlIG11c3QgaGF2ZSBjb21wbGV0ZSBzZXJ2ZXIgZGF0YVwiKSxlYyhiLncoKSk/KGU9YWMoYiksZD1kLnJjKGUgaW5zdGFuY2VvZiBQP2U6RykpOmQ9ZC5BYShhYyhiKSksZj1hLlUueWEoYi5OLmooKSxkLGYpO2Vsc2V7dmFyIGw9SihjKTtpZihcIi5wcmlvcml0eVwiPT1sKUgoMT09QWQoYyksXCJDYW4ndCBoYXZlIGEgcHJpb3JpdHkgd2l0aCBhZGRpdGlvbmFsIHBhdGggY29tcG9uZW50c1wiKSxmPWguaigpLGs9Yi53KCkuaigpLGQ9ZC5hZChjLGYsayksZj1udWxsIT1kP2EuVS5mYShmLGQpOmguaigpO2Vsc2V7dmFyIG09RChjKTtaYihoLGwpPyhrPWIudygpLmooKSxkPWQuYWQoYyxoLmooKSxrKSxkPW51bGwhPWQ/aC5qKCkuUShsKS5GKG0sZCk6aC5qKCkuUShsKSk6ZD1kLnFjKGwsXG5iLncoKSk7Zj1udWxsIT1kP2EuVS5GKGguaigpLGwsZCxtLGUsZik6aC5qKCl9fXJldHVybiB2ZChiLGYsaC5kYXx8Yy5lKCksYS5VLk5hKCkpfWZ1bmN0aW9uIHJkKGEsYixjLGQsZSxmLGgsayl7dmFyIGw9Yi53KCk7aD1oP2EuVTphLlUuVWIoKTtpZihjLmUoKSlkPWgueWEobC5qKCksZCxudWxsKTtlbHNlIGlmKGguTmEoKSYmIWwuU2IpZD1sLmooKS5GKGMsZCksZD1oLnlhKGwuaigpLGQsbnVsbCk7ZWxzZXt2YXIgbT1KKGMpO2lmKCFmYyhsLGMpJiYxPEFkKGMpKXJldHVybiBiO3ZhciB1PUQoYyk7ZD1sLmooKS5RKG0pLkYodSxkKTtkPVwiLnByaW9yaXR5XCI9PW0/aC5mYShsLmooKSxkKTpoLkYobC5qKCksbSxkLHUsWGIsbnVsbCl9bD1sLmRhfHxjLmUoKTtiPW5ldyB5ZChiLk4sbmV3ICRiKGQsbCxoLk5hKCkpKTtyZXR1cm4geGQoYSxiLGMsZSxuZXcgWWIoZSxiLGYpLGspfVxuZnVuY3Rpb24gcWQoYSxiLGMsZCxlLGYsaCl7dmFyIGs9Yi5OO2U9bmV3IFliKGUsYixmKTtpZihjLmUoKSloPWEuVS55YShiLk4uaigpLGQsaCksYT12ZChiLGgsITAsYS5VLk5hKCkpO2Vsc2UgaWYoZj1KKGMpLFwiLnByaW9yaXR5XCI9PT1mKWg9YS5VLmZhKGIuTi5qKCksZCksYT12ZChiLGgsay5kYSxrLlNiKTtlbHNle2M9RChjKTt2YXIgbD1rLmooKS5RKGYpO2lmKCFjLmUoKSl7dmFyIG09ZS5UZShmKTtkPW51bGwhPW0/XCIucHJpb3JpdHlcIj09PUJkKGMpJiZtLlAoYy5wYXJlbnQoKSkuZSgpP206bS5GKGMsZCk6R31sLlooZCk/YT1iOihoPWEuVS5GKGsuaigpLGYsZCxjLGUsaCksYT12ZChiLGgsay5kYSxhLlUuTmEoKSkpfXJldHVybiBhfVxuZnVuY3Rpb24gc2QoYSxiLGMsZCxlLGYsaCl7dmFyIGs9YjtDZChkLGZ1bmN0aW9uKGQsbSl7dmFyIHU9Yy5uKGQpO1piKGIuTixKKHUpKSYmKGs9cWQoYSxrLHUsbSxlLGYsaCkpfSk7Q2QoZCxmdW5jdGlvbihkLG0pe3ZhciB1PWMubihkKTtaYihiLk4sSih1KSl8fChrPXFkKGEsayx1LG0sZSxmLGgpKX0pO3JldHVybiBrfWZ1bmN0aW9uIERkKGEsYil7Q2QoYixmdW5jdGlvbihiLGQpe2E9YS5GKGIsZCl9KTtyZXR1cm4gYX1cbmZ1bmN0aW9uIHRkKGEsYixjLGQsZSxmLGgsayl7aWYoYi53KCkuaigpLmUoKSYmIWRjKGIudygpKSlyZXR1cm4gYjt2YXIgbD1iO2M9Yy5lKCk/ZDpFZChRLGMsZCk7dmFyIG09Yi53KCkuaigpO2MuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYyxkKXtpZihtLkRhKGMpKXt2YXIgRj1iLncoKS5qKCkuUShjKSxGPURkKEYsZCk7bD1yZChhLGwsbmV3IEwoYyksRixlLGYsaCxrKX19KTtjLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKGMsZCl7dmFyIEY9IVpiKGIudygpLGMpJiZudWxsPT1kLnZhbHVlO20uRGEoYyl8fEZ8fChGPWIudygpLmooKS5RKGMpLEY9RGQoRixkKSxsPXJkKGEsbCxuZXcgTChjKSxGLGUsZixoLGspKX0pO3JldHVybiBsfVxuZnVuY3Rpb24gd2QoYSxiLGMsZCxlLGYsaCl7aWYobnVsbCE9ZS5sYyhjKSlyZXR1cm4gYjt2YXIgaz1lYyhiLncoKSksbD1iLncoKTtpZihudWxsIT1kLnZhbHVlKXtpZihjLmUoKSYmbC5kYXx8ZmMobCxjKSlyZXR1cm4gcmQoYSxiLGMsbC5qKCkuUChjKSxlLGYsayxoKTtpZihjLmUoKSl7dmFyIG09UTtsLmooKS5PKEZkLGZ1bmN0aW9uKGEsYil7bT1tLnNldChuZXcgTChhKSxiKX0pO3JldHVybiB0ZChhLGIsYyxtLGUsZixrLGgpfXJldHVybiBifW09UTtDZChkLGZ1bmN0aW9uKGEpe3ZhciBiPWMubihhKTtmYyhsLGIpJiYobT1tLnNldChhLGwuaigpLlAoYikpKX0pO3JldHVybiB0ZChhLGIsYyxtLGUsZixrLGgpfTtmdW5jdGlvbiBHZChhKXt0aGlzLmc9YX1nPUdkLnByb3RvdHlwZTtnLkY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe0goYS55Yyh0aGlzLmcpLFwiQSBub2RlIG11c3QgYmUgaW5kZXhlZCBpZiBvbmx5IGEgY2hpbGQgaXMgdXBkYXRlZFwiKTtlPWEuUShiKTtpZihlLlAoZCkuWihjLlAoZCkpJiZlLmUoKT09Yy5lKCkpcmV0dXJuIGE7bnVsbCE9ZiYmKGMuZSgpP2EuRGEoYik/amQoZixuZXcgSShcImNoaWxkX3JlbW92ZWRcIixlLGIpKTpIKGEuSigpLFwiQSBjaGlsZCByZW1vdmUgd2l0aG91dCBhbiBvbGQgY2hpbGQgb25seSBtYWtlcyBzZW5zZSBvbiBhIGxlYWYgbm9kZVwiKTplLmUoKT9qZChmLG5ldyBJKFwiY2hpbGRfYWRkZWRcIixjLGIpKTpqZChmLG5ldyBJKFwiY2hpbGRfY2hhbmdlZFwiLGMsYixlKSkpO3JldHVybiBhLkooKSYmYy5lKCk/YTphLlQoYixjKS5uYih0aGlzLmcpfTtcbmcueWE9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWMmJihhLkooKXx8YS5PKE4sZnVuY3Rpb24oYSxlKXtiLkRhKGEpfHxqZChjLG5ldyBJKFwiY2hpbGRfcmVtb3ZlZFwiLGUsYSkpfSksYi5KKCl8fGIuTyhOLGZ1bmN0aW9uKGIsZSl7aWYoYS5EYShiKSl7dmFyIGY9YS5RKGIpO2YuWihlKXx8amQoYyxuZXcgSShcImNoaWxkX2NoYW5nZWRcIixlLGIsZikpfWVsc2UgamQoYyxuZXcgSShcImNoaWxkX2FkZGVkXCIsZSxiKSl9KSk7cmV0dXJuIGIubmIodGhpcy5nKX07Zy5mYT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmUoKT9HOmEuZmEoYil9O2cuTmE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5VYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtmdW5jdGlvbiBIZChhKXt0aGlzLmZlPW5ldyBHZChhLmcpO3RoaXMuZz1hLmc7dmFyIGI7YS5rYT8oYj1JZChhKSxiPWEuZy5FYyhKZChhKSxiKSk6Yj1hLmcuSGMoKTt0aGlzLlVjPWI7YS5uYT8oYj1LZChhKSxhPWEuZy5FYyhMZChhKSxiKSk6YT1hLmcuRmMoKTt0aGlzLnZjPWF9Zz1IZC5wcm90b3R5cGU7Zy5tYXRjaGVzPWZ1bmN0aW9uKGEpe3JldHVybiAwPj10aGlzLmcuY29tcGFyZSh0aGlzLlVjLGEpJiYwPj10aGlzLmcuY29tcGFyZShhLHRoaXMudmMpfTtnLkY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMubWF0Y2hlcyhuZXcgSyhiLGMpKXx8KGM9Ryk7cmV0dXJuIHRoaXMuZmUuRihhLGIsYyxkLGUsZil9O1xuZy55YT1mdW5jdGlvbihhLGIsYyl7Yi5KKCkmJihiPUcpO3ZhciBkPWIubmIodGhpcy5nKSxkPWQuZmEoRyksZT10aGlzO2IuTyhOLGZ1bmN0aW9uKGEsYil7ZS5tYXRjaGVzKG5ldyBLKGEsYikpfHwoZD1kLlQoYSxHKSl9KTtyZXR1cm4gdGhpcy5mZS55YShhLGQsYyl9O2cuZmE9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2cuTmE9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5VYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlfTtmdW5jdGlvbiBNZChhKXt0aGlzLnNhPW5ldyBIZChhKTt0aGlzLmc9YS5nO0goYS54YSxcIk9ubHkgdmFsaWQgaWYgbGltaXQgaGFzIGJlZW4gc2V0XCIpO3RoaXMub2E9YS5vYTt0aGlzLkliPSFOZChhKX1nPU1kLnByb3RvdHlwZTtnLkY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuc2EubWF0Y2hlcyhuZXcgSyhiLGMpKXx8KGM9Ryk7cmV0dXJuIGEuUShiKS5aKGMpP2E6YS5FYigpPHRoaXMub2E/dGhpcy5zYS5VYigpLkYoYSxiLGMsZCxlLGYpOk9kKHRoaXMsYSxiLGMsZSxmKX07XG5nLnlhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihiLkooKXx8Yi5lKCkpZD1HLm5iKHRoaXMuZyk7ZWxzZSBpZigyKnRoaXMub2E8Yi5FYigpJiZiLnljKHRoaXMuZykpe2Q9Ry5uYih0aGlzLmcpO2I9dGhpcy5JYj9iLlpiKHRoaXMuc2EudmMsdGhpcy5nKTpiLlhiKHRoaXMuc2EuVWMsdGhpcy5nKTtmb3IodmFyIGU9MDswPGIuUGEubGVuZ3RoJiZlPHRoaXMub2E7KXt2YXIgZj1SKGIpLGg7aWYoaD10aGlzLkliPzA+PXRoaXMuZy5jb21wYXJlKHRoaXMuc2EuVWMsZik6MD49dGhpcy5nLmNvbXBhcmUoZix0aGlzLnNhLnZjKSlkPWQuVChmLm5hbWUsZi5SKSxlKys7ZWxzZSBicmVha319ZWxzZXtkPWIubmIodGhpcy5nKTtkPWQuZmEoRyk7dmFyIGssbCxtO2lmKHRoaXMuSWIpe2I9ZC5XZSh0aGlzLmcpO2s9dGhpcy5zYS52YztsPXRoaXMuc2EuVWM7dmFyIHU9UGQodGhpcy5nKTttPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHUoYixhKX19ZWxzZSBiPWQuV2IodGhpcy5nKSxrPXRoaXMuc2EuVWMsXG5sPXRoaXMuc2EudmMsbT1QZCh0aGlzLmcpO2Zvcih2YXIgZT0wLHo9ITE7MDxiLlBhLmxlbmd0aDspZj1SKGIpLCF6JiYwPj1tKGssZikmJih6PSEwKSwoaD16JiZlPHRoaXMub2EmJjA+PW0oZixsKSk/ZSsrOmQ9ZC5UKGYubmFtZSxHKX1yZXR1cm4gdGhpcy5zYS5VYigpLnlhKGEsZCxjKX07Zy5mYT1mdW5jdGlvbihhKXtyZXR1cm4gYX07Zy5OYT1mdW5jdGlvbigpe3JldHVybiEwfTtnLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2EuVWIoKX07XG5mdW5jdGlvbiBPZChhLGIsYyxkLGUsZil7dmFyIGg7aWYoYS5JYil7dmFyIGs9UGQoYS5nKTtoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGsoYixhKX19ZWxzZSBoPVBkKGEuZyk7SChiLkViKCk9PWEub2EsXCJcIik7dmFyIGw9bmV3IEsoYyxkKSxtPWEuSWI/UWQoYixhLmcpOlJkKGIsYS5nKSx1PWEuc2EubWF0Y2hlcyhsKTtpZihiLkRhKGMpKXtmb3IodmFyIHo9Yi5RKGMpLG09ZS5kZShhLmcsbSxhLkliKTtudWxsIT1tJiYobS5uYW1lPT1jfHxiLkRhKG0ubmFtZSkpOyltPWUuZGUoYS5nLG0sYS5JYik7ZT1udWxsPT1tPzE6aChtLGwpO2lmKHUmJiFkLmUoKSYmMDw9ZSlyZXR1cm4gbnVsbCE9ZiYmamQoZixuZXcgSShcImNoaWxkX2NoYW5nZWRcIixkLGMseikpLGIuVChjLGQpO251bGwhPWYmJmpkKGYsbmV3IEkoXCJjaGlsZF9yZW1vdmVkXCIseixjKSk7Yj1iLlQoYyxHKTtyZXR1cm4gbnVsbCE9bSYmYS5zYS5tYXRjaGVzKG0pPyhudWxsIT1mJiZqZChmLG5ldyBJKFwiY2hpbGRfYWRkZWRcIixcbm0uUixtLm5hbWUpKSxiLlQobS5uYW1lLG0uUikpOmJ9cmV0dXJuIGQuZSgpP2I6dSYmMDw9aChtLGwpPyhudWxsIT1mJiYoamQoZixuZXcgSShcImNoaWxkX3JlbW92ZWRcIixtLlIsbS5uYW1lKSksamQoZixuZXcgSShcImNoaWxkX2FkZGVkXCIsZCxjKSkpLGIuVChjLGQpLlQobS5uYW1lLEcpKTpifTtmdW5jdGlvbiBxYyhhLGIpe3RoaXMuQj1hO0gobih0aGlzLkIpJiZudWxsIT09dGhpcy5CLFwiTGVhZk5vZGUgc2hvdWxkbid0IGJlIGNyZWF0ZWQgd2l0aCBudWxsL3VuZGVmaW5lZCB2YWx1ZS5cIik7dGhpcy5hYT1ifHxHO1NkKHRoaXMuYWEpO3RoaXMuRGI9bnVsbH12YXIgVGQ9W1wib2JqZWN0XCIsXCJib29sZWFuXCIsXCJudW1iZXJcIixcInN0cmluZ1wiXTtnPXFjLnByb3RvdHlwZTtnLko9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5DPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWF9O2cuZmE9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBxYyh0aGlzLkIsYSl9O2cuUT1mdW5jdGlvbihhKXtyZXR1cm5cIi5wcmlvcml0eVwiPT09YT90aGlzLmFhOkd9O2cuUD1mdW5jdGlvbihhKXtyZXR1cm4gYS5lKCk/dGhpczpcIi5wcmlvcml0eVwiPT09SihhKT90aGlzLmFhOkd9O2cuRGE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5WZT1mdW5jdGlvbigpe3JldHVybiBudWxsfTtcbmcuVD1mdW5jdGlvbihhLGIpe3JldHVyblwiLnByaW9yaXR5XCI9PT1hP3RoaXMuZmEoYik6Yi5lKCkmJlwiLnByaW9yaXR5XCIhPT1hP3RoaXM6Ry5UKGEsYikuZmEodGhpcy5hYSl9O2cuRj1mdW5jdGlvbihhLGIpe3ZhciBjPUooYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7aWYoYi5lKCkmJlwiLnByaW9yaXR5XCIhPT1jKXJldHVybiB0aGlzO0goXCIucHJpb3JpdHlcIiE9PWN8fDE9PT1BZChhKSxcIi5wcmlvcml0eSBtdXN0IGJlIHRoZSBsYXN0IHRva2VuIGluIGEgcGF0aFwiKTtyZXR1cm4gdGhpcy5UKGMsRy5GKEQoYSksYikpfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5FYj1mdW5jdGlvbigpe3JldHVybiAwfTtnLk89ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5IPWZ1bmN0aW9uKGEpe3JldHVybiBhJiYhdGhpcy5DKCkuZSgpP3tcIi52YWx1ZVwiOnRoaXMuQ2EoKSxcIi5wcmlvcml0eVwiOnRoaXMuQygpLkgoKX06dGhpcy5DYSgpfTtcbmcuaGFzaD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLkRiKXt2YXIgYT1cIlwiO3RoaXMuYWEuZSgpfHwoYSs9XCJwcmlvcml0eTpcIitVZCh0aGlzLmFhLkgoKSkrXCI6XCIpO3ZhciBiPXR5cGVvZiB0aGlzLkIsYT1hKyhiK1wiOlwiKSxhPVwibnVtYmVyXCI9PT1iP2ErSmModGhpcy5CKTphK3RoaXMuQjt0aGlzLkRiPXVjKGEpfXJldHVybiB0aGlzLkRifTtnLkNhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQn07Zy5zYz1mdW5jdGlvbihhKXtpZihhPT09RylyZXR1cm4gMTtpZihhIGluc3RhbmNlb2YgUClyZXR1cm4tMTtIKGEuSigpLFwiVW5rbm93biBub2RlIHR5cGVcIik7dmFyIGI9dHlwZW9mIGEuQixjPXR5cGVvZiB0aGlzLkIsZD1JYShUZCxiKSxlPUlhKFRkLGMpO0goMDw9ZCxcIlVua25vd24gbGVhZiB0eXBlOiBcIitiKTtIKDA8PWUsXCJVbmtub3duIGxlYWYgdHlwZTogXCIrYyk7cmV0dXJuIGQ9PT1lP1wib2JqZWN0XCI9PT1jPzA6dGhpcy5CPGEuQj8tMTp0aGlzLkI9PT1hLkI/MDoxOmUtZH07XG5nLm5iPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2cueWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5aPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcz8hMDphLkooKT90aGlzLkI9PT1hLkImJnRoaXMuYWEuWihhLmFhKTohMX07Zy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMuSCghMCkpfTtmdW5jdGlvbiBWZCgpe312YXIgV2Q9e307ZnVuY3Rpb24gUGQoYSl7cmV0dXJuIHEoYS5jb21wYXJlLGEpfVZkLnByb3RvdHlwZS5uZD1mdW5jdGlvbihhLGIpe3JldHVybiAwIT09dGhpcy5jb21wYXJlKG5ldyBLKFwiW01JTl9OQU1FXVwiLGEpLG5ldyBLKFwiW01JTl9OQU1FXVwiLGIpKX07VmQucHJvdG90eXBlLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIFhkfTtmdW5jdGlvbiBZZChhKXtIKCFhLmUoKSYmXCIucHJpb3JpdHlcIiE9PUooYSksXCJDYW4ndCBjcmVhdGUgUGF0aEluZGV4IHdpdGggZW1wdHkgcGF0aCBvciAucHJpb3JpdHkga2V5XCIpO3RoaXMuYmM9YX1sYShZZCxWZCk7Zz1ZZC5wcm90b3R5cGU7Zy54Yz1mdW5jdGlvbihhKXtyZXR1cm4hYS5QKHRoaXMuYmMpLmUoKX07Zy5jb21wYXJlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5SLlAodGhpcy5iYyksZD1iLlIuUCh0aGlzLmJjKSxjPWMuc2MoZCk7cmV0dXJuIDA9PT1jP2hjKGEubmFtZSxiLm5hbWUpOmN9O1xuZy5FYz1mdW5jdGlvbihhLGIpe3ZhciBjPU0oYSksYz1HLkYodGhpcy5iYyxjKTtyZXR1cm4gbmV3IEsoYixjKX07Zy5GYz1mdW5jdGlvbigpe3ZhciBhPUcuRih0aGlzLmJjLFpkKTtyZXR1cm4gbmV3IEsoXCJbTUFYX05BTUVdXCIsYSl9O2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYy5zbGljZSgpLmpvaW4oXCIvXCIpfTtmdW5jdGlvbiAkZCgpe31sYSgkZCxWZCk7Zz0kZC5wcm90b3R5cGU7Zy5jb21wYXJlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5SLkMoKSxkPWIuUi5DKCksYz1jLnNjKGQpO3JldHVybiAwPT09Yz9oYyhhLm5hbWUsYi5uYW1lKTpjfTtnLnhjPWZ1bmN0aW9uKGEpe3JldHVybiFhLkMoKS5lKCl9O2cubmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYS5DKCkuWihiLkMoKSl9O2cuSGM9ZnVuY3Rpb24oKXtyZXR1cm4gWGR9O2cuRmM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsoXCJbTUFYX05BTUVdXCIsbmV3IHFjKFwiW1BSSU9SSVRZLVBPU1RdXCIsWmQpKX07XG5nLkVjPWZ1bmN0aW9uKGEsYil7dmFyIGM9TShhKTtyZXR1cm4gbmV3IEsoYixuZXcgcWMoXCJbUFJJT1JJVFktUE9TVF1cIixjKSl9O2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi5wcmlvcml0eVwifTt2YXIgTj1uZXcgJGQ7ZnVuY3Rpb24gYWUoKXt9bGEoYWUsVmQpO2c9YWUucHJvdG90eXBlO2cuY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBoYyhhLm5hbWUsYi5uYW1lKX07Zy54Yz1mdW5jdGlvbigpe3Rocm93IHNjKFwiS2V5SW5kZXguaXNEZWZpbmVkT24gbm90IGV4cGVjdGVkIHRvIGJlIGNhbGxlZC5cIik7fTtnLm5kPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2cuSGM9ZnVuY3Rpb24oKXtyZXR1cm4gWGR9O2cuRmM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsoXCJbTUFYX05BTUVdXCIsRyl9O2cuRWM9ZnVuY3Rpb24oYSl7SChwKGEpLFwiS2V5SW5kZXggaW5kZXhWYWx1ZSBtdXN0IGFsd2F5cyBiZSBhIHN0cmluZy5cIik7cmV0dXJuIG5ldyBLKGEsRyl9O2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi5rZXlcIn07XG52YXIgRmQ9bmV3IGFlO2Z1bmN0aW9uIGJlKCl7fWxhKGJlLFZkKTtnPWJlLnByb3RvdHlwZTtnLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLlIuc2MoYi5SKTtyZXR1cm4gMD09PWM/aGMoYS5uYW1lLGIubmFtZSk6Y307Zy54Yz1mdW5jdGlvbigpe3JldHVybiEwfTtnLm5kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuWihiKX07Zy5IYz1mdW5jdGlvbigpe3JldHVybiBYZH07Zy5GYz1mdW5jdGlvbigpe3JldHVybiBjZX07Zy5FYz1mdW5jdGlvbihhLGIpe3ZhciBjPU0oYSk7cmV0dXJuIG5ldyBLKGIsYyl9O2cudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi52YWx1ZVwifTt2YXIgZGU9bmV3IGJlO2Z1bmN0aW9uIGVlKCl7dGhpcy5SYj10aGlzLm5hPXRoaXMuS2I9dGhpcy5rYT10aGlzLnhhPSExO3RoaXMub2E9MDt0aGlzLm1iPVwiXCI7dGhpcy5kYz1udWxsO3RoaXMuemI9XCJcIjt0aGlzLmFjPW51bGw7dGhpcy54Yj1cIlwiO3RoaXMuZz1OfXZhciBmZT1uZXcgZWU7ZnVuY3Rpb24gTmQoYSl7cmV0dXJuXCJcIj09PWEubWI/YS5rYTpcImxcIj09PWEubWJ9ZnVuY3Rpb24gSmQoYSl7SChhLmthLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuZGN9ZnVuY3Rpb24gSWQoYSl7SChhLmthLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuS2I/YS56YjpcIltNSU5fTkFNRV1cIn1mdW5jdGlvbiBMZChhKXtIKGEubmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuYWN9XG5mdW5jdGlvbiBLZChhKXtIKGEubmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuUmI/YS54YjpcIltNQVhfTkFNRV1cIn1mdW5jdGlvbiBnZShhKXt2YXIgYj1uZXcgZWU7Yi54YT1hLnhhO2Iub2E9YS5vYTtiLmthPWEua2E7Yi5kYz1hLmRjO2IuS2I9YS5LYjtiLnpiPWEuemI7Yi5uYT1hLm5hO2IuYWM9YS5hYztiLlJiPWEuUmI7Yi54Yj1hLnhiO2IuZz1hLmc7Yi5tYj1hLm1iO3JldHVybiBifWc9ZWUucHJvdG90eXBlO2cubGU9ZnVuY3Rpb24oYSl7dmFyIGI9Z2UodGhpcyk7Yi54YT0hMDtiLm9hPWE7Yi5tYj1cImxcIjtyZXR1cm4gYn07Zy5tZT1mdW5jdGlvbihhKXt2YXIgYj1nZSh0aGlzKTtiLnhhPSEwO2Iub2E9YTtiLm1iPVwiclwiO3JldHVybiBifTtnLk5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9Z2UodGhpcyk7Yy5rYT0hMDtuKGEpfHwoYT1udWxsKTtjLmRjPWE7bnVsbCE9Yj8oYy5LYj0hMCxjLnpiPWIpOihjLktiPSExLGMuemI9XCJcIik7cmV0dXJuIGN9O1xuZy5nZD1mdW5jdGlvbihhLGIpe3ZhciBjPWdlKHRoaXMpO2MubmE9ITA7bihhKXx8KGE9bnVsbCk7Yy5hYz1hO24oYik/KGMuUmI9ITAsYy54Yj1iKTooYy52Zz0hMSxjLnhiPVwiXCIpO3JldHVybiBjfTtmdW5jdGlvbiBoZShhLGIpe3ZhciBjPWdlKGEpO2MuZz1iO3JldHVybiBjfWZ1bmN0aW9uIGllKGEpe3ZhciBiPXt9O2Eua2EmJihiLnNwPWEuZGMsYS5LYiYmKGIuc249YS56YikpO2EubmEmJihiLmVwPWEuYWMsYS5SYiYmKGIuZW49YS54YikpO2lmKGEueGEpe2IubD1hLm9hO3ZhciBjPWEubWI7XCJcIj09PWMmJihjPU5kKGEpP1wibFwiOlwiclwiKTtiLnZmPWN9YS5nIT09TiYmKGIuaT1hLmcudG9TdHJpbmcoKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUyhhKXtyZXR1cm4hKGEua2F8fGEubmF8fGEueGEpfWZ1bmN0aW9uIFNjKGEpe3JldHVybiBTKGEpJiZhLmc9PU59XG5mdW5jdGlvbiBUYyhhKXt2YXIgYj17fTtpZihTYyhhKSlyZXR1cm4gYjt2YXIgYzthLmc9PT1OP2M9XCIkcHJpb3JpdHlcIjphLmc9PT1kZT9jPVwiJHZhbHVlXCI6YS5nPT09RmQ/Yz1cIiRrZXlcIjooSChhLmcgaW5zdGFuY2VvZiBZZCxcIlVucmVjb2duaXplZCBpbmRleCB0eXBlIVwiKSxjPWEuZy50b1N0cmluZygpKTtiLm9yZGVyQnk9QihjKTthLmthJiYoYi5zdGFydEF0PUIoYS5kYyksYS5LYiYmKGIuc3RhcnRBdCs9XCIsXCIrQihhLnpiKSkpO2EubmEmJihiLmVuZEF0PUIoYS5hYyksYS5SYiYmKGIuZW5kQXQrPVwiLFwiK0IoYS54YikpKTthLnhhJiYoTmQoYSk/Yi5saW1pdFRvRmlyc3Q9YS5vYTpiLmxpbWl0VG9MYXN0PWEub2EpO3JldHVybiBifWcudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQihpZSh0aGlzKSl9O2Z1bmN0aW9uIGplKGEsYil7dGhpcy5vZD1hO3RoaXMuY2M9Yn1qZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXcodGhpcy5vZCxhKTtpZighYil0aHJvdyBFcnJvcihcIk5vIGluZGV4IGRlZmluZWQgZm9yIFwiK2EpO3JldHVybiBiPT09V2Q/bnVsbDpifTtmdW5jdGlvbiBrZShhLGIsYyl7dmFyIGQ9cGEoYS5vZCxmdW5jdGlvbihkLGYpe3ZhciBoPXcoYS5jYyxmKTtIKGgsXCJNaXNzaW5nIGluZGV4IGltcGxlbWVudGF0aW9uIGZvciBcIitmKTtpZihkPT09V2Qpe2lmKGgueGMoYi5SKSl7Zm9yKHZhciBrPVtdLGw9Yy5XYihqYyksbT1SKGwpO207KW0ubmFtZSE9Yi5uYW1lJiZrLnB1c2gobSksbT1SKGwpO2sucHVzaChiKTtyZXR1cm4gbGUoayxQZChoKSl9cmV0dXJuIFdkfWg9Yy5nZXQoYi5uYW1lKTtrPWQ7aCYmKGs9ay5yZW1vdmUobmV3IEsoYi5uYW1lLGgpKSk7cmV0dXJuIGsuT2EoYixiLlIpfSk7cmV0dXJuIG5ldyBqZShkLGEuY2MpfVxuZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPXBhKGEub2QsZnVuY3Rpb24oYSl7aWYoYT09PVdkKXJldHVybiBhO3ZhciBkPWMuZ2V0KGIubmFtZSk7cmV0dXJuIGQ/YS5yZW1vdmUobmV3IEsoYi5uYW1lLGQpKTphfSk7cmV0dXJuIG5ldyBqZShkLGEuY2MpfXZhciBuZT1uZXcgamUoe1wiLnByaW9yaXR5XCI6V2R9LHtcIi5wcmlvcml0eVwiOk59KTtmdW5jdGlvbiBvZSgpe3RoaXMuc2V0PXt9fWc9b2UucHJvdG90eXBlO2cuYWRkPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXRbYV09bnVsbCE9PWI/YjohMH07Zy5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gY2IodGhpcy5zZXQsYSl9O2cuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnRhaW5zKGEpP3RoaXMuc2V0W2FdOnZvaWQgMH07Zy5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuc2V0W2FdfTtnLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zZXQ9e319O2cuZT1mdW5jdGlvbigpe3JldHVybiB5YSh0aGlzLnNldCl9O2cuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcmEodGhpcy5zZXQpfTtmdW5jdGlvbiBwZShhLGIpe3IoYS5zZXQsZnVuY3Rpb24oYSxkKXtiKGQsYSl9KX1nLmtleXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyKHRoaXMuc2V0LGZ1bmN0aW9uKGIsYyl7YS5wdXNoKGMpfSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHFlKGEsYixjLGQpe3RoaXMuWWQ9YTt0aGlzLmY9eWMoYSk7dGhpcy5qYz1iO3RoaXMucGI9dGhpcy5xYj0wO3RoaXMuVmE9JGMoYik7dGhpcy50Zj1jO3RoaXMud2M9ITE7dGhpcy5DYj1kO3RoaXMuWWM9ZnVuY3Rpb24oYSl7cmV0dXJuIEpiKGIsXCJsb25nX3BvbGxpbmdcIixhKX19dmFyIHJlLHNlO1xucWUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiKXt0aGlzLk1lPTA7dGhpcy5pYT1iO3RoaXMuYmY9bmV3IHJiKGEpO3RoaXMuQWI9ITE7dmFyIGM9dGhpczt0aGlzLnNiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmYoXCJUaW1lZCBvdXQgdHJ5aW5nIHRvIGNvbm5lY3QuXCIpO2MuYmIoKTtjLnNiPW51bGx9LE1hdGguZmxvb3IoM0U0KSk7RGMoZnVuY3Rpb24oKXtpZighYy5BYil7Yy5UYT1uZXcgdGUoZnVuY3Rpb24oYSxiLGQsayxsKXt1ZShjLGFyZ3VtZW50cyk7aWYoYy5UYSlpZihjLnNiJiYoY2xlYXJUaW1lb3V0KGMuc2IpLGMuc2I9bnVsbCksYy53Yz0hMCxcInN0YXJ0XCI9PWEpYy5pZD1iLGMuZmY9ZDtlbHNlIGlmKFwiY2xvc2VcIj09PWEpYj8oYy5UYS5LZD0hMSxzYihjLmJmLGIsZnVuY3Rpb24oKXtjLmJiKCl9KSk6Yy5iYigpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgY29tbWFuZCByZWNlaXZlZDogXCIrYSk7fSxmdW5jdGlvbihhLGIpe3VlKGMsYXJndW1lbnRzKTtcbnRiKGMuYmYsYSxiKX0sZnVuY3Rpb24oKXtjLmJiKCl9LGMuWWMpO3ZhciBhPXtzdGFydDpcInRcIn07YS5zZXI9TWF0aC5mbG9vcigxRTgqTWF0aC5yYW5kb20oKSk7Yy5UYS5RZCYmKGEuY2I9Yy5UYS5RZCk7YS52PVwiNVwiO2MudGYmJihhLnM9Yy50Zik7Yy5DYiYmKGEubHM9Yy5DYik7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKGEucj1cImZcIik7YT1jLlljKGEpO2MuZihcIkNvbm5lY3RpbmcgdmlhIGxvbmctcG9sbCB0byBcIithKTt2ZShjLlRhLGEsZnVuY3Rpb24oKXt9KX19KX07XG5xZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlRhLGI9dGhpcy5mZjthLlZmPXRoaXMuaWQ7YS5XZj1iO2ZvcihhLlVkPSEwO3dlKGEpOyk7YT10aGlzLmlkO2I9dGhpcy5mZjt0aGlzLmZjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7dmFyIGM9e2RmcmFtZTpcInRcIn07Yy5pZD1hO2MucHc9Yjt0aGlzLmZjLnNyYz10aGlzLlljKGMpO3RoaXMuZmMuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmMpfTtcbnFlLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHJlfHwhc2UmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJm51bGwhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQmJiEoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSYmIShcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MmJlwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cy5yZykmJiEwfTtnPXFlLnByb3RvdHlwZTtnLnNkPWZ1bmN0aW9uKCl7fTtnLlRjPWZ1bmN0aW9uKCl7dGhpcy5BYj0hMDt0aGlzLlRhJiYodGhpcy5UYS5jbG9zZSgpLHRoaXMuVGE9bnVsbCk7dGhpcy5mYyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5mYyksdGhpcy5mYz1udWxsKTt0aGlzLnNiJiYoY2xlYXJUaW1lb3V0KHRoaXMuc2IpLHRoaXMuc2I9bnVsbCl9O1xuZy5iYj1mdW5jdGlvbigpe3RoaXMuQWJ8fCh0aGlzLmYoXCJMb25ncG9sbCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLlRjKCksdGhpcy5pYSYmKHRoaXMuaWEodGhpcy53YyksdGhpcy5pYT1udWxsKSl9O2cuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLkFifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgYmVpbmcgY2xvc2VkLlwiKSx0aGlzLlRjKCkpfTtnLnNlbmQ9ZnVuY3Rpb24oYSl7YT1CKGEpO3RoaXMucWIrPWEubGVuZ3RoO0xiKHRoaXMuVmEsXCJieXRlc19zZW50XCIsYS5sZW5ndGgpO2E9bWIoYSk7YT1hYihhLCEwKTthPUhjKGEsMTg0MCk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuVGE7Yy5RYy5wdXNoKHtqZzp0aGlzLk1lLHBnOmEubGVuZ3RoLE9lOmFbYl19KTtjLlVkJiZ3ZShjKTt0aGlzLk1lKyt9fTtmdW5jdGlvbiB1ZShhLGIpe3ZhciBjPUIoYikubGVuZ3RoO2EucGIrPWM7TGIoYS5WYSxcImJ5dGVzX3JlY2VpdmVkXCIsYyl9XG5mdW5jdGlvbiB0ZShhLGIsYyxkKXt0aGlzLlljPWQ7dGhpcy5pYj1jO3RoaXMudGU9bmV3IG9lO3RoaXMuUWM9W107dGhpcy5aZD1NYXRoLmZsb29yKDFFOCpNYXRoLnJhbmRvbSgpKTt0aGlzLktkPSEwO3RoaXMuUWQ9cmMoKTt3aW5kb3dbXCJwTFBDb21tYW5kXCIrdGhpcy5RZF09YTt3aW5kb3dbXCJwUlRMUENCXCIrdGhpcy5RZF09YjthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKGRvY3VtZW50LmJvZHkpe2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dHJ5e2EuY29udGVudFdpbmRvdy5kb2N1bWVudHx8RShcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKGUpe2Euc3JjPVwiamF2YXNjcmlwdDp2b2lkKChmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49J1wiK2RvY3VtZW50LmRvbWFpbitcIic7ZG9jdW1lbnQuY2xvc2UoKTt9KSgpKVwifX1lbHNlIHRocm93XCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCI7XG5hLmNvbnRlbnREb2N1bWVudD9hLmdiPWEuY29udGVudERvY3VtZW50OmEuY29udGVudFdpbmRvdz9hLmdiPWEuY29udGVudFdpbmRvdy5kb2N1bWVudDphLmRvY3VtZW50JiYoYS5nYj1hLmRvY3VtZW50KTt0aGlzLkVhPWE7YT1cIlwiO3RoaXMuRWEuc3JjJiZcImphdmFzY3JpcHQ6XCI9PT10aGlzLkVhLnNyYy5zdWJzdHIoMCwxMSkmJihhPSc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluKydcIjtcXHgzYy9zY3JpcHQ+Jyk7YT1cIjxodG1sPjxib2R5PlwiK2ErXCI8L2JvZHk+PC9odG1sPlwiO3RyeXt0aGlzLkVhLmdiLm9wZW4oKSx0aGlzLkVhLmdiLndyaXRlKGEpLHRoaXMuRWEuZ2IuY2xvc2UoKX1jYXRjaChmKXtFKFwiZnJhbWUgd3JpdGluZyBleGNlcHRpb25cIiksZi5zdGFjayYmRShmLnN0YWNrKSxFKGYpfX1cbnRlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuVWQ9ITE7aWYodGhpcy5FYSl7dGhpcy5FYS5nYi5ib2R5LmlubmVySFRNTD1cIlwiO3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPT1hLkVhJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhLkVhKSxhLkVhPW51bGwpfSxNYXRoLmZsb29yKDApKX12YXIgYj10aGlzLmliO2ImJih0aGlzLmliPW51bGwsYigpKX07XG5mdW5jdGlvbiB3ZShhKXtpZihhLlVkJiZhLktkJiZhLnRlLmNvdW50KCk8KDA8YS5RYy5sZW5ndGg/MjoxKSl7YS5aZCsrO3ZhciBiPXt9O2IuaWQ9YS5WZjtiLnB3PWEuV2Y7Yi5zZXI9YS5aZDtmb3IodmFyIGI9YS5ZYyhiKSxjPVwiXCIsZD0wOzA8YS5RYy5sZW5ndGg7KWlmKDE4NzA+PWEuUWNbMF0uT2UubGVuZ3RoKzMwK2MubGVuZ3RoKXt2YXIgZT1hLlFjLnNoaWZ0KCksYz1jK1wiJnNlZ1wiK2QrXCI9XCIrZS5qZytcIiZ0c1wiK2QrXCI9XCIrZS5wZytcIiZkXCIrZCtcIj1cIitlLk9lO2QrK31lbHNlIGJyZWFrO3hlKGEsYitjLGEuWmQpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHhlKGEsYixjKXtmdW5jdGlvbiBkKCl7YS50ZS5yZW1vdmUoYyk7d2UoYSl9YS50ZS5hZGQoYywxKTt2YXIgZT1zZXRUaW1lb3V0KGQsTWF0aC5mbG9vcigyNUUzKSk7dmUoYSxiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO2QoKX0pfVxuZnVuY3Rpb24gdmUoYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7aWYoYS5LZCl7dmFyIGQ9YS5FYS5nYi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2QudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2QuYXN5bmM9ITA7ZC5zcmM9YjtkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBhPWQucmVhZHlTdGF0ZTthJiZcImxvYWRlZFwiIT09YSYmXCJjb21wbGV0ZVwiIT09YXx8KGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYygpKX07ZC5vbmVycm9yPWZ1bmN0aW9uKCl7RShcIkxvbmctcG9sbCBzY3JpcHQgZmFpbGVkIHRvIGxvYWQ6IFwiK2IpO2EuS2Q9ITE7YS5jbG9zZSgpfTthLkVhLmdiLmJvZHkuYXBwZW5kQ2hpbGQoZCl9fWNhdGNoKGUpe319LE1hdGguZmxvb3IoMSkpfTtmdW5jdGlvbiB5ZShhKXt6ZSh0aGlzLGEpfXZhciBBZT1bcWUsY2RdO2Z1bmN0aW9uIHplKGEsYil7dmFyIGM9Y2QmJmNkLmlzQXZhaWxhYmxlKCksZD1jJiYhKHliLlplfHwhMD09PXliLmdldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIpKTtiLnFnJiYoY3x8TyhcIndzczovLyBVUkwgdXNlZCwgYnV0IGJyb3dzZXIgaXNuJ3Qga25vd24gdG8gc3VwcG9ydCB3ZWJzb2NrZXRzLiAgVHJ5aW5nIGFueXdheS5cIiksZD0hMCk7aWYoZClhLldjPVtjZF07ZWxzZXt2YXIgZT1hLldjPVtdO0ljKEFlLGZ1bmN0aW9uKGEsYil7YiYmYi5pc0F2YWlsYWJsZSgpJiZlLnB1c2goYil9KX19ZnVuY3Rpb24gQmUoYSl7aWYoMDxhLldjLmxlbmd0aClyZXR1cm4gYS5XY1swXTt0aHJvdyBFcnJvcihcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpO307ZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYsaCl7dGhpcy5pZD1hO3RoaXMuZj15YyhcImM6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy5yZT1jO3RoaXMuTGM9ZDt0aGlzLmlhPWU7dGhpcy5xZT1mO3RoaXMuTD1iO3RoaXMuQWQ9W107dGhpcy5LZT0wO3RoaXMuc2Y9bmV3IHllKGIpO3RoaXMuVWE9MDt0aGlzLkNiPWg7dGhpcy5mKFwiQ29ubmVjdGlvbiBjcmVhdGVkXCIpO0RlKHRoaXMpfVxuZnVuY3Rpb24gRGUoYSl7dmFyIGI9QmUoYS5zZik7YS5JPW5ldyBiKFwiYzpcIithLmlkK1wiOlwiK2EuS2UrKyxhLkwsdm9pZCAwLGEuQ2IpO2EudmU9Yi5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5fHwwO3ZhciBjPUVlKGEsYS5JKSxkPUZlKGEsYS5JKTthLlhjPWEuSTthLlJjPWEuSTthLkQ9bnVsbDthLkJiPSExO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLkkmJmEuSS5vcGVuKGMsZCl9LE1hdGguZmxvb3IoMCkpO2I9Yi5oZWFsdGh5VGltZW91dHx8MDswPGImJihhLm1kPU1jKGZ1bmN0aW9uKCl7YS5tZD1udWxsO2EuQmJ8fChhLkkmJjEwMjQwMDxhLkkucGI/KGEuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgcmVjZWl2ZWQgXCIrYS5JLnBiK1wiIGJ5dGVzLiAgTWFya2luZyBjb25uZWN0aW9uIGhlYWx0aHkuXCIpLGEuQmI9ITAsYS5JLnNkKCkpOmEuSSYmMTAyNDA8YS5JLnFiP2EuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgc2VudCBcIitcbmEuSS5xYitcIiBieXRlcy4gIExlYXZpbmcgY29ubmVjdGlvbiBhbGl2ZS5cIik6KGEuZihcIkNsb3NpbmcgdW5oZWFsdGh5IGNvbm5lY3Rpb24gYWZ0ZXIgdGltZW91dC5cIiksYS5jbG9zZSgpKSl9LE1hdGguZmxvb3IoYikpKX1mdW5jdGlvbiBGZShhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiPT09YS5JPyhhLkk9bnVsbCxjfHwwIT09YS5VYT8xPT09YS5VYSYmYS5mKFwiUmVhbHRpbWUgY29ubmVjdGlvbiBsb3N0LlwiKTooYS5mKFwiUmVhbHRpbWUgY29ubmVjdGlvbiBmYWlsZWQuXCIpLFwicy1cIj09PWEuTC4kYS5zdWJzdHIoMCwyKSYmKHliLnJlbW92ZShcImhvc3Q6XCIrYS5MLmhvc3QpLGEuTC4kYT1hLkwuaG9zdCkpLGEuY2xvc2UoKSk6Yj09PWEuRD8oYS5mKFwiU2Vjb25kYXJ5IGNvbm5lY3Rpb24gbG9zdC5cIiksYz1hLkQsYS5EPW51bGwsYS5YYyE9PWMmJmEuUmMhPT1jfHxhLmNsb3NlKCkpOmEuZihcImNsb3NpbmcgYW4gb2xkIGNvbm5lY3Rpb25cIil9fVxuZnVuY3Rpb24gRWUoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7aWYoMiE9YS5VYSlpZihiPT09YS5SYyl7dmFyIGQ9RmMoXCJ0XCIsYyk7Yz1GYyhcImRcIixjKTtpZihcImNcIj09ZCl7aWYoZD1GYyhcInRcIixjKSxcImRcImluIGMpaWYoYz1jLmQsXCJoXCI9PT1kKXt2YXIgZD1jLnRzLGU9Yy52LGY9Yy5oO2EucWY9Yy5zO0liKGEuTCxmKTswPT1hLlVhJiYoYS5JLnN0YXJ0KCksR2UoYSxhLkksZCksXCI1XCIhPT1lJiZPKFwiUHJvdG9jb2wgdmVyc2lvbiBtaXNtYXRjaCBkZXRlY3RlZFwiKSxjPWEuc2YsKGM9MTxjLldjLmxlbmd0aD9jLldjWzFdOm51bGwpJiZIZShhLGMpKX1lbHNlIGlmKFwiblwiPT09ZCl7YS5mKFwicmVjdmQgZW5kIHRyYW5zbWlzc2lvbiBvbiBwcmltYXJ5XCIpO2EuUmM9YS5EO2ZvcihjPTA7YzxhLkFkLmxlbmd0aDsrK2MpYS53ZChhLkFkW2NdKTthLkFkPVtdO0llKGEpfWVsc2VcInNcIj09PWQ/KGEuZihcIkNvbm5lY3Rpb24gc2h1dGRvd24gY29tbWFuZCByZWNlaXZlZC4gU2h1dHRpbmcgZG93bi4uLlwiKSxcbmEucWUmJihhLnFlKGMpLGEucWU9bnVsbCksYS5pYT1udWxsLGEuY2xvc2UoKSk6XCJyXCI9PT1kPyhhLmYoXCJSZXNldCBwYWNrZXQgcmVjZWl2ZWQuICBOZXcgaG9zdDogXCIrYyksSWIoYS5MLGMpLDE9PT1hLlVhP2EuY2xvc2UoKTooSmUoYSksRGUoYSkpKTpcImVcIj09PWQ/emMoXCJTZXJ2ZXIgRXJyb3I6IFwiK2MpOlwib1wiPT09ZD8oYS5mKFwiZ290IHBvbmcgb24gcHJpbWFyeS5cIiksS2UoYSksTGUoYSkpOnpjKFwiVW5rbm93biBjb250cm9sIHBhY2tldCBjb21tYW5kOiBcIitkKX1lbHNlXCJkXCI9PWQmJmEud2QoYyl9ZWxzZSBpZihiPT09YS5EKWlmKGQ9RmMoXCJ0XCIsYyksYz1GYyhcImRcIixjKSxcImNcIj09ZClcInRcImluIGMmJihjPWMudCxcImFcIj09PWM/TWUoYSk6XCJyXCI9PT1jPyhhLmYoXCJHb3QgYSByZXNldCBvbiBzZWNvbmRhcnksIGNsb3NpbmcgaXRcIiksYS5ELmNsb3NlKCksYS5YYyE9PWEuRCYmYS5SYyE9PWEuRHx8YS5jbG9zZSgpKTpcIm9cIj09PWMmJihhLmYoXCJnb3QgcG9uZyBvbiBzZWNvbmRhcnkuXCIpLFxuYS5wZi0tLE1lKGEpKSk7ZWxzZSBpZihcImRcIj09ZClhLkFkLnB1c2goYyk7ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gcHJvdG9jb2wgbGF5ZXI6IFwiK2QpO2Vsc2UgYS5mKFwibWVzc2FnZSBvbiBvbGQgY29ubmVjdGlvblwiKX19Q2UucHJvdG90eXBlLnVhPWZ1bmN0aW9uKGEpe05lKHRoaXMse3Q6XCJkXCIsZDphfSl9O2Z1bmN0aW9uIEllKGEpe2EuWGM9PT1hLkQmJmEuUmM9PT1hLkQmJihhLmYoXCJjbGVhbmluZyB1cCBhbmQgcHJvbW90aW5nIGEgY29ubmVjdGlvbjogXCIrYS5ELllkKSxhLkk9YS5ELGEuRD1udWxsKX1cbmZ1bmN0aW9uIE1lKGEpezA+PWEucGY/KGEuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLGEuQmI9ITAsYS5ELnNkKCksYS5ELnN0YXJ0KCksYS5mKFwic2VuZGluZyBjbGllbnQgYWNrIG9uIHNlY29uZGFyeVwiKSxhLkQuc2VuZCh7dDpcImNcIixkOnt0OlwiYVwiLGQ6e319fSksYS5mKFwiRW5kaW5nIHRyYW5zbWlzc2lvbiBvbiBwcmltYXJ5XCIpLGEuSS5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJuXCIsZDp7fX19KSxhLlhjPWEuRCxJZShhKSk6KGEuZihcInNlbmRpbmcgcGluZyBvbiBzZWNvbmRhcnkuXCIpLGEuRC5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJwXCIsZDp7fX19KSl9Q2UucHJvdG90eXBlLndkPWZ1bmN0aW9uKGEpe0tlKHRoaXMpO3RoaXMucmUoYSl9O2Z1bmN0aW9uIEtlKGEpe2EuQmJ8fChhLnZlLS0sMD49YS52ZSYmKGEuZihcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkJiPSEwLGEuSS5zZCgpKSl9XG5mdW5jdGlvbiBIZShhLGIpe2EuRD1uZXcgYihcImM6XCIrYS5pZCtcIjpcIithLktlKyssYS5MLGEucWYpO2EucGY9Yi5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5fHwwO2EuRC5vcGVuKEVlKGEsYS5EKSxGZShhLGEuRCkpO01jKGZ1bmN0aW9uKCl7YS5EJiYoYS5mKFwiVGltZWQgb3V0IHRyeWluZyB0byB1cGdyYWRlLlwiKSxhLkQuY2xvc2UoKSl9LE1hdGguZmxvb3IoNkU0KSl9ZnVuY3Rpb24gR2UoYSxiLGMpe2EuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO2EuST1iO2EuVWE9MTthLkxjJiYoYS5MYyhjLGEucWYpLGEuTGM9bnVsbCk7MD09PWEudmU/KGEuZihcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkJiPSEwKTpNYyhmdW5jdGlvbigpe0xlKGEpfSxNYXRoLmZsb29yKDVFMykpfVxuZnVuY3Rpb24gTGUoYSl7YS5CYnx8MSE9PWEuVWF8fChhLmYoXCJzZW5kaW5nIHBpbmcgb24gcHJpbWFyeS5cIiksTmUoYSx7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfWZ1bmN0aW9uIE5lKGEsYil7aWYoMSE9PWEuVWEpdGhyb3dcIkNvbm5lY3Rpb24gaXMgbm90IGNvbm5lY3RlZFwiO2EuWGMuc2VuZChiKX1DZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXsyIT09dGhpcy5VYSYmKHRoaXMuZihcIkNsb3NpbmcgcmVhbHRpbWUgY29ubmVjdGlvbi5cIiksdGhpcy5VYT0yLEplKHRoaXMpLHRoaXMuaWEmJih0aGlzLmlhKCksdGhpcy5pYT1udWxsKSl9O2Z1bmN0aW9uIEplKGEpe2EuZihcIlNodXR0aW5nIGRvd24gYWxsIGNvbm5lY3Rpb25zXCIpO2EuSSYmKGEuSS5jbG9zZSgpLGEuST1udWxsKTthLkQmJihhLkQuY2xvc2UoKSxhLkQ9bnVsbCk7YS5tZCYmKGNsZWFyVGltZW91dChhLm1kKSxhLm1kPW51bGwpfTtmdW5jdGlvbiBMKGEsYil7aWYoMT09YXJndW1lbnRzLmxlbmd0aCl7dGhpcy5vPWEuc3BsaXQoXCIvXCIpO2Zvcih2YXIgYz0wLGQ9MDtkPHRoaXMuby5sZW5ndGg7ZCsrKTA8dGhpcy5vW2RdLmxlbmd0aCYmKHRoaXMub1tjXT10aGlzLm9bZF0sYysrKTt0aGlzLm8ubGVuZ3RoPWM7dGhpcy5ZPTB9ZWxzZSB0aGlzLm89YSx0aGlzLlk9Yn1mdW5jdGlvbiBUKGEsYil7dmFyIGM9SihhKTtpZihudWxsPT09YylyZXR1cm4gYjtpZihjPT09SihiKSlyZXR1cm4gVChEKGEpLEQoYikpO3Rocm93IEVycm9yKFwiSU5URVJOQUwgRVJST1I6IGlubmVyUGF0aCAoXCIrYitcIikgaXMgbm90IHdpdGhpbiBvdXRlclBhdGggKFwiK2ErXCIpXCIpO31cbmZ1bmN0aW9uIE9lKGEsYil7Zm9yKHZhciBjPWEuc2xpY2UoKSxkPWIuc2xpY2UoKSxlPTA7ZTxjLmxlbmd0aCYmZTxkLmxlbmd0aDtlKyspe3ZhciBmPWhjKGNbZV0sZFtlXSk7aWYoMCE9PWYpcmV0dXJuIGZ9cmV0dXJuIGMubGVuZ3RoPT09ZC5sZW5ndGg/MDpjLmxlbmd0aDxkLmxlbmd0aD8tMToxfWZ1bmN0aW9uIEooYSl7cmV0dXJuIGEuWT49YS5vLmxlbmd0aD9udWxsOmEub1thLlldfWZ1bmN0aW9uIEFkKGEpe3JldHVybiBhLm8ubGVuZ3RoLWEuWX1mdW5jdGlvbiBEKGEpe3ZhciBiPWEuWTtiPGEuby5sZW5ndGgmJmIrKztyZXR1cm4gbmV3IEwoYS5vLGIpfWZ1bmN0aW9uIEJkKGEpe3JldHVybiBhLlk8YS5vLmxlbmd0aD9hLm9bYS5vLmxlbmd0aC0xXTpudWxsfWc9TC5wcm90b3R5cGU7XG5nLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVwiXCIsYj10aGlzLlk7Yjx0aGlzLm8ubGVuZ3RoO2IrKylcIlwiIT09dGhpcy5vW2JdJiYoYSs9XCIvXCIrdGhpcy5vW2JdKTtyZXR1cm4gYXx8XCIvXCJ9O2cuc2xpY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuby5zbGljZSh0aGlzLlkrKGF8fDApKX07Zy5wYXJlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLlk+PXRoaXMuby5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBhPVtdLGI9dGhpcy5ZO2I8dGhpcy5vLmxlbmd0aC0xO2IrKylhLnB1c2godGhpcy5vW2JdKTtyZXR1cm4gbmV3IEwoYSwwKX07XG5nLm49ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5ZO2M8dGhpcy5vLmxlbmd0aDtjKyspYi5wdXNoKHRoaXMub1tjXSk7aWYoYSBpbnN0YW5jZW9mIEwpZm9yKGM9YS5ZO2M8YS5vLmxlbmd0aDtjKyspYi5wdXNoKGEub1tjXSk7ZWxzZSBmb3IoYT1hLnNwbGl0KFwiL1wiKSxjPTA7YzxhLmxlbmd0aDtjKyspMDxhW2NdLmxlbmd0aCYmYi5wdXNoKGFbY10pO3JldHVybiBuZXcgTChiLDApfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ZPj10aGlzLm8ubGVuZ3RofTtnLlo9ZnVuY3Rpb24oYSl7aWYoQWQodGhpcykhPT1BZChhKSlyZXR1cm4hMTtmb3IodmFyIGI9dGhpcy5ZLGM9YS5ZO2I8PXRoaXMuby5sZW5ndGg7YisrLGMrKylpZih0aGlzLm9bYl0hPT1hLm9bY10pcmV0dXJuITE7cmV0dXJuITB9O1xuZy5jb250YWlucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLlksYz1hLlk7aWYoQWQodGhpcyk+QWQoYSkpcmV0dXJuITE7Zm9yKDtiPHRoaXMuby5sZW5ndGg7KXtpZih0aGlzLm9bYl0hPT1hLm9bY10pcmV0dXJuITE7KytiOysrY31yZXR1cm4hMH07dmFyIEM9bmV3IEwoXCJcIik7ZnVuY3Rpb24gUGUoYSxiKXt0aGlzLlFhPWEuc2xpY2UoKTt0aGlzLkhhPU1hdGgubWF4KDEsdGhpcy5RYS5sZW5ndGgpO3RoaXMuUGU9Yjtmb3IodmFyIGM9MDtjPHRoaXMuUWEubGVuZ3RoO2MrKyl0aGlzLkhhKz1uYih0aGlzLlFhW2NdKTtRZSh0aGlzKX1QZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhKXswPHRoaXMuUWEubGVuZ3RoJiYodGhpcy5IYSs9MSk7dGhpcy5RYS5wdXNoKGEpO3RoaXMuSGErPW5iKGEpO1FlKHRoaXMpfTtQZS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5RYS5wb3AoKTt0aGlzLkhhLT1uYihhKTswPHRoaXMuUWEubGVuZ3RoJiYtLXRoaXMuSGF9O1xuZnVuY3Rpb24gUWUoYSl7aWYoNzY4PGEuSGEpdGhyb3cgRXJyb3IoYS5QZStcImhhcyBhIGtleSBwYXRoIGxvbmdlciB0aGFuIDc2OCBieXRlcyAoXCIrYS5IYStcIikuXCIpO2lmKDMyPGEuUWEubGVuZ3RoKXRocm93IEVycm9yKGEuUGUrXCJwYXRoIHNwZWNpZmllZCBleGNlZWRzIHRoZSBtYXhpbXVtIGRlcHRoIHRoYXQgY2FuIGJlIHdyaXR0ZW4gKDMyKSBvciBvYmplY3QgY29udGFpbnMgYSBjeWNsZSBcIitSZShhKSk7fWZ1bmN0aW9uIFJlKGEpe3JldHVybiAwPT1hLlFhLmxlbmd0aD9cIlwiOlwiaW4gcHJvcGVydHkgJ1wiK2EuUWEuam9pbihcIi5cIikrXCInXCJ9O2Z1bmN0aW9uIFNlKGEpe2EgaW5zdGFuY2VvZiBUZXx8QWMoXCJEb24ndCBjYWxsIG5ldyBEYXRhYmFzZSgpIGRpcmVjdGx5IC0gcGxlYXNlIHVzZSBmaXJlYmFzZS5kYXRhYmFzZSgpLlwiKTt0aGlzLnRhPWE7dGhpcy5iYT1uZXcgVShhLEMpO3RoaXMuSU5URVJOQUw9bmV3IFVlKHRoaXMpfXZhciBWZT17VElNRVNUQU1QOntcIi5zdlwiOlwidGltZXN0YW1wXCJ9fTtnPVNlLnByb3RvdHlwZTtnLmFwcD1udWxsO2cuamY9ZnVuY3Rpb24oYSl7V2UodGhpcyxcInJlZlwiKTt4KFwiZGF0YWJhc2UucmVmXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBuKGEpP3RoaXMuYmEubihhKTp0aGlzLmJhfTtcbmcuZ2c9ZnVuY3Rpb24oYSl7V2UodGhpcyxcImRhdGFiYXNlLnJlZkZyb21VUkxcIik7eChcImRhdGFiYXNlLnJlZkZyb21VUkxcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7dmFyIGI9QmMoYSk7WGUoXCJkYXRhYmFzZS5yZWZGcm9tVVJMXCIsYik7dmFyIGM9Yi5qYztjLmhvc3QhPT10aGlzLnRhLkwuaG9zdCYmQWMoXCJkYXRhYmFzZS5yZWZGcm9tVVJMOiBIb3N0IG5hbWUgZG9lcyBub3QgbWF0Y2ggdGhlIGN1cnJlbnQgZGF0YWJhc2U6IChmb3VuZCBcIitjLmhvc3QrXCIgYnV0IGV4cGVjdGVkIFwiK3RoaXMudGEuTC5ob3N0K1wiKVwiKTtyZXR1cm4gdGhpcy5qZihiLnBhdGgudG9TdHJpbmcoKSl9O2Z1bmN0aW9uIFdlKGEsYil7bnVsbD09PWEudGEmJkFjKFwiQ2Fubm90IGNhbGwgXCIrYitcIiBvbiBhIGRlbGV0ZWQgZGF0YWJhc2UuXCIpfWcuUGY9ZnVuY3Rpb24oKXt4KFwiZGF0YWJhc2UuZ29PZmZsaW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO1dlKHRoaXMsXCJnb09mZmxpbmVcIik7dGhpcy50YS5hYigpfTtcbmcuUWY9ZnVuY3Rpb24oKXt4KFwiZGF0YWJhc2UuZ29PbmxpbmVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7V2UodGhpcyxcImdvT25saW5lXCIpO3RoaXMudGEua2MoKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFNlLnByb3RvdHlwZSxcImFwcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YS5hcHB9fSk7ZnVuY3Rpb24gVWUoYSl7dGhpcy5ZYT1hfVVlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXtXZSh0aGlzLllhLFwiZGVsZXRlXCIpO3ZhciBhPVllLlZiKCksYj10aGlzLllhLnRhO3coYS5sYixiLmFwcC5uYW1lKSE9PWImJkFjKFwiRGF0YWJhc2UgXCIrYi5hcHAubmFtZStcIiBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQuXCIpO2IuYWIoKTtkZWxldGUgYS5sYltiLmFwcC5uYW1lXTt0aGlzLllhLnRhPW51bGw7dGhpcy5ZYS5iYT1udWxsO3RoaXMuWWE9dGhpcy5ZYS5JTlRFUk5BTD1udWxsO3JldHVybiBmaXJlYmFzZS5Qcm9taXNlLnJlc29sdmUoKX07XG5TZS5wcm90b3R5cGUucmVmPVNlLnByb3RvdHlwZS5qZjtTZS5wcm90b3R5cGUucmVmRnJvbVVSTD1TZS5wcm90b3R5cGUuZ2c7U2UucHJvdG90eXBlLmdvT25saW5lPVNlLnByb3RvdHlwZS5RZjtTZS5wcm90b3R5cGUuZ29PZmZsaW5lPVNlLnByb3RvdHlwZS5QZjtVZS5wcm90b3R5cGVbXCJkZWxldGVcIl09VWUucHJvdG90eXBlLmRlbGV0ZTtmdW5jdGlvbiBtYygpe3RoaXMuaz10aGlzLkI9bnVsbH1tYy5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLkIpcmV0dXJuIHRoaXMuQi5QKGEpO2lmKGEuZSgpfHxudWxsPT10aGlzLmspcmV0dXJuIG51bGw7dmFyIGI9SihhKTthPUQoYSk7cmV0dXJuIHRoaXMuay5jb250YWlucyhiKT90aGlzLmsuZ2V0KGIpLmZpbmQoYSk6bnVsbH07ZnVuY3Rpb24gb2MoYSxiLGMpe2lmKGIuZSgpKWEuQj1jLGEuaz1udWxsO2Vsc2UgaWYobnVsbCE9PWEuQilhLkI9YS5CLkYoYixjKTtlbHNle251bGw9PWEuayYmKGEuaz1uZXcgb2UpO3ZhciBkPUooYik7YS5rLmNvbnRhaW5zKGQpfHxhLmsuYWRkKGQsbmV3IG1jKTthPWEuay5nZXQoZCk7Yj1EKGIpO29jKGEsYixjKX19XG5mdW5jdGlvbiBaZShhLGIpe2lmKGIuZSgpKXJldHVybiBhLkI9bnVsbCxhLms9bnVsbCwhMDtpZihudWxsIT09YS5CKXtpZihhLkIuSigpKXJldHVybiExO3ZhciBjPWEuQjthLkI9bnVsbDtjLk8oTixmdW5jdGlvbihiLGMpe29jKGEsbmV3IEwoYiksYyl9KTtyZXR1cm4gWmUoYSxiKX1yZXR1cm4gbnVsbCE9PWEuaz8oYz1KKGIpLGI9RChiKSxhLmsuY29udGFpbnMoYykmJlplKGEuay5nZXQoYyksYikmJmEuay5yZW1vdmUoYyksYS5rLmUoKT8oYS5rPW51bGwsITApOiExKTohMH1mdW5jdGlvbiBuYyhhLGIsYyl7bnVsbCE9PWEuQj9jKGIsYS5CKTphLk8oZnVuY3Rpb24oYSxlKXt2YXIgZj1uZXcgTChiLnRvU3RyaW5nKCkrXCIvXCIrYSk7bmMoZSxmLGMpfSl9bWMucHJvdG90eXBlLk89ZnVuY3Rpb24oYSl7bnVsbCE9PXRoaXMuayYmcGUodGhpcy5rLGZ1bmN0aW9uKGIsYyl7YShiLGMpfSl9O3ZhciAkZT0vW1xcW1xcXS4jJFxcL1xcdTAwMDAtXFx1MDAxRlxcdTAwN0ZdLyxhZj0vW1xcW1xcXS4jJFxcdTAwMDAtXFx1MDAxRlxcdTAwN0ZdLztmdW5jdGlvbiBiZihhKXtyZXR1cm4gcChhKSYmMCE9PWEubGVuZ3RoJiYhJGUudGVzdChhKX1mdW5jdGlvbiBjZihhKXtyZXR1cm4gbnVsbD09PWF8fHAoYSl8fGdhKGEpJiYhQ2MoYSl8fGlhKGEpJiZjYihhLFwiLnN2XCIpfWZ1bmN0aW9uIGRmKGEsYixjLGQpe2QmJiFuKGIpfHxlZih5KGEsMSxkKSxiLGMpfVxuZnVuY3Rpb24gZWYoYSxiLGMpe2MgaW5zdGFuY2VvZiBMJiYoYz1uZXcgUGUoYyxhKSk7aWYoIW4oYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIHVuZGVmaW5lZCBcIitSZShjKSk7aWYoaGEoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgZnVuY3Rpb24gXCIrUmUoYykrXCIgd2l0aCBjb250ZW50czogXCIrYi50b1N0cmluZygpKTtpZihDYyhiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgXCIrYi50b1N0cmluZygpK1wiIFwiK1JlKGMpKTtpZihwKGIpJiZiLmxlbmd0aD4xMDQ4NTc2MC8zJiYxMDQ4NTc2MDxuYihiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYSBzdHJpbmcgZ3JlYXRlciB0aGFuIDEwNDg1NzYwIHV0ZjggYnl0ZXMgXCIrUmUoYykrXCIgKCdcIitiLnN1YnN0cmluZygwLDUwKStcIi4uLicpXCIpO2lmKGlhKGIpKXt2YXIgZD0hMSxlPSExO2RiKGIsZnVuY3Rpb24oYixoKXtpZihcIi52YWx1ZVwiPT09YilkPSEwO2Vsc2UgaWYoXCIucHJpb3JpdHlcIiE9PWImJlwiLnN2XCIhPT1iJiYoZT1cbiEwLCFiZihiKSkpdGhyb3cgRXJyb3IoYStcIiBjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrYitcIikgXCIrUmUoYykrJy4gIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTtjLnB1c2goYik7ZWYoYSxoLGMpO2MucG9wKCl9KTtpZihkJiZlKXRocm93IEVycm9yKGErJyBjb250YWlucyBcIi52YWx1ZVwiIGNoaWxkICcrUmUoYykrXCIgaW4gYWRkaXRpb24gdG8gYWN0dWFsIGNoaWxkcmVuLlwiKTt9fVxuZnVuY3Rpb24gZmYoYSxiKXt2YXIgYyxkO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspe2Q9YltjXTtmb3IodmFyIGU9ZC5zbGljZSgpLGY9MDtmPGUubGVuZ3RoO2YrKylpZigoXCIucHJpb3JpdHlcIiE9PWVbZl18fGYhPT1lLmxlbmd0aC0xKSYmIWJmKGVbZl0pKXRocm93IEVycm9yKGErXCJjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrZVtmXStcIikgaW4gcGF0aCBcIitkLnRvU3RyaW5nKCkrJy4gS2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIicpO31iLnNvcnQoT2UpO2U9bnVsbDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXtkPWJbY107aWYobnVsbCE9PWUmJmUuY29udGFpbnMoZCkpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgcGF0aCBcIitlLnRvU3RyaW5nKCkrXCIgdGhhdCBpcyBhbmNlc3RvciBvZiBhbm90aGVyIHBhdGggXCIrZC50b1N0cmluZygpKTtlPWR9fVxuZnVuY3Rpb24gZ2YoYSxiLGMpe3ZhciBkPXkoYSwxLCExKTtpZighaWEoYil8fGVhKGIpKXRocm93IEVycm9yKGQrXCIgbXVzdCBiZSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgY2hpbGRyZW4gdG8gcmVwbGFjZS5cIik7dmFyIGU9W107ZGIoYixmdW5jdGlvbihhLGIpe3ZhciBrPW5ldyBMKGEpO2VmKGQsYixjLm4oaykpO2lmKFwiLnByaW9yaXR5XCI9PT1CZChrKSYmIWNmKGIpKXRocm93IEVycm9yKGQrXCJjb250YWlucyBhbiBpbnZhbGlkIHZhbHVlIGZvciAnXCIray50b1N0cmluZygpK1wiJywgd2hpY2ggbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7ZS5wdXNoKGspfSk7ZmYoZCxlKX1cbmZ1bmN0aW9uIGhmKGEsYixjKXtpZihDYyhjKSl0aHJvdyBFcnJvcih5KGEsYiwhMSkrXCJpcyBcIitjLnRvU3RyaW5nKCkrXCIsIGJ1dCBtdXN0IGJlIGEgdmFsaWQgRmlyZWJhc2UgcHJpb3JpdHkgKGEgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBzZXJ2ZXIgdmFsdWUsIG9yIG51bGwpLlwiKTtpZighY2YoYykpdGhyb3cgRXJyb3IoeShhLGIsITEpK1wibXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7fVxuZnVuY3Rpb24gamYoYSxiLGMpe2lmKCFjfHxuKGIpKXN3aXRjaChiKXtjYXNlIFwidmFsdWVcIjpjYXNlIFwiY2hpbGRfYWRkZWRcIjpjYXNlIFwiY2hpbGRfcmVtb3ZlZFwiOmNhc2UgXCJjaGlsZF9jaGFuZ2VkXCI6Y2FzZSBcImNoaWxkX21vdmVkXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcih5KGEsMSxjKSsnbXVzdCBiZSBhIHZhbGlkIGV2ZW50IHR5cGU6IFwidmFsdWVcIiwgXCJjaGlsZF9hZGRlZFwiLCBcImNoaWxkX3JlbW92ZWRcIiwgXCJjaGlsZF9jaGFuZ2VkXCIsIG9yIFwiY2hpbGRfbW92ZWRcIi4nKTt9fWZ1bmN0aW9uIGtmKGEsYil7aWYobihiKSYmIWJmKGIpKXRocm93IEVycm9yKHkoYSwyLCEwKSsnd2FzIGFuIGludmFsaWQga2V5OiBcIicrYisnXCIuICBGaXJlYmFzZSBrZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiKS4nKTt9XG5mdW5jdGlvbiBsZihhLGIpe2lmKCFwKGIpfHwwPT09Yi5sZW5ndGh8fGFmLnRlc3QoYikpdGhyb3cgRXJyb3IoeShhLDEsITEpKyd3YXMgYW4gaW52YWxpZCBwYXRoOiBcIicrYisnXCIuIFBhdGhzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIltcIiwgb3IgXCJdXCInKTt9ZnVuY3Rpb24gbWYoYSxiKXtpZihcIi5pbmZvXCI9PT1KKGIpKXRocm93IEVycm9yKGErXCIgZmFpbGVkOiBDYW4ndCBtb2RpZnkgZGF0YSB1bmRlciAvLmluZm8vXCIpO31cbmZ1bmN0aW9uIFhlKGEsYil7dmFyIGM9Yi5wYXRoLnRvU3RyaW5nKCksZDshKGQ9IXAoYi5qYy5ob3N0KXx8MD09PWIuamMuaG9zdC5sZW5ndGh8fCFiZihiLmpjLm5lKSkmJihkPTAhPT1jLmxlbmd0aCkmJihjJiYoYz1jLnJlcGxhY2UoL15cXC8qXFwuaW5mbyhcXC98JCkvLFwiL1wiKSksZD0hKHAoYykmJjAhPT1jLmxlbmd0aCYmIWFmLnRlc3QoYykpKTtpZihkKXRocm93IEVycm9yKHkoYSwxLCExKSsnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIFVSTCBhbmQgdGhlIHBhdGggY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiW1wiLCBvciBcIl1cIi4nKTt9O2Z1bmN0aW9uIFYoYSxiKXt0aGlzLnRhPWE7dGhpcy5xYT1ifVYucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO0EoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWxcIiwxLGEsITApO3ZhciBiPW5ldyBoYjt0aGlzLnRhLnhkKHRoaXMucWEsaWIoYixhKSk7cmV0dXJuIGIucmF9O1YucHJvdG90eXBlLmNhbmNlbD1WLnByb3RvdHlwZS5jYW5jZWw7Vi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIix0aGlzLnFhKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMSxhLCEwKTt2YXIgYj1uZXcgaGI7bmYodGhpcy50YSx0aGlzLnFhLG51bGwsaWIoYixhKSk7cmV0dXJuIGIucmF9O1xuVi5wcm90b3R5cGUucmVtb3ZlPVYucHJvdG90eXBlLnJlbW92ZTtWLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO21mKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsdGhpcy5xYSk7ZGYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIixhLHRoaXMucWEsITEpO0EoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIiwyLGIsITApO3ZhciBjPW5ldyBoYjtuZih0aGlzLnRhLHRoaXMucWEsYSxpYihjLGIpKTtyZXR1cm4gYy5yYX07Vi5wcm90b3R5cGUuc2V0PVYucHJvdG90eXBlLnNldDtcblYucHJvdG90eXBlLkpiPWZ1bmN0aW9uKGEsYixjKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpO21mKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5xYSk7ZGYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIixhLHRoaXMucWEsITEpO2hmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMixiKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMyxjLCEwKTt2YXIgZD1uZXcgaGI7b2YodGhpcy50YSx0aGlzLnFhLGEsYixpYihkLGMpKTtyZXR1cm4gZC5yYX07Vi5wcm90b3R5cGUuc2V0V2l0aFByaW9yaXR5PVYucHJvdG90eXBlLkpiO1xuVi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLHRoaXMucWEpO2lmKGVhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9YztPKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1nZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLGEsdGhpcy5xYSk7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDIsYiwhMCk7XG5jPW5ldyBoYjtwZih0aGlzLnRhLHRoaXMucWEsYSxpYihjLGIpKTtyZXR1cm4gYy5yYX07Vi5wcm90b3R5cGUudXBkYXRlPVYucHJvdG90eXBlLnVwZGF0ZTtmdW5jdGlvbiBxZihhKXtIKGVhKGEpJiYwPGEubGVuZ3RoLFwiUmVxdWlyZXMgYSBub24tZW1wdHkgYXJyYXlcIik7dGhpcy5CZj1hO3RoaXMuRGM9e319cWYucHJvdG90eXBlLkVlPWZ1bmN0aW9uKGEsYil7dmFyIGM7Yz10aGlzLkRjW2FdfHxbXTt2YXIgZD1jLmxlbmd0aDtpZigwPGQpe2Zvcih2YXIgZT1BcnJheShkKSxmPTA7ZjxkO2YrKyllW2ZdPWNbZl07Yz1lfWVsc2UgYz1bXTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0uSGUuYXBwbHkoY1tkXS5NYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfTtxZi5wcm90b3R5cGUuZ2M9ZnVuY3Rpb24oYSxiLGMpe3JmKHRoaXMsYSk7dGhpcy5EY1thXT10aGlzLkRjW2FdfHxbXTt0aGlzLkRjW2FdLnB1c2goe0hlOmIsTWE6Y30pOyhhPXRoaXMuVWUoYSkpJiZiLmFwcGx5KGMsYSl9O1xucWYucHJvdG90eXBlLkljPWZ1bmN0aW9uKGEsYixjKXtyZih0aGlzLGEpO2E9dGhpcy5EY1thXXx8W107Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYVtkXS5IZT09PWImJighY3x8Yz09PWFbZF0uTWEpKXthLnNwbGljZShkLDEpO2JyZWFrfX07ZnVuY3Rpb24gcmYoYSxiKXtIKE9hKGEuQmYsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSksXCJVbmtub3duIGV2ZW50OiBcIitiKX07ZnVuY3Rpb24gc2YoKXtxZi5jYWxsKHRoaXMsW1wib25saW5lXCJdKTt0aGlzLmhjPSEwO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyJiYhcWIoKSl7dmFyIGE9dGhpczt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLGZ1bmN0aW9uKCl7YS5oY3x8KGEuaGM9ITAsYS5FZShcIm9ubGluZVwiLCEwKSl9LCExKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIixmdW5jdGlvbigpe2EuaGMmJihhLmhjPSExLGEuRWUoXCJvbmxpbmVcIiwhMSkpfSwhMSl9fWxhKHNmLHFmKTtzZi5wcm90b3R5cGUuVWU9ZnVuY3Rpb24oYSl7SChcIm9ubGluZVwiPT09YSxcIlVua25vd24gZXZlbnQgdHlwZTogXCIrYSk7cmV0dXJuW3RoaXMuaGNdfTtjYShzZik7ZnVuY3Rpb24gdGYoKXtxZi5jYWxsKHRoaXMsW1widmlzaWJsZVwiXSk7dmFyIGEsYjtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmhpZGRlbj8oYj1cInZpc2liaWxpdHljaGFuZ2VcIixhPVwiaGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQubW96SGlkZGVuPyhiPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtb3pIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5tc0hpZGRlbj8oYj1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtc0hpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiYmKGI9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIndlYmtpdEhpZGRlblwiKSk7dGhpcy5NYj0hMDtpZihiKXt2YXIgYz10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYixcbmZ1bmN0aW9uKCl7dmFyIGI9IWRvY3VtZW50W2FdO2IhPT1jLk1iJiYoYy5NYj1iLGMuRWUoXCJ2aXNpYmxlXCIsYikpfSwhMSl9fWxhKHRmLHFmKTt0Zi5wcm90b3R5cGUuVWU9ZnVuY3Rpb24oYSl7SChcInZpc2libGVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLk1iXX07Y2EodGYpO3ZhciB1Zj1mdW5jdGlvbigpe3ZhciBhPTAsYj1bXTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9Yz09PWE7YT1jO2Zvcih2YXIgZT1BcnJheSg4KSxmPTc7MDw9ZjtmLS0pZVtmXT1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQoYyU2NCksYz1NYXRoLmZsb29yKGMvNjQpO0goMD09PWMsXCJDYW5ub3QgcHVzaCBhdCB0aW1lID09IDBcIik7Yz1lLmpvaW4oXCJcIik7aWYoZCl7Zm9yKGY9MTE7MDw9ZiYmNjM9PT1iW2ZdO2YtLSliW2ZdPTA7YltmXSsrfWVsc2UgZm9yKGY9MDsxMj5mO2YrKyliW2ZdPU1hdGguZmxvb3IoNjQqTWF0aC5yYW5kb20oKSk7Zm9yKGY9MDsxMj5mO2YrKyljKz1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQoYltmXSk7SCgyMD09PWMubGVuZ3RoLFwibmV4dFB1c2hJZDogTGVuZ3RoIHNob3VsZCBiZSAyMC5cIik7XG5yZXR1cm4gY319KCk7ZnVuY3Rpb24gdmYoYSxiKXt0aGlzLkxhPWE7dGhpcy5iYT1iP2I6d2Z9Zz12Zi5wcm90b3R5cGU7Zy5PYT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgdmYodGhpcy5MYSx0aGlzLmJhLk9hKGEsYix0aGlzLkxhKS5YKG51bGwsbnVsbCwhMSxudWxsLG51bGwpKX07Zy5yZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyB2Zih0aGlzLkxhLHRoaXMuYmEucmVtb3ZlKGEsdGhpcy5MYSkuWChudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2cuZ2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMuYmE7IWMuZSgpOyl7Yj10aGlzLkxhKGEsYy5rZXkpO2lmKDA9PT1iKXJldHVybiBjLnZhbHVlOzA+Yj9jPWMubGVmdDowPGImJihjPWMucmlnaHQpfXJldHVybiBudWxsfTtcbmZ1bmN0aW9uIHhmKGEsYil7Zm9yKHZhciBjLGQ9YS5iYSxlPW51bGw7IWQuZSgpOyl7Yz1hLkxhKGIsZC5rZXkpO2lmKDA9PT1jKXtpZihkLmxlZnQuZSgpKXJldHVybiBlP2Uua2V5Om51bGw7Zm9yKGQ9ZC5sZWZ0OyFkLnJpZ2h0LmUoKTspZD1kLnJpZ2h0O3JldHVybiBkLmtleX0wPmM/ZD1kLmxlZnQ6MDxjJiYoZT1kLGQ9ZC5yaWdodCl9dGhyb3cgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZmluZCBwcmVkZWNlc3NvciBrZXkgZm9yIGEgbm9uZXhpc3RlbnQga2V5LiAgV2hhdCBnaXZlcz9cIik7fWcuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhLmUoKX07Zy5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhLmNvdW50KCl9O2cuR2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYS5HYygpfTtnLmVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmEuZWMoKX07Zy5oYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iYS5oYShhKX07XG5nLldiPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgeWYodGhpcy5iYSxudWxsLHRoaXMuTGEsITEsYSl9O2cuWGI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IHlmKHRoaXMuYmEsYSx0aGlzLkxhLCExLGIpfTtnLlpiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyB5Zih0aGlzLmJhLGEsdGhpcy5MYSwhMCxiKX07Zy5XZT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IHlmKHRoaXMuYmEsbnVsbCx0aGlzLkxhLCEwLGEpfTtmdW5jdGlvbiB5ZihhLGIsYyxkLGUpe3RoaXMuSGQ9ZXx8bnVsbDt0aGlzLmplPWQ7dGhpcy5QYT1bXTtmb3IoZT0xOyFhLmUoKTspaWYoZT1iP2MoYS5rZXksYik6MSxkJiYoZSo9LTEpLDA+ZSlhPXRoaXMuamU/YS5sZWZ0OmEucmlnaHQ7ZWxzZSBpZigwPT09ZSl7dGhpcy5QYS5wdXNoKGEpO2JyZWFrfWVsc2UgdGhpcy5QYS5wdXNoKGEpLGE9dGhpcy5qZT9hLnJpZ2h0OmEubGVmdH1cbmZ1bmN0aW9uIFIoYSl7aWYoMD09PWEuUGEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiPWEuUGEucG9wKCksYztjPWEuSGQ/YS5IZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9O2lmKGEuamUpZm9yKGI9Yi5sZWZ0OyFiLmUoKTspYS5QYS5wdXNoKGIpLGI9Yi5yaWdodDtlbHNlIGZvcihiPWIucmlnaHQ7IWIuZSgpOylhLlBhLnB1c2goYiksYj1iLmxlZnQ7cmV0dXJuIGN9ZnVuY3Rpb24gemYoYSl7aWYoMD09PWEuUGEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiO2I9YS5QYTtiPWJbYi5sZW5ndGgtMV07cmV0dXJuIGEuSGQ/YS5IZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9fWZ1bmN0aW9uIEFmKGEsYixjLGQsZSl7dGhpcy5rZXk9YTt0aGlzLnZhbHVlPWI7dGhpcy5jb2xvcj1udWxsIT1jP2M6ITA7dGhpcy5sZWZ0PW51bGwhPWQ/ZDp3Zjt0aGlzLnJpZ2h0PW51bGwhPWU/ZTp3Zn1nPUFmLnByb3RvdHlwZTtcbmcuWD1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgQWYobnVsbCE9YT9hOnRoaXMua2V5LG51bGwhPWI/Yjp0aGlzLnZhbHVlLG51bGwhPWM/Yzp0aGlzLmNvbG9yLG51bGwhPWQ/ZDp0aGlzLmxlZnQsbnVsbCE9ZT9lOnRoaXMucmlnaHQpfTtnLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Zy5oYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sZWZ0LmhhKGEpfHxhKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0LmhhKGEpfTtmdW5jdGlvbiBCZihhKXtyZXR1cm4gYS5sZWZ0LmUoKT9hOkJmKGEubGVmdCl9Zy5HYz1mdW5jdGlvbigpe3JldHVybiBCZih0aGlzKS5rZXl9O2cuZWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC5lKCk/dGhpcy5rZXk6dGhpcy5yaWdodC5lYygpfTtcbmcuT2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7ZT10aGlzO2Q9YyhhLGUua2V5KTtlPTA+ZD9lLlgobnVsbCxudWxsLG51bGwsZS5sZWZ0Lk9hKGEsYixjKSxudWxsKTowPT09ZD9lLlgobnVsbCxiLG51bGwsbnVsbCxudWxsKTplLlgobnVsbCxudWxsLG51bGwsbnVsbCxlLnJpZ2h0Lk9hKGEsYixjKSk7cmV0dXJuIENmKGUpfTtmdW5jdGlvbiBEZihhKXtpZihhLmxlZnQuZSgpKXJldHVybiB3ZjthLmxlZnQuZWEoKXx8YS5sZWZ0LmxlZnQuZWEoKXx8KGE9RWYoYSkpO2E9YS5YKG51bGwsbnVsbCxudWxsLERmKGEubGVmdCksbnVsbCk7cmV0dXJuIENmKGEpfVxuZy5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9dGhpcztpZigwPmIoYSxjLmtleSkpYy5sZWZ0LmUoKXx8Yy5sZWZ0LmVhKCl8fGMubGVmdC5sZWZ0LmVhKCl8fChjPUVmKGMpKSxjPWMuWChudWxsLG51bGwsbnVsbCxjLmxlZnQucmVtb3ZlKGEsYiksbnVsbCk7ZWxzZXtjLmxlZnQuZWEoKSYmKGM9RmYoYykpO2MucmlnaHQuZSgpfHxjLnJpZ2h0LmVhKCl8fGMucmlnaHQubGVmdC5lYSgpfHwoYz1HZihjKSxjLmxlZnQubGVmdC5lYSgpJiYoYz1GZihjKSxjPUdmKGMpKSk7aWYoMD09PWIoYSxjLmtleSkpe2lmKGMucmlnaHQuZSgpKXJldHVybiB3ZjtkPUJmKGMucmlnaHQpO2M9Yy5YKGQua2V5LGQudmFsdWUsbnVsbCxudWxsLERmKGMucmlnaHQpKX1jPWMuWChudWxsLG51bGwsbnVsbCxudWxsLGMucmlnaHQucmVtb3ZlKGEsYikpfXJldHVybiBDZihjKX07Zy5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG9yfTtcbmZ1bmN0aW9uIENmKGEpe2EucmlnaHQuZWEoKSYmIWEubGVmdC5lYSgpJiYoYT1IZihhKSk7YS5sZWZ0LmVhKCkmJmEubGVmdC5sZWZ0LmVhKCkmJihhPUZmKGEpKTthLmxlZnQuZWEoKSYmYS5yaWdodC5lYSgpJiYoYT1HZihhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gRWYoYSl7YT1HZihhKTthLnJpZ2h0LmxlZnQuZWEoKSYmKGE9YS5YKG51bGwsbnVsbCxudWxsLG51bGwsRmYoYS5yaWdodCkpLGE9SGYoYSksYT1HZihhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gSGYoYSl7cmV0dXJuIGEucmlnaHQuWChudWxsLG51bGwsYS5jb2xvcixhLlgobnVsbCxudWxsLCEwLG51bGwsYS5yaWdodC5sZWZ0KSxudWxsKX1mdW5jdGlvbiBGZihhKXtyZXR1cm4gYS5sZWZ0LlgobnVsbCxudWxsLGEuY29sb3IsbnVsbCxhLlgobnVsbCxudWxsLCEwLGEubGVmdC5yaWdodCxudWxsKSl9XG5mdW5jdGlvbiBHZihhKXtyZXR1cm4gYS5YKG51bGwsbnVsbCwhYS5jb2xvcixhLmxlZnQuWChudWxsLG51bGwsIWEubGVmdC5jb2xvcixudWxsLG51bGwpLGEucmlnaHQuWChudWxsLG51bGwsIWEucmlnaHQuY29sb3IsbnVsbCxudWxsKSl9ZnVuY3Rpb24gSWYoKXt9Zz1JZi5wcm90b3R5cGU7Zy5YPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2cuT2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEFmKGEsYixudWxsKX07Zy5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307Zy5jb3VudD1mdW5jdGlvbigpe3JldHVybiAwfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Zy5oYT1mdW5jdGlvbigpe3JldHVybiExfTtnLkdjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2cuZWM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Zy5lYT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgd2Y9bmV3IElmO2Z1bmN0aW9uIFAoYSxiLGMpe3RoaXMuaz1hOyh0aGlzLmFhPWIpJiZTZCh0aGlzLmFhKTthLmUoKSYmSCghdGhpcy5hYXx8dGhpcy5hYS5lKCksXCJBbiBlbXB0eSBub2RlIGNhbm5vdCBoYXZlIGEgcHJpb3JpdHlcIik7dGhpcy55Yj1jO3RoaXMuRGI9bnVsbH1nPVAucHJvdG90eXBlO2cuSj1mdW5jdGlvbigpe3JldHVybiExfTtnLkM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hYXx8R307Zy5mYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5rLmUoKT90aGlzOm5ldyBQKHRoaXMuayxhLHRoaXMueWIpfTtnLlE9ZnVuY3Rpb24oYSl7aWYoXCIucHJpb3JpdHlcIj09PWEpcmV0dXJuIHRoaXMuQygpO2E9dGhpcy5rLmdldChhKTtyZXR1cm4gbnVsbD09PWE/RzphfTtnLlA9ZnVuY3Rpb24oYSl7dmFyIGI9SihhKTtyZXR1cm4gbnVsbD09PWI/dGhpczp0aGlzLlEoYikuUChEKGEpKX07Zy5EYT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PXRoaXMuay5nZXQoYSl9O1xuZy5UPWZ1bmN0aW9uKGEsYil7SChiLFwiV2Ugc2hvdWxkIGFsd2F5cyBiZSBwYXNzaW5nIHNuYXBzaG90IG5vZGVzXCIpO2lmKFwiLnByaW9yaXR5XCI9PT1hKXJldHVybiB0aGlzLmZhKGIpO3ZhciBjPW5ldyBLKGEsYiksZCxlO2IuZSgpPyhkPXRoaXMuay5yZW1vdmUoYSksYz1tZSh0aGlzLnliLGMsdGhpcy5rKSk6KGQ9dGhpcy5rLk9hKGEsYiksYz1rZSh0aGlzLnliLGMsdGhpcy5rKSk7ZT1kLmUoKT9HOnRoaXMuYWE7cmV0dXJuIG5ldyBQKGQsZSxjKX07Zy5GPWZ1bmN0aW9uKGEsYil7dmFyIGM9SihhKTtpZihudWxsPT09YylyZXR1cm4gYjtIKFwiLnByaW9yaXR5XCIhPT1KKGEpfHwxPT09QWQoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7dmFyIGQ9dGhpcy5RKGMpLkYoRChhKSxiKTtyZXR1cm4gdGhpcy5UKGMsZCl9O2cuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmsuZSgpfTtnLkViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuay5jb3VudCgpfTtcbnZhciBKZj0vXigwfFsxLTldXFxkKikkLztnPVAucHJvdG90eXBlO2cuSD1mdW5jdGlvbihhKXtpZih0aGlzLmUoKSlyZXR1cm4gbnVsbDt2YXIgYj17fSxjPTAsZD0wLGU9ITA7dGhpcy5PKE4sZnVuY3Rpb24oZixoKXtiW2ZdPWguSChhKTtjKys7ZSYmSmYudGVzdChmKT9kPU1hdGgubWF4KGQsTnVtYmVyKGYpKTplPSExfSk7aWYoIWEmJmUmJmQ8MipjKXt2YXIgZj1bXSxoO2ZvcihoIGluIGIpZltoXT1iW2hdO3JldHVybiBmfWEmJiF0aGlzLkMoKS5lKCkmJihiW1wiLnByaW9yaXR5XCJdPXRoaXMuQygpLkgoKSk7cmV0dXJuIGJ9O2cuaGFzaD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLkRiKXt2YXIgYT1cIlwiO3RoaXMuQygpLmUoKXx8KGErPVwicHJpb3JpdHk6XCIrVWQodGhpcy5DKCkuSCgpKStcIjpcIik7dGhpcy5PKE4sZnVuY3Rpb24oYixjKXt2YXIgZD1jLmhhc2goKTtcIlwiIT09ZCYmKGErPVwiOlwiK2IrXCI6XCIrZCl9KTt0aGlzLkRiPVwiXCI9PT1hP1wiXCI6dWMoYSl9cmV0dXJuIHRoaXMuRGJ9O1xuZy5WZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuKGM9S2YodGhpcyxjKSk/KGE9eGYoYyxuZXcgSyhhLGIpKSk/YS5uYW1lOm51bGw6eGYodGhpcy5rLGEpfTtmdW5jdGlvbiBRZChhLGIpe3ZhciBjO2M9KGM9S2YoYSxiKSk/KGM9Yy5HYygpKSYmYy5uYW1lOmEuay5HYygpO3JldHVybiBjP25ldyBLKGMsYS5rLmdldChjKSk6bnVsbH1mdW5jdGlvbiBSZChhLGIpe3ZhciBjO2M9KGM9S2YoYSxiKSk/KGM9Yy5lYygpKSYmYy5uYW1lOmEuay5lYygpO3JldHVybiBjP25ldyBLKGMsYS5rLmdldChjKSk6bnVsbH1nLk89ZnVuY3Rpb24oYSxiKXt2YXIgYz1LZih0aGlzLGEpO3JldHVybiBjP2MuaGEoZnVuY3Rpb24oYSl7cmV0dXJuIGIoYS5uYW1lLGEuUil9KTp0aGlzLmsuaGEoYil9O2cuV2I9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuWGIoYS5IYygpLGEpfTtcbmcuWGI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1LZih0aGlzLGIpO2lmKGMpcmV0dXJuIGMuWGIoYSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pO2Zvcih2YXIgYz10aGlzLmsuWGIoYS5uYW1lLGpjKSxkPXpmKGMpO251bGwhPWQmJjA+Yi5jb21wYXJlKGQsYSk7KVIoYyksZD16ZihjKTtyZXR1cm4gY307Zy5XZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5aYihhLkZjKCksYSl9O2cuWmI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1LZih0aGlzLGIpO2lmKGMpcmV0dXJuIGMuWmIoYSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pO2Zvcih2YXIgYz10aGlzLmsuWmIoYS5uYW1lLGpjKSxkPXpmKGMpO251bGwhPWQmJjA8Yi5jb21wYXJlKGQsYSk7KVIoYyksZD16ZihjKTtyZXR1cm4gY307Zy5zYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lKCk/YS5lKCk/MDotMTphLkooKXx8YS5lKCk/MTphPT09WmQ/LTE6MH07XG5nLm5iPWZ1bmN0aW9uKGEpe2lmKGE9PT1GZHx8dmEodGhpcy55Yi5jYyxhLnRvU3RyaW5nKCkpKXJldHVybiB0aGlzO3ZhciBiPXRoaXMueWIsYz10aGlzLms7SChhIT09RmQsXCJLZXlJbmRleCBhbHdheXMgZXhpc3RzIGFuZCBpc24ndCBtZWFudCB0byBiZSBhZGRlZCB0byB0aGUgSW5kZXhNYXAuXCIpO2Zvcih2YXIgZD1bXSxlPSExLGM9Yy5XYihqYyksZj1SKGMpO2Y7KWU9ZXx8YS54YyhmLlIpLGQucHVzaChmKSxmPVIoYyk7ZD1lP2xlKGQsUGQoYSkpOldkO2U9YS50b1N0cmluZygpO2M9emEoYi5jYyk7Y1tlXT1hO2E9emEoYi5vZCk7YVtlXT1kO3JldHVybiBuZXcgUCh0aGlzLmssdGhpcy5hYSxuZXcgamUoYSxjKSl9O2cueWM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1GZHx8dmEodGhpcy55Yi5jYyxhLnRvU3RyaW5nKCkpfTtcbmcuWj1mdW5jdGlvbihhKXtpZihhPT09dGhpcylyZXR1cm4hMDtpZihhLkooKSlyZXR1cm4hMTtpZih0aGlzLkMoKS5aKGEuQygpKSYmdGhpcy5rLmNvdW50KCk9PT1hLmsuY291bnQoKSl7dmFyIGI9dGhpcy5XYihOKTthPWEuV2IoTik7Zm9yKHZhciBjPVIoYiksZD1SKGEpO2MmJmQ7KXtpZihjLm5hbWUhPT1kLm5hbWV8fCFjLlIuWihkLlIpKXJldHVybiExO2M9UihiKTtkPVIoYSl9cmV0dXJuIG51bGw9PT1jJiZudWxsPT09ZH1yZXR1cm4hMX07ZnVuY3Rpb24gS2YoYSxiKXtyZXR1cm4gYj09PUZkP251bGw6YS55Yi5nZXQoYi50b1N0cmluZygpKX1nLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEIodGhpcy5IKCEwKSl9O2Z1bmN0aW9uIE0oYSxiKXtpZihudWxsPT09YSlyZXR1cm4gRzt2YXIgYz1udWxsO1wib2JqZWN0XCI9PT10eXBlb2YgYSYmXCIucHJpb3JpdHlcImluIGE/Yz1hW1wiLnByaW9yaXR5XCJdOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgYiYmKGM9Yik7SChudWxsPT09Y3x8XCJzdHJpbmdcIj09PXR5cGVvZiBjfHxcIm51bWJlclwiPT09dHlwZW9mIGN8fFwib2JqZWN0XCI9PT10eXBlb2YgYyYmXCIuc3ZcImluIGMsXCJJbnZhbGlkIHByaW9yaXR5IHR5cGUgZm91bmQ6IFwiK3R5cGVvZiBjKTtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnZhbHVlXCJpbiBhJiZudWxsIT09YVtcIi52YWx1ZVwiXSYmKGE9YVtcIi52YWx1ZVwiXSk7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxcIi5zdlwiaW4gYSlyZXR1cm4gbmV3IHFjKGEsTShjKSk7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXt2YXIgZD1HLGU9YTtyKGUsZnVuY3Rpb24oYSxiKXtpZihjYihlLGIpJiZcIi5cIiE9PWIuc3Vic3RyaW5nKDAsMSkpe3ZhciBjPU0oYSk7aWYoYy5KKCl8fCFjLmUoKSlkPVxuZC5UKGIsYyl9fSk7cmV0dXJuIGQuZmEoTShjKSl9dmFyIGY9W10saD0hMSxrPWE7ZGIoayxmdW5jdGlvbihhKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGF8fFwiLlwiIT09YS5zdWJzdHJpbmcoMCwxKSl7dmFyIGI9TShrW2FdKTtiLmUoKXx8KGg9aHx8IWIuQygpLmUoKSxmLnB1c2gobmV3IEsoYSxiKSkpfX0pO2lmKDA9PWYubGVuZ3RoKXJldHVybiBHO3ZhciBsPWxlKGYsZ2MsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZX0saWMpO2lmKGgpe3ZhciBtPWxlKGYsUGQoTikpO3JldHVybiBuZXcgUChsLE0oYyksbmV3IGplKHtcIi5wcmlvcml0eVwiOm19LHtcIi5wcmlvcml0eVwiOk59KSl9cmV0dXJuIG5ldyBQKGwsTShjKSxuZSl9dmFyIExmPU1hdGgubG9nKDIpO1xuZnVuY3Rpb24gTWYoYSl7dGhpcy5jb3VudD1wYXJzZUludChNYXRoLmxvZyhhKzEpL0xmLDEwKTt0aGlzLk5lPXRoaXMuY291bnQtMTt0aGlzLkNmPWErMSZwYXJzZUludChBcnJheSh0aGlzLmNvdW50KzEpLmpvaW4oXCIxXCIpLDIpfWZ1bmN0aW9uIE5mKGEpe3ZhciBiPSEoYS5DZiYxPDxhLk5lKTthLk5lLS07cmV0dXJuIGJ9XG5mdW5jdGlvbiBsZShhLGIsYyxkKXtmdW5jdGlvbiBlKGIsZCl7dmFyIGY9ZC1iO2lmKDA9PWYpcmV0dXJuIG51bGw7aWYoMT09Zil7dmFyIG09YVtiXSx1PWM/YyhtKTptO3JldHVybiBuZXcgQWYodSxtLlIsITEsbnVsbCxudWxsKX12YXIgbT1wYXJzZUludChmLzIsMTApK2IsZj1lKGIsbSksej1lKG0rMSxkKSxtPWFbbV0sdT1jP2MobSk6bTtyZXR1cm4gbmV3IEFmKHUsbS5SLCExLGYseil9YS5zb3J0KGIpO3ZhciBmPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYixoKXt2YXIgaz11LWIsej11O3UtPWI7dmFyIHo9ZShrKzEseiksaz1hW2tdLEY9Yz9jKGspOmssej1uZXcgQWYoRixrLlIsaCxudWxsLHopO2Y/Zi5sZWZ0PXo6bT16O2Y9en1mb3IodmFyIGY9bnVsbCxtPW51bGwsdT1hLmxlbmd0aCx6PTA7ejxiLmNvdW50Oysreil7dmFyIEY9TmYoYiksaWQ9TWF0aC5wb3coMixiLmNvdW50LSh6KzEpKTtGP2QoaWQsITEpOihkKGlkLCExKSxkKGlkLCEwKSl9cmV0dXJuIG19KG5ldyBNZihhLmxlbmd0aCkpO1xucmV0dXJuIG51bGwhPT1mP25ldyB2ZihkfHxiLGYpOm5ldyB2ZihkfHxiKX1mdW5jdGlvbiBVZChhKXtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGE/XCJudW1iZXI6XCIrSmMoYSk6XCJzdHJpbmc6XCIrYX1mdW5jdGlvbiBTZChhKXtpZihhLkooKSl7dmFyIGI9YS5IKCk7SChcInN0cmluZ1wiPT09dHlwZW9mIGJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYnx8XCJvYmplY3RcIj09PXR5cGVvZiBiJiZjYihiLFwiLnN2XCIpLFwiUHJpb3JpdHkgbXVzdCBiZSBhIHN0cmluZyBvciBudW1iZXIuXCIpfWVsc2UgSChhPT09WmR8fGEuZSgpLFwicHJpb3JpdHkgb2YgdW5leHBlY3RlZCB0eXBlLlwiKTtIKGE9PT1aZHx8YS5DKCkuZSgpLFwiUHJpb3JpdHkgbm9kZXMgY2FuJ3QgaGF2ZSBhIHByaW9yaXR5IG9mIHRoZWlyIG93bi5cIil9dmFyIEc9bmV3IFAobmV3IHZmKGljKSxudWxsLG5lKTtmdW5jdGlvbiBPZigpe1AuY2FsbCh0aGlzLG5ldyB2ZihpYyksRyxuZSl9bGEoT2YsUCk7Zz1PZi5wcm90b3R5cGU7XG5nLnNjPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcz8wOjF9O2cuWj1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN9O2cuQz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtnLlE9ZnVuY3Rpb24oKXtyZXR1cm4gR307Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciBaZD1uZXcgT2YsWGQ9bmV3IEsoXCJbTUlOX05BTUVdXCIsRyksY2U9bmV3IEsoXCJbTUFYX05BTUVdXCIsWmQpO2Z1bmN0aW9uIFcoYSxiLGMpe3RoaXMuQT1hO3RoaXMuVj1iO3RoaXMuZz1jfVcucHJvdG90eXBlLkg9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkgoKX07Vy5wcm90b3R5cGUudmFsPVcucHJvdG90eXBlLkg7Vy5wcm90b3R5cGUuUWU9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4cG9ydFZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkgoITApfTtXLnByb3RvdHlwZS5leHBvcnRWYWw9Vy5wcm90b3R5cGUuUWU7Vy5wcm90b3R5cGUuTGY9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4aXN0c1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4hdGhpcy5BLmUoKX07Vy5wcm90b3R5cGUuZXhpc3RzPVcucHJvdG90eXBlLkxmO1xuVy5wcm90b3R5cGUubj1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmNoaWxkXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO2dhKGEpJiYoYT1TdHJpbmcoYSkpO2xmKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmNoaWxkXCIsYSk7dmFyIGI9bmV3IEwoYSksYz10aGlzLlYubihiKTtyZXR1cm4gbmV3IFcodGhpcy5BLlAoYiksYyxOKX07Vy5wcm90b3R5cGUuY2hpbGQ9Vy5wcm90b3R5cGUubjtXLnByb3RvdHlwZS5EYT1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2xmKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsYSk7dmFyIGI9bmV3IEwoYSk7cmV0dXJuIXRoaXMuQS5QKGIpLmUoKX07Vy5wcm90b3R5cGUuaGFzQ2hpbGQ9Vy5wcm90b3R5cGUuRGE7XG5XLnByb3RvdHlwZS5DPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5nZXRQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkMoKS5IKCl9O1cucHJvdG90eXBlLmdldFByaW9yaXR5PVcucHJvdG90eXBlLkM7Vy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7QShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSxhLCExKTtpZih0aGlzLkEuSigpKXJldHVybiExO3ZhciBiPXRoaXM7cmV0dXJuISF0aGlzLkEuTyh0aGlzLmcsZnVuY3Rpb24oYyxkKXtyZXR1cm4gYShuZXcgVyhkLGIuVi5uKGMpLE4pKX0pfTtXLnByb3RvdHlwZS5mb3JFYWNoPVcucHJvdG90eXBlLmZvckVhY2g7XG5XLnByb3RvdHlwZS5rZD1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5KKCk/ITE6IXRoaXMuQS5lKCl9O1cucHJvdG90eXBlLmhhc0NoaWxkcmVuPVcucHJvdG90eXBlLmtkO1cucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3Qua2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLlYuZ2V0S2V5KCl9O0xjKFcucHJvdG90eXBlLFwia2V5XCIsVy5wcm90b3R5cGUuZ2V0S2V5KTtXLnByb3RvdHlwZS5FYj1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubnVtQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5FYigpfTtXLnByb3RvdHlwZS5udW1DaGlsZHJlbj1XLnByb3RvdHlwZS5FYjtcblcucHJvdG90eXBlLndiPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuVn07TGMoVy5wcm90b3R5cGUsXCJyZWZcIixXLnByb3RvdHlwZS53Yik7ZnVuY3Rpb24geWQoYSxiKXt0aGlzLk49YTt0aGlzLkxkPWJ9ZnVuY3Rpb24gdmQoYSxiLGMsZCl7cmV0dXJuIG5ldyB5ZChuZXcgJGIoYixjLGQpLGEuTGQpfWZ1bmN0aW9uIHpkKGEpe3JldHVybiBhLk4uZGE/YS5OLmooKTpudWxsfXlkLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTGR9O2Z1bmN0aW9uIGFjKGEpe3JldHVybiBhLkxkLmRhP2EuTGQuaigpOm51bGx9O2Z1bmN0aW9uIFBmKGEsYil7dGhpcy5WPWE7dmFyIGM9YS5tLGQ9bmV3IEdkKGMuZyksYz1TKGMpP25ldyBHZChjLmcpOmMueGE/bmV3IE1kKGMpOm5ldyBIZChjKTt0aGlzLmhmPW5ldyBwZChjKTt2YXIgZT1iLncoKSxmPWIuTixoPWQueWEoRyxlLmooKSxudWxsKSxrPWMueWEoRyxmLmooKSxudWxsKTt0aGlzLkthPW5ldyB5ZChuZXcgJGIoayxmLmRhLGMuTmEoKSksbmV3ICRiKGgsZS5kYSxkLk5hKCkpKTt0aGlzLlphPVtdO3RoaXMuSmY9bmV3IGtkKGEpfWZ1bmN0aW9uIFFmKGEpe3JldHVybiBhLlZ9Zz1QZi5wcm90b3R5cGU7Zy53PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuS2EudygpLmooKX07Zy5oYj1mdW5jdGlvbihhKXt2YXIgYj1hYyh0aGlzLkthKTtyZXR1cm4gYiYmKFModGhpcy5WLm0pfHwhYS5lKCkmJiFiLlEoSihhKSkuZSgpKT9iLlAoYSk6bnVsbH07Zy5lPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLlphLmxlbmd0aH07Zy5OYj1mdW5jdGlvbihhKXt0aGlzLlphLnB1c2goYSl9O1xuZy5rYj1mdW5jdGlvbihhLGIpe3ZhciBjPVtdO2lmKGIpe0gobnVsbD09YSxcIkEgY2FuY2VsIHNob3VsZCBjYW5jZWwgYWxsIGV2ZW50IHJlZ2lzdHJhdGlvbnMuXCIpO3ZhciBkPXRoaXMuVi5wYXRoO0phKHRoaXMuWmEsZnVuY3Rpb24oYSl7KGE9YS5MZShiLGQpKSYmYy5wdXNoKGEpfSl9aWYoYSl7Zm9yKHZhciBlPVtdLGY9MDtmPHRoaXMuWmEubGVuZ3RoOysrZil7dmFyIGg9dGhpcy5aYVtmXTtpZighaC5tYXRjaGVzKGEpKWUucHVzaChoKTtlbHNlIGlmKGEuWGUoKSl7ZT1lLmNvbmNhdCh0aGlzLlphLnNsaWNlKGYrMSkpO2JyZWFrfX10aGlzLlphPWV9ZWxzZSB0aGlzLlphPVtdO3JldHVybiBjfTtcbmcuZWI9ZnVuY3Rpb24oYSxiLGMpe2EudHlwZT09PVdjJiZudWxsIT09YS5zb3VyY2UuSGImJihIKGFjKHRoaXMuS2EpLFwiV2Ugc2hvdWxkIGFsd2F5cyBoYXZlIGEgZnVsbCBjYWNoZSBiZWZvcmUgaGFuZGxpbmcgbWVyZ2VzXCIpLEgoemQodGhpcy5LYSksXCJNaXNzaW5nIGV2ZW50IGNhY2hlLCBldmVuIHRob3VnaCB3ZSBoYXZlIGEgc2VydmVyIGNhY2hlXCIpKTt2YXIgZD10aGlzLkthO2E9dGhpcy5oZi5lYihkLGEsYixjKTtiPXRoaXMuaGY7Yz1hLlNkO0goYy5OLmooKS55YyhiLlUuZyksXCJFdmVudCBzbmFwIG5vdCBpbmRleGVkXCIpO0goYy53KCkuaigpLnljKGIuVS5nKSxcIlNlcnZlciBzbmFwIG5vdCBpbmRleGVkXCIpO0goZGMoYS5TZC53KCkpfHwhZGMoZC53KCkpLFwiT25jZSBhIHNlcnZlciBzbmFwIGlzIGNvbXBsZXRlLCBpdCBzaG91bGQgbmV2ZXIgZ28gYmFja1wiKTt0aGlzLkthPWEuU2Q7cmV0dXJuIFJmKHRoaXMsYS5EZixhLlNkLk4uaigpLG51bGwpfTtcbmZ1bmN0aW9uIFNmKGEsYil7dmFyIGM9YS5LYS5OLGQ9W107Yy5qKCkuSigpfHxjLmooKS5PKE4sZnVuY3Rpb24oYSxiKXtkLnB1c2gobmV3IEkoXCJjaGlsZF9hZGRlZFwiLGIsYSkpfSk7Yy5kYSYmZC5wdXNoKGJjKGMuaigpKSk7cmV0dXJuIFJmKGEsZCxjLmooKSxiKX1mdW5jdGlvbiBSZihhLGIsYyxkKXtyZXR1cm4gbGQoYS5KZixiLGMsZD9bZF06YS5aYSl9O2Z1bmN0aW9uIFRmKGEsYixjKXt0aGlzLlBiPWE7dGhpcy5yYj1iO3RoaXMudGI9Y3x8bnVsbH1nPVRmLnByb3RvdHlwZTtnLm5mPWZ1bmN0aW9uKGEpe3JldHVyblwidmFsdWVcIj09PWF9O2cuY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm0uZztyZXR1cm4gbmV3IFViKFwidmFsdWVcIix0aGlzLG5ldyBXKGEuSmEsYi53YigpLGMpKX07Zy5UYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnRiO2lmKFwiY2FuY2VsXCI9PT1hLmVlKCkpe0godGhpcy5yYixcIlJhaXNpbmcgYSBjYW5jZWwgZXZlbnQgb24gYSBsaXN0ZW5lciB3aXRoIG5vIGNhbmNlbCBjYWxsYmFja1wiKTt2YXIgYz10aGlzLnJiO3JldHVybiBmdW5jdGlvbigpe2MuY2FsbChiLGEuZXJyb3IpfX12YXIgZD10aGlzLlBiO3JldHVybiBmdW5jdGlvbigpe2QuY2FsbChiLGEuTWQpfX07Zy5MZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnJiP25ldyBWYih0aGlzLGEsYik6bnVsbH07XG5nLm1hdGNoZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBUZj9hLlBiJiZ0aGlzLlBiP2EuUGI9PT10aGlzLlBiJiZhLnRiPT09dGhpcy50YjohMDohMX07Zy5YZT1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5QYn07ZnVuY3Rpb24gVWYoYSxiLGMpe3RoaXMuZ2E9YTt0aGlzLnJiPWI7dGhpcy50Yj1jfWc9VWYucHJvdG90eXBlO2cubmY9ZnVuY3Rpb24oYSl7YT1cImNoaWxkcmVuX2FkZGVkXCI9PT1hP1wiY2hpbGRfYWRkZWRcIjphO3JldHVybihcImNoaWxkcmVuX3JlbW92ZWRcIj09PWE/XCJjaGlsZF9yZW1vdmVkXCI6YSlpbiB0aGlzLmdhfTtnLkxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucmI/bmV3IFZiKHRoaXMsYSxiKTpudWxsfTtcbmcuY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtIKG51bGwhPWEuWGEsXCJDaGlsZCBldmVudHMgc2hvdWxkIGhhdmUgYSBjaGlsZE5hbWUuXCIpO3ZhciBjPWIud2IoKS5uKGEuWGEpO3JldHVybiBuZXcgVWIoYS50eXBlLHRoaXMsbmV3IFcoYS5KYSxjLGIubS5nKSxhLkRkKX07Zy5UYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnRiO2lmKFwiY2FuY2VsXCI9PT1hLmVlKCkpe0godGhpcy5yYixcIlJhaXNpbmcgYSBjYW5jZWwgZXZlbnQgb24gYSBsaXN0ZW5lciB3aXRoIG5vIGNhbmNlbCBjYWxsYmFja1wiKTt2YXIgYz10aGlzLnJiO3JldHVybiBmdW5jdGlvbigpe2MuY2FsbChiLGEuZXJyb3IpfX12YXIgZD10aGlzLmdhW2EuaGRdO3JldHVybiBmdW5jdGlvbigpe2QuY2FsbChiLGEuTWQsYS5EZCl9fTtcbmcubWF0Y2hlcz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgVWYpe2lmKCF0aGlzLmdhfHwhYS5nYSlyZXR1cm4hMDtpZih0aGlzLnRiPT09YS50Yil7dmFyIGI9cmEoYS5nYSk7aWYoYj09PXJhKHRoaXMuZ2EpKXtpZigxPT09Yil7dmFyIGI9c2EoYS5nYSksYz1zYSh0aGlzLmdhKTtyZXR1cm4gYz09PWImJighYS5nYVtiXXx8IXRoaXMuZ2FbY118fGEuZ2FbYl09PT10aGlzLmdhW2NdKX1yZXR1cm4gcWEodGhpcy5nYSxmdW5jdGlvbihiLGMpe3JldHVybiBhLmdhW2NdPT09Yn0pfX19cmV0dXJuITF9O2cuWGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZ2F9O2Z1bmN0aW9uIFgoYSxiLGMsZCl7dGhpcy51PWE7dGhpcy5wYXRoPWI7dGhpcy5tPWM7dGhpcy5OYz1kfVxuZnVuY3Rpb24gVmYoYSl7dmFyIGI9bnVsbCxjPW51bGw7YS5rYSYmKGI9SmQoYSkpO2EubmEmJihjPUxkKGEpKTtpZihhLmc9PT1GZCl7aWYoYS5rYSl7aWYoXCJbTUlOX05BTUVdXCIhPUlkKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYil0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgdGhlIGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksb3IgZXF1YWxUbygpIG11c3QgYmUgYSBzdHJpbmcuXCIpO31pZihhLm5hKXtpZihcIltNQVhfTkFNRV1cIiE9S2QoYSkpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHlvdSBtYXkgb25seSBwYXNzIG9uZSBhcmd1bWVudCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKS5cIik7aWYoXCJzdHJpbmdcIiE9PVxudHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9fWVsc2UgaWYoYS5nPT09Til7aWYobnVsbCE9YiYmIWNmKGIpfHxudWxsIT1jJiYhY2YoYykpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBwcmlvcml0eSwgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgdmFsaWQgcHJpb3JpdHkgdmFsdWUgKG51bGwsIGEgbnVtYmVyLCBvciBhIHN0cmluZykuXCIpO31lbHNlIGlmKEgoYS5nIGluc3RhbmNlb2YgWWR8fGEuZz09PWRlLFwidW5rbm93biBpbmRleCB0eXBlLlwiKSxudWxsIT1iJiZcIm9iamVjdFwiPT09dHlwZW9mIGJ8fG51bGwhPWMmJlwib2JqZWN0XCI9PT10eXBlb2YgYyl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBGaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgY2Fubm90IGJlIGFuIG9iamVjdC5cIik7XG59ZnVuY3Rpb24gV2YoYSl7aWYoYS5rYSYmYS5uYSYmYS54YSYmKCFhLnhhfHxcIlwiPT09YS5tYikpdGhyb3cgRXJyb3IoXCJRdWVyeTogQ2FuJ3QgY29tYmluZSBzdGFydEF0KCksIGVuZEF0KCksIGFuZCBsaW1pdCgpLiBVc2UgbGltaXRUb0ZpcnN0KCkgb3IgbGltaXRUb0xhc3QoKSBpbnN0ZWFkLlwiKTt9ZnVuY3Rpb24gWGYoYSxiKXtpZighMD09PWEuTmMpdGhyb3cgRXJyb3IoYitcIjogWW91IGNhbid0IGNvbWJpbmUgbXVsdGlwbGUgb3JkZXJCeSBjYWxscy5cIik7fWc9WC5wcm90b3R5cGU7Zy53Yj1mdW5jdGlvbigpe3goXCJRdWVyeS5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIG5ldyBVKHRoaXMudSx0aGlzLnBhdGgpfTtcbmcuZ2M9ZnVuY3Rpb24oYSxiLGMsZCl7eChcIlF1ZXJ5Lm9uXCIsMiw0LGFyZ3VtZW50cy5sZW5ndGgpO2pmKFwiUXVlcnkub25cIixhLCExKTtBKFwiUXVlcnkub25cIiwyLGIsITEpO3ZhciBlPVlmKFwiUXVlcnkub25cIixjLGQpO2lmKFwidmFsdWVcIj09PWEpWmYodGhpcy51LHRoaXMsbmV3IFRmKGIsZS5jYW5jZWx8fG51bGwsZS5NYXx8bnVsbCkpO2Vsc2V7dmFyIGY9e307ZlthXT1iO1pmKHRoaXMudSx0aGlzLG5ldyBVZihmLGUuY2FuY2VsLGUuTWEpKX1yZXR1cm4gYn07XG5nLkljPWZ1bmN0aW9uKGEsYixjKXt4KFwiUXVlcnkub2ZmXCIsMCwzLGFyZ3VtZW50cy5sZW5ndGgpO2pmKFwiUXVlcnkub2ZmXCIsYSwhMCk7QShcIlF1ZXJ5Lm9mZlwiLDIsYiwhMCk7ZWIoXCJRdWVyeS5vZmZcIiwzLGMpO3ZhciBkPW51bGwsZT1udWxsO1widmFsdWVcIj09PWE/ZD1uZXcgVGYoYnx8bnVsbCxudWxsLGN8fG51bGwpOmEmJihiJiYoZT17fSxlW2FdPWIpLGQ9bmV3IFVmKGUsbnVsbCxjfHxudWxsKSk7ZT10aGlzLnU7ZD1cIi5pbmZvXCI9PT1KKHRoaXMucGF0aCk/ZS5wZC5rYih0aGlzLGQpOmUuSy5rYih0aGlzLGQpO1FiKGUuY2EsdGhpcy5wYXRoLGQpfTtcbmcuJGY9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGspe2YmJihmPSExLGUuSWMoYSxjKSxiJiZiLmNhbGwoZC5NYSxrKSxoLnJlc29sdmUoaykpfXgoXCJRdWVyeS5vbmNlXCIsMSw0LGFyZ3VtZW50cy5sZW5ndGgpO2pmKFwiUXVlcnkub25jZVwiLGEsITEpO0EoXCJRdWVyeS5vbmNlXCIsMixiLCEwKTt2YXIgZD1ZZihcIlF1ZXJ5Lm9uY2VcIixhcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdKSxlPXRoaXMsZj0hMCxoPW5ldyBoYjtqYihoLnJhKTt0aGlzLmdjKGEsYyxmdW5jdGlvbihiKXtlLkljKGEsYyk7ZC5jYW5jZWwmJmQuY2FuY2VsLmNhbGwoZC5NYSxiKTtoLnJlamVjdChiKX0pO3JldHVybiBoLnJhfTtcbmcubGU9ZnVuY3Rpb24oYSl7eChcIlF1ZXJ5LmxpbWl0VG9GaXJzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZ2EoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5tLnhhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdCwgbGltaXRUb0ZpcnN0LCBvciBsaW1pdFRvTGFzdCkuXCIpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLHRoaXMubS5sZShhKSx0aGlzLk5jKX07XG5nLm1lPWZ1bmN0aW9uKGEpe3goXCJRdWVyeS5saW1pdFRvTGFzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZ2EoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLm0ueGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdFRvTGFzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCx0aGlzLm0ubWUoYSksdGhpcy5OYyl9O1xuZy5hZz1mdW5jdGlvbihhKXt4KFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKFwiJGtleVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRrZXlcIiBpcyBpbnZhbGlkLiAgVXNlIFF1ZXJ5Lm9yZGVyQnlLZXkoKSBpbnN0ZWFkLicpO2lmKFwiJHByaW9yaXR5XCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHByaW9yaXR5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5UHJpb3JpdHkoKSBpbnN0ZWFkLicpO2lmKFwiJHZhbHVlXCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHZhbHVlXCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLicpO2xmKFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsYSk7WGYodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiKTt2YXIgYj1uZXcgTChhKTtpZihiLmUoKSl0aHJvdyBFcnJvcihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZDogY2Fubm90IHBhc3MgaW4gZW1wdHkgcGF0aC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLlwiKTtcbmI9bmV3IFlkKGIpO2I9aGUodGhpcy5tLGIpO1ZmKGIpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGIsITApfTtnLmJnPWZ1bmN0aW9uKCl7eChcIlF1ZXJ5Lm9yZGVyQnlLZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7WGYodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlLZXlcIik7dmFyIGE9aGUodGhpcy5tLEZkKTtWZihhKTtyZXR1cm4gbmV3IFgodGhpcy51LHRoaXMucGF0aCxhLCEwKX07Zy5jZz1mdW5jdGlvbigpe3goXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7WGYodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlQcmlvcml0eVwiKTt2YXIgYT1oZSh0aGlzLm0sTik7VmYoYSk7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsYSwhMCl9O1xuZy5kZz1mdW5jdGlvbigpe3goXCJRdWVyeS5vcmRlckJ5VmFsdWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7WGYodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlWYWx1ZVwiKTt2YXIgYT1oZSh0aGlzLm0sZGUpO1ZmKGEpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGEsITApfTtnLk5kPWZ1bmN0aW9uKGEsYil7eChcIlF1ZXJ5LnN0YXJ0QXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7ZGYoXCJRdWVyeS5zdGFydEF0XCIsYSx0aGlzLnBhdGgsITApO2tmKFwiUXVlcnkuc3RhcnRBdFwiLGIpO3ZhciBjPXRoaXMubS5OZChhLGIpO1dmKGMpO1ZmKGMpO2lmKHRoaXMubS5rYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LnN0YXJ0QXQ6IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQgb3IgZXF1YWxUbykuXCIpO24oYSl8fChiPWE9bnVsbCk7cmV0dXJuIG5ldyBYKHRoaXMudSx0aGlzLnBhdGgsYyx0aGlzLk5jKX07XG5nLmdkPWZ1bmN0aW9uKGEsYil7eChcIlF1ZXJ5LmVuZEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO2RmKFwiUXVlcnkuZW5kQXRcIixhLHRoaXMucGF0aCwhMCk7a2YoXCJRdWVyeS5lbmRBdFwiLGIpO3ZhciBjPXRoaXMubS5nZChhLGIpO1dmKGMpO1ZmKGMpO2lmKHRoaXMubS5uYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVuZEF0OiBFbmRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO3JldHVybiBuZXcgWCh0aGlzLnUsdGhpcy5wYXRoLGMsdGhpcy5OYyl9O1xuZy5JZj1mdW5jdGlvbihhLGIpe3goXCJRdWVyeS5lcXVhbFRvXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO2RmKFwiUXVlcnkuZXF1YWxUb1wiLGEsdGhpcy5wYXRoLCExKTtrZihcIlF1ZXJ5LmVxdWFsVG9cIixiKTtpZih0aGlzLm0ua2EpdGhyb3cgRXJyb3IoXCJRdWVyeS5lcXVhbFRvOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7aWYodGhpcy5tLm5hKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gdGhpcy5OZChhLGIpLmdkKGEsYil9O1xuZy50b1N0cmluZz1mdW5jdGlvbigpe3goXCJRdWVyeS50b1N0cmluZ1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcy5wYXRoLGI9XCJcIixjPWEuWTtjPGEuby5sZW5ndGg7YysrKVwiXCIhPT1hLm9bY10mJihiKz1cIi9cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGEub1tjXSkpKTtyZXR1cm4gdGhpcy51LnRvU3RyaW5nKCkrKGJ8fFwiL1wiKX07Zy5qYT1mdW5jdGlvbigpe3ZhciBhPUdjKGllKHRoaXMubSkpO3JldHVyblwie31cIj09PWE/XCJkZWZhdWx0XCI6YX07XG5nLmlzRXF1YWw9ZnVuY3Rpb24oYSl7eChcIlF1ZXJ5LmlzRXF1YWxcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIShhIGluc3RhbmNlb2YgWCkpdGhyb3cgRXJyb3IoXCJRdWVyeS5pc0VxdWFsIGZhaWxlZDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBmaXJlYmFzZS5kYXRhYmFzZS5RdWVyeS5cIik7dmFyIGI9dGhpcy51PT09YS51LGM9dGhpcy5wYXRoLlooYS5wYXRoKSxkPXRoaXMuamEoKT09PWEuamEoKTtyZXR1cm4gYiYmYyYmZH07XG5mdW5jdGlvbiBZZihhLGIsYyl7dmFyIGQ9e2NhbmNlbDpudWxsLE1hOm51bGx9O2lmKGImJmMpZC5jYW5jZWw9YixBKGEsMyxkLmNhbmNlbCwhMCksZC5NYT1jLGViKGEsNCxkLk1hKTtlbHNlIGlmKGIpaWYoXCJvYmplY3RcIj09PXR5cGVvZiBiJiZudWxsIT09YilkLk1hPWI7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilkLmNhbmNlbD1iO2Vsc2UgdGhyb3cgRXJyb3IoeShhLDMsITApK1wiIG11c3QgZWl0aGVyIGJlIGEgY2FuY2VsIGNhbGxiYWNrIG9yIGEgY29udGV4dCBvYmplY3QuXCIpO3JldHVybiBkfVgucHJvdG90eXBlLm9uPVgucHJvdG90eXBlLmdjO1gucHJvdG90eXBlLm9mZj1YLnByb3RvdHlwZS5JYztYLnByb3RvdHlwZS5vbmNlPVgucHJvdG90eXBlLiRmO1gucHJvdG90eXBlLmxpbWl0VG9GaXJzdD1YLnByb3RvdHlwZS5sZTtYLnByb3RvdHlwZS5saW1pdFRvTGFzdD1YLnByb3RvdHlwZS5tZTtYLnByb3RvdHlwZS5vcmRlckJ5Q2hpbGQ9WC5wcm90b3R5cGUuYWc7XG5YLnByb3RvdHlwZS5vcmRlckJ5S2V5PVgucHJvdG90eXBlLmJnO1gucHJvdG90eXBlLm9yZGVyQnlQcmlvcml0eT1YLnByb3RvdHlwZS5jZztYLnByb3RvdHlwZS5vcmRlckJ5VmFsdWU9WC5wcm90b3R5cGUuZGc7WC5wcm90b3R5cGUuc3RhcnRBdD1YLnByb3RvdHlwZS5OZDtYLnByb3RvdHlwZS5lbmRBdD1YLnByb3RvdHlwZS5nZDtYLnByb3RvdHlwZS5lcXVhbFRvPVgucHJvdG90eXBlLklmO1gucHJvdG90eXBlLnRvU3RyaW5nPVgucHJvdG90eXBlLnRvU3RyaW5nO1gucHJvdG90eXBlLmlzRXF1YWw9WC5wcm90b3R5cGUuaXNFcXVhbDtMYyhYLnByb3RvdHlwZSxcInJlZlwiLFgucHJvdG90eXBlLndiKTtmdW5jdGlvbiAkZihhLGIpe3RoaXMudmFsdWU9YTt0aGlzLmNoaWxkcmVuPWJ8fGFnfXZhciBhZz1uZXcgdmYoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWI/MDphPGI/LTE6MX0pO2Z1bmN0aW9uIGJnKGEpe3ZhciBiPVE7cihhLGZ1bmN0aW9uKGEsZCl7Yj1iLnNldChuZXcgTChkKSxhKX0pO3JldHVybiBifWc9JGYucHJvdG90eXBlO2cuZT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy52YWx1ZSYmdGhpcy5jaGlsZHJlbi5lKCl9O2Z1bmN0aW9uIGNnKGEsYixjKXtpZihudWxsIT1hLnZhbHVlJiZjKGEudmFsdWUpKXJldHVybntwYXRoOkMsdmFsdWU6YS52YWx1ZX07aWYoYi5lKCkpcmV0dXJuIG51bGw7dmFyIGQ9SihiKTthPWEuY2hpbGRyZW4uZ2V0KGQpO3JldHVybiBudWxsIT09YT8oYj1jZyhhLEQoYiksYyksbnVsbCE9Yj97cGF0aDoobmV3IEwoZCkpLm4oYi5wYXRoKSx2YWx1ZTpiLnZhbHVlfTpudWxsKTpudWxsfVxuZnVuY3Rpb24gZGcoYSxiKXtyZXR1cm4gY2coYSxiLGZ1bmN0aW9uKCl7cmV0dXJuITB9KX1nLnN1YnRyZWU9ZnVuY3Rpb24oYSl7aWYoYS5lKCkpcmV0dXJuIHRoaXM7dmFyIGI9dGhpcy5jaGlsZHJlbi5nZXQoSihhKSk7cmV0dXJuIG51bGwhPT1iP2Iuc3VidHJlZShEKGEpKTpRfTtnLnNldD1mdW5jdGlvbihhLGIpe2lmKGEuZSgpKXJldHVybiBuZXcgJGYoYix0aGlzLmNoaWxkcmVuKTt2YXIgYz1KKGEpLGQ9KHRoaXMuY2hpbGRyZW4uZ2V0KGMpfHxRKS5zZXQoRChhKSxiKSxjPXRoaXMuY2hpbGRyZW4uT2EoYyxkKTtyZXR1cm4gbmV3ICRmKHRoaXMudmFsdWUsYyl9O1xuZy5yZW1vdmU9ZnVuY3Rpb24oYSl7aWYoYS5lKCkpcmV0dXJuIHRoaXMuY2hpbGRyZW4uZSgpP1E6bmV3ICRmKG51bGwsdGhpcy5jaGlsZHJlbik7dmFyIGI9SihhKSxjPXRoaXMuY2hpbGRyZW4uZ2V0KGIpO3JldHVybiBjPyhhPWMucmVtb3ZlKEQoYSkpLGI9YS5lKCk/dGhpcy5jaGlsZHJlbi5yZW1vdmUoYik6dGhpcy5jaGlsZHJlbi5PYShiLGEpLG51bGw9PT10aGlzLnZhbHVlJiZiLmUoKT9ROm5ldyAkZih0aGlzLnZhbHVlLGIpKTp0aGlzfTtnLmdldD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpcy52YWx1ZTt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChKKGEpKTtyZXR1cm4gYj9iLmdldChEKGEpKTpudWxsfTtcbmZ1bmN0aW9uIEVkKGEsYixjKXtpZihiLmUoKSlyZXR1cm4gYzt2YXIgZD1KKGIpO2I9RWQoYS5jaGlsZHJlbi5nZXQoZCl8fFEsRChiKSxjKTtkPWIuZSgpP2EuY2hpbGRyZW4ucmVtb3ZlKGQpOmEuY2hpbGRyZW4uT2EoZCxiKTtyZXR1cm4gbmV3ICRmKGEudmFsdWUsZCl9ZnVuY3Rpb24gZWcoYSxiKXtyZXR1cm4gZmcoYSxDLGIpfWZ1bmN0aW9uIGZnKGEsYixjKXt2YXIgZD17fTthLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKGEsZil7ZFthXT1mZyhmLGIubihhKSxjKX0pO3JldHVybiBjKGIsYS52YWx1ZSxkKX1mdW5jdGlvbiBnZyhhLGIsYyl7cmV0dXJuIGhnKGEsYixDLGMpfWZ1bmN0aW9uIGhnKGEsYixjLGQpe3ZhciBlPWEudmFsdWU/ZChjLGEudmFsdWUpOiExO2lmKGUpcmV0dXJuIGU7aWYoYi5lKCkpcmV0dXJuIG51bGw7ZT1KKGIpO3JldHVybihhPWEuY2hpbGRyZW4uZ2V0KGUpKT9oZyhhLEQoYiksYy5uKGUpLGQpOm51bGx9XG5mdW5jdGlvbiBpZyhhLGIsYyl7amcoYSxiLEMsYyl9ZnVuY3Rpb24gamcoYSxiLGMsZCl7aWYoYi5lKCkpcmV0dXJuIGE7YS52YWx1ZSYmZChjLGEudmFsdWUpO3ZhciBlPUooYik7cmV0dXJuKGE9YS5jaGlsZHJlbi5nZXQoZSkpP2pnKGEsRChiKSxjLm4oZSksZCk6UX1mdW5jdGlvbiBDZChhLGIpe2tnKGEsQyxiKX1mdW5jdGlvbiBrZyhhLGIsYyl7YS5jaGlsZHJlbi5oYShmdW5jdGlvbihhLGUpe2tnKGUsYi5uKGEpLGMpfSk7YS52YWx1ZSYmYyhiLGEudmFsdWUpfWZ1bmN0aW9uIGxnKGEsYil7YS5jaGlsZHJlbi5oYShmdW5jdGlvbihhLGQpe2QudmFsdWUmJmIoYSxkLnZhbHVlKX0pfXZhciBRPW5ldyAkZihudWxsKTskZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT17fTtDZCh0aGlzLGZ1bmN0aW9uKGIsYyl7YVtiLnRvU3RyaW5nKCldPWMudG9TdHJpbmcoKX0pO3JldHVybiBCKGEpfTtmdW5jdGlvbiBtZyhhLGIsYyl7dGhpcy50eXBlPXVkO3RoaXMuc291cmNlPW5nO3RoaXMucGF0aD1hO3RoaXMuT2I9Yjt0aGlzLklkPWN9bWcucHJvdG90eXBlLk1jPWZ1bmN0aW9uKGEpe2lmKHRoaXMucGF0aC5lKCkpe2lmKG51bGwhPXRoaXMuT2IudmFsdWUpcmV0dXJuIEgodGhpcy5PYi5jaGlsZHJlbi5lKCksXCJhZmZlY3RlZFRyZWUgc2hvdWxkIG5vdCBoYXZlIG92ZXJsYXBwaW5nIGFmZmVjdGVkIHBhdGhzLlwiKSx0aGlzO2E9dGhpcy5PYi5zdWJ0cmVlKG5ldyBMKGEpKTtyZXR1cm4gbmV3IG1nKEMsYSx0aGlzLklkKX1IKEoodGhpcy5wYXRoKT09PWEsXCJvcGVyYXRpb25Gb3JDaGlsZCBjYWxsZWQgZm9yIHVucmVsYXRlZCBjaGlsZC5cIik7cmV0dXJuIG5ldyBtZyhEKHRoaXMucGF0aCksdGhpcy5PYix0aGlzLklkKX07XG5tZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgYWNrIHdyaXRlIHJldmVydD1cIit0aGlzLklkK1wiIGFmZmVjdGVkVHJlZT1cIit0aGlzLk9iK1wiKVwifTt2YXIgQmI9MCxXYz0xLHVkPTIsRGI9MztmdW5jdGlvbiBvZyhhLGIsYyxkKXt0aGlzLmNlPWE7dGhpcy5TZT1iO3RoaXMuSGI9Yzt0aGlzLkNlPWQ7SCghZHx8YixcIlRhZ2dlZCBxdWVyaWVzIG11c3QgYmUgZnJvbSBzZXJ2ZXIuXCIpfXZhciBuZz1uZXcgb2coITAsITEsbnVsbCwhMSkscGc9bmV3IG9nKCExLCEwLG51bGwsITEpO29nLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlP1widXNlclwiOnRoaXMuQ2U/XCJzZXJ2ZXIocXVlcnlJRD1cIit0aGlzLkhiK1wiKVwiOlwic2VydmVyXCJ9O2Z1bmN0aW9uIHFnKGEpe3RoaXMuVz1hfXZhciByZz1uZXcgcWcobmV3ICRmKG51bGwpKTtmdW5jdGlvbiBzZyhhLGIsYyl7aWYoYi5lKCkpcmV0dXJuIG5ldyBxZyhuZXcgJGYoYykpO3ZhciBkPWRnKGEuVyxiKTtpZihudWxsIT1kKXt2YXIgZT1kLnBhdGgsZD1kLnZhbHVlO2I9VChlLGIpO2Q9ZC5GKGIsYyk7cmV0dXJuIG5ldyBxZyhhLlcuc2V0KGUsZCkpfWE9RWQoYS5XLGIsbmV3ICRmKGMpKTtyZXR1cm4gbmV3IHFnKGEpfWZ1bmN0aW9uIHRnKGEsYixjKXt2YXIgZD1hO2RiKGMsZnVuY3Rpb24oYSxjKXtkPXNnKGQsYi5uKGEpLGMpfSk7cmV0dXJuIGR9cWcucHJvdG90eXBlLkVkPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiByZzthPUVkKHRoaXMuVyxhLFEpO3JldHVybiBuZXcgcWcoYSl9O2Z1bmN0aW9uIHVnKGEsYil7dmFyIGM9ZGcoYS5XLGIpO3JldHVybiBudWxsIT1jP2EuVy5nZXQoYy5wYXRoKS5QKFQoYy5wYXRoLGIpKTpudWxsfVxuZnVuY3Rpb24gdmcoYSl7dmFyIGI9W10sYz1hLlcudmFsdWU7bnVsbCE9Yz9jLkooKXx8Yy5PKE4sZnVuY3Rpb24oYSxjKXtiLnB1c2gobmV3IEsoYSxjKSl9KTphLlcuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYSxjKXtudWxsIT1jLnZhbHVlJiZiLnB1c2gobmV3IEsoYSxjLnZhbHVlKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiB3ZyhhLGIpe2lmKGIuZSgpKXJldHVybiBhO3ZhciBjPXVnKGEsYik7cmV0dXJuIG51bGwhPWM/bmV3IHFnKG5ldyAkZihjKSk6bmV3IHFnKGEuVy5zdWJ0cmVlKGIpKX1xZy5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlcuZSgpfTtxZy5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHhnKEMsdGhpcy5XLGEpfTtcbmZ1bmN0aW9uIHhnKGEsYixjKXtpZihudWxsIT1iLnZhbHVlKXJldHVybiBjLkYoYSxiLnZhbHVlKTt2YXIgZD1udWxsO2IuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYixmKXtcIi5wcmlvcml0eVwiPT09Yj8oSChudWxsIT09Zi52YWx1ZSxcIlByaW9yaXR5IHdyaXRlcyBtdXN0IGFsd2F5cyBiZSBsZWFmIG5vZGVzXCIpLGQ9Zi52YWx1ZSk6Yz14ZyhhLm4oYiksZixjKX0pO2MuUChhKS5lKCl8fG51bGw9PT1kfHwoYz1jLkYoYS5uKFwiLnByaW9yaXR5XCIpLGQpKTtyZXR1cm4gY307ZnVuY3Rpb24geWcoKXt0aGlzLnphPXt9fWc9eWcucHJvdG90eXBlO2cuZT1mdW5jdGlvbigpe3JldHVybiB5YSh0aGlzLnphKX07Zy5lYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5zb3VyY2UuSGI7aWYobnVsbCE9PWQpcmV0dXJuIGQ9dyh0aGlzLnphLGQpLEgobnVsbCE9ZCxcIlN5bmNUcmVlIGdhdmUgdXMgYW4gb3AgZm9yIGFuIGludmFsaWQgcXVlcnkuXCIpLGQuZWIoYSxiLGMpO3ZhciBlPVtdO3IodGhpcy56YSxmdW5jdGlvbihkKXtlPWUuY29uY2F0KGQuZWIoYSxiLGMpKX0pO3JldHVybiBlfTtnLk5iPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5qYSgpLGg9dyh0aGlzLnphLGYpO2lmKCFoKXt2YXIgaD1jLkFhKGU/ZDpudWxsKSxrPSExO2g/az0hMDooaD1kIGluc3RhbmNlb2YgUD9jLnJjKGQpOkcsaz0hMSk7aD1uZXcgUGYoYSxuZXcgeWQobmV3ICRiKGgsaywhMSksbmV3ICRiKGQsZSwhMSkpKTt0aGlzLnphW2ZdPWh9aC5OYihiKTtyZXR1cm4gU2YoaCxiKX07XG5nLmtiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmphKCksZT1bXSxmPVtdLGg9bnVsbCE9emcodGhpcyk7aWYoXCJkZWZhdWx0XCI9PT1kKXt2YXIgaz10aGlzO3IodGhpcy56YSxmdW5jdGlvbihhLGQpe2Y9Zi5jb25jYXQoYS5rYihiLGMpKTthLmUoKSYmKGRlbGV0ZSBrLnphW2RdLFMoYS5WLm0pfHxlLnB1c2goYS5WKSl9KX1lbHNle3ZhciBsPXcodGhpcy56YSxkKTtsJiYoZj1mLmNvbmNhdChsLmtiKGIsYykpLGwuZSgpJiYoZGVsZXRlIHRoaXMuemFbZF0sUyhsLlYubSl8fGUucHVzaChsLlYpKSl9aCYmbnVsbD09emcodGhpcykmJmUucHVzaChuZXcgVShhLnUsYS5wYXRoKSk7cmV0dXJue2hnOmUsS2Y6Zn19O2Z1bmN0aW9uIEFnKGEpe3JldHVybiBLYSh0YShhLnphKSxmdW5jdGlvbihhKXtyZXR1cm4hUyhhLlYubSl9KX1nLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7cih0aGlzLnphLGZ1bmN0aW9uKGMpe2I9Ynx8Yy5oYihhKX0pO3JldHVybiBifTtcbmZ1bmN0aW9uIEJnKGEsYil7aWYoUyhiLm0pKXJldHVybiB6ZyhhKTt2YXIgYz1iLmphKCk7cmV0dXJuIHcoYS56YSxjKX1mdW5jdGlvbiB6ZyhhKXtyZXR1cm4geGEoYS56YSxmdW5jdGlvbihhKXtyZXR1cm4gUyhhLlYubSl9KXx8bnVsbH07ZnVuY3Rpb24gQ2coKXt0aGlzLlM9cmc7dGhpcy5sYT1bXTt0aGlzLkJjPS0xfWZ1bmN0aW9uIERnKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxhLmxlbmd0aDtjKyspe3ZhciBkPWEubGFbY107aWYoZC5aYz09PWIpcmV0dXJuIGR9cmV0dXJuIG51bGx9Zz1DZy5wcm90b3R5cGU7XG5nLkVkPWZ1bmN0aW9uKGEpe3ZhciBiPVBhKHRoaXMubGEsZnVuY3Rpb24oYil7cmV0dXJuIGIuWmM9PT1hfSk7SCgwPD1iLFwicmVtb3ZlV3JpdGUgY2FsbGVkIHdpdGggbm9uZXhpc3RlbnQgd3JpdGVJZC5cIik7dmFyIGM9dGhpcy5sYVtiXTt0aGlzLmxhLnNwbGljZShiLDEpO2Zvcih2YXIgZD1jLnZpc2libGUsZT0hMSxmPXRoaXMubGEubGVuZ3RoLTE7ZCYmMDw9Zjspe3ZhciBoPXRoaXMubGFbZl07aC52aXNpYmxlJiYoZj49YiYmRWcoaCxjLnBhdGgpP2Q9ITE6Yy5wYXRoLmNvbnRhaW5zKGgucGF0aCkmJihlPSEwKSk7Zi0tfWlmKGQpe2lmKGUpdGhpcy5TPUZnKHRoaXMubGEsR2csQyksdGhpcy5CYz0wPHRoaXMubGEubGVuZ3RoP3RoaXMubGFbdGhpcy5sYS5sZW5ndGgtMV0uWmM6LTE7ZWxzZSBpZihjLkdhKXRoaXMuUz10aGlzLlMuRWQoYy5wYXRoKTtlbHNle3ZhciBrPXRoaXM7cihjLmNoaWxkcmVuLGZ1bmN0aW9uKGEsYil7ay5TPWsuUy5FZChjLnBhdGgubihiKSl9KX1yZXR1cm4hMH1yZXR1cm4hMX07XG5nLkFhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGN8fGQpe3ZhciBlPXdnKHRoaXMuUyxhKTtyZXR1cm4hZCYmZS5lKCk/YjpkfHxudWxsIT1ifHxudWxsIT11ZyhlLEMpPyhlPUZnKHRoaXMubGEsZnVuY3Rpb24oYil7cmV0dXJuKGIudmlzaWJsZXx8ZCkmJighY3x8ISgwPD1JYShjLGIuWmMpKSkmJihiLnBhdGguY29udGFpbnMoYSl8fGEuY29udGFpbnMoYi5wYXRoKSl9LGEpLGI9Ynx8RyxlLmFwcGx5KGIpKTpudWxsfWU9dWcodGhpcy5TLGEpO2lmKG51bGwhPWUpcmV0dXJuIGU7ZT13Zyh0aGlzLlMsYSk7cmV0dXJuIGUuZSgpP2I6bnVsbCE9Ynx8bnVsbCE9dWcoZSxDKT8oYj1ifHxHLGUuYXBwbHkoYikpOm51bGx9O1xuZy5yYz1mdW5jdGlvbihhLGIpe3ZhciBjPUcsZD11Zyh0aGlzLlMsYSk7aWYoZClkLkooKXx8ZC5PKE4sZnVuY3Rpb24oYSxiKXtjPWMuVChhLGIpfSk7ZWxzZSBpZihiKXt2YXIgZT13Zyh0aGlzLlMsYSk7Yi5PKE4sZnVuY3Rpb24oYSxiKXt2YXIgZD13ZyhlLG5ldyBMKGEpKS5hcHBseShiKTtjPWMuVChhLGQpfSk7SmEodmcoZSksZnVuY3Rpb24oYSl7Yz1jLlQoYS5uYW1lLGEuUil9KX1lbHNlIGU9d2codGhpcy5TLGEpLEphKHZnKGUpLGZ1bmN0aW9uKGEpe2M9Yy5UKGEubmFtZSxhLlIpfSk7cmV0dXJuIGN9O2cuYWQ9ZnVuY3Rpb24oYSxiLGMsZCl7SChjfHxkLFwiRWl0aGVyIGV4aXN0aW5nRXZlbnRTbmFwIG9yIGV4aXN0aW5nU2VydmVyU25hcCBtdXN0IGV4aXN0XCIpO2E9YS5uKGIpO2lmKG51bGwhPXVnKHRoaXMuUyxhKSlyZXR1cm4gbnVsbDthPXdnKHRoaXMuUyxhKTtyZXR1cm4gYS5lKCk/ZC5QKGIpOmEuYXBwbHkoZC5QKGIpKX07XG5nLnFjPWZ1bmN0aW9uKGEsYixjKXthPWEubihiKTt2YXIgZD11Zyh0aGlzLlMsYSk7cmV0dXJuIG51bGwhPWQ/ZDpaYihjLGIpP3dnKHRoaXMuUyxhKS5hcHBseShjLmooKS5RKGIpKTpudWxsfTtnLmxjPWZ1bmN0aW9uKGEpe3JldHVybiB1Zyh0aGlzLlMsYSl9O2cuV2Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBoO2E9d2codGhpcy5TLGEpO2g9dWcoYSxDKTtpZihudWxsPT1oKWlmKG51bGwhPWIpaD1hLmFwcGx5KGIpO2Vsc2UgcmV0dXJuW107aD1oLm5iKGYpO2lmKGguZSgpfHxoLkooKSlyZXR1cm5bXTtiPVtdO2E9UGQoZik7ZT1lP2guWmIoYyxmKTpoLlhiKGMsZik7Zm9yKGY9UihlKTtmJiZiLmxlbmd0aDxkOykwIT09YShmLGMpJiZiLnB1c2goZiksZj1SKGUpO3JldHVybiBifTtcbmZ1bmN0aW9uIEVnKGEsYil7cmV0dXJuIGEuR2E/YS5wYXRoLmNvbnRhaW5zKGIpOiEhd2EoYS5jaGlsZHJlbixmdW5jdGlvbihjLGQpe3JldHVybiBhLnBhdGgubihkKS5jb250YWlucyhiKX0pfWZ1bmN0aW9uIEdnKGEpe3JldHVybiBhLnZpc2libGV9XG5mdW5jdGlvbiBGZyhhLGIsYyl7Zm9yKHZhciBkPXJnLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZihiKGYpKXt2YXIgaD1mLnBhdGg7aWYoZi5HYSljLmNvbnRhaW5zKGgpPyhoPVQoYyxoKSxkPXNnKGQsaCxmLkdhKSk6aC5jb250YWlucyhjKSYmKGg9VChoLGMpLGQ9c2coZCxDLGYuR2EuUChoKSkpO2Vsc2UgaWYoZi5jaGlsZHJlbilpZihjLmNvbnRhaW5zKGgpKWg9VChjLGgpLGQ9dGcoZCxoLGYuY2hpbGRyZW4pO2Vsc2V7aWYoaC5jb250YWlucyhjKSlpZihoPVQoaCxjKSxoLmUoKSlkPXRnKGQsQyxmLmNoaWxkcmVuKTtlbHNlIGlmKGY9dyhmLmNoaWxkcmVuLEooaCkpKWY9Zi5QKEQoaCkpLGQ9c2coZCxDLGYpfWVsc2UgdGhyb3cgc2MoXCJXcml0ZVJlY29yZCBzaG91bGQgaGF2ZSAuc25hcCBvciAuY2hpbGRyZW5cIik7fX1yZXR1cm4gZH1mdW5jdGlvbiBIZyhhLGIpe3RoaXMuTGI9YTt0aGlzLlc9Yn1nPUhnLnByb3RvdHlwZTtcbmcuQWE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLlcuQWEodGhpcy5MYixhLGIsYyl9O2cucmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuVy5yYyh0aGlzLkxiLGEpfTtnLmFkPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5XLmFkKHRoaXMuTGIsYSxiLGMpfTtnLmxjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlcubGModGhpcy5MYi5uKGEpKX07Zy5XZD1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiB0aGlzLlcuV2QodGhpcy5MYixhLGIsYyxkLGUpfTtnLnFjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuVy5xYyh0aGlzLkxiLGEsYil9O2cubj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEhnKHRoaXMuTGIubihhKSx0aGlzLlcpfTtmdW5jdGlvbiBJZygpe3RoaXMuY2hpbGRyZW49e307dGhpcy5iZD0wO3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBKZyhhLGIsYyl7dGhpcy51ZD1hP2E6XCJcIjt0aGlzLlBjPWI/YjpudWxsO3RoaXMuQT1jP2M6bmV3IElnfWZ1bmN0aW9uIEtnKGEsYil7Zm9yKHZhciBjPWIgaW5zdGFuY2VvZiBMP2I6bmV3IEwoYiksZD1hLGU7bnVsbCE9PShlPUooYykpOylkPW5ldyBKZyhlLGQsdyhkLkEuY2hpbGRyZW4sZSl8fG5ldyBJZyksYz1EKGMpO3JldHVybiBkfWc9SmcucHJvdG90eXBlO2cuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BLnZhbHVlfTtmdW5jdGlvbiBMZyhhLGIpe0goXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiLFwiQ2Fubm90IHNldCB2YWx1ZSB0byB1bmRlZmluZWRcIik7YS5BLnZhbHVlPWI7TWcoYSl9Zy5jbGVhcj1mdW5jdGlvbigpe3RoaXMuQS52YWx1ZT1udWxsO3RoaXMuQS5jaGlsZHJlbj17fTt0aGlzLkEuYmQ9MDtNZyh0aGlzKX07XG5nLmtkPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5BLmJkfTtnLmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQ2EoKSYmIXRoaXMua2QoKX07Zy5PPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cih0aGlzLkEuY2hpbGRyZW4sZnVuY3Rpb24oYyxkKXthKG5ldyBKZyhkLGIsYykpfSl9O2Z1bmN0aW9uIE5nKGEsYixjLGQpe2MmJiFkJiZiKGEpO2EuTyhmdW5jdGlvbihhKXtOZyhhLGIsITAsZCl9KTtjJiZkJiZiKGEpfWZ1bmN0aW9uIE9nKGEsYil7Zm9yKHZhciBjPWEucGFyZW50KCk7bnVsbCE9PWMmJiFiKGMpOyljPWMucGFyZW50KCl9Zy5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKG51bGw9PT10aGlzLlBjP3RoaXMudWQ6dGhpcy5QYy5wYXRoKCkrXCIvXCIrdGhpcy51ZCl9O2cubmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVkfTtnLnBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBjfTtcbmZ1bmN0aW9uIE1nKGEpe2lmKG51bGwhPT1hLlBjKXt2YXIgYj1hLlBjLGM9YS51ZCxkPWEuZSgpLGU9Y2IoYi5BLmNoaWxkcmVuLGMpO2QmJmU/KGRlbGV0ZSBiLkEuY2hpbGRyZW5bY10sYi5BLmJkLS0sTWcoYikpOmR8fGV8fChiLkEuY2hpbGRyZW5bY109YS5BLGIuQS5iZCsrLE1nKGIpKX19O2Z1bmN0aW9uIFBnKGEsYixjLGQsZSxmKXt0aGlzLmlkPVFnKys7dGhpcy5mPXljKFwicDpcIit0aGlzLmlkK1wiOlwiKTt0aGlzLnFkPXt9O3RoaXMuJD17fTt0aGlzLnBhPVtdO3RoaXMuT2M9MDt0aGlzLktjPVtdO3RoaXMubWE9ITE7dGhpcy5TYT0xRTM7dGhpcy50ZD0zRTU7dGhpcy5HYj1iO3RoaXMuSmM9Yzt0aGlzLnNlPWQ7dGhpcy5MPWE7dGhpcy5vYj10aGlzLkZhPXRoaXMuQ2I9dGhpcy54ZT1udWxsO3RoaXMuJGM9ZTt0aGlzLmJlPSExO3RoaXMuaWU9MDtpZihmKXRocm93IEVycm9yKFwiQXV0aCBvdmVycmlkZSBzcGVjaWZpZWQgaW4gb3B0aW9ucywgYnV0IG5vdCBzdXBwb3J0ZWQgb24gbm9uIE5vZGUuanMgcGxhdGZvcm1zXCIpO3RoaXMuR2U9Znx8bnVsbDt0aGlzLnViPW51bGw7dGhpcy5NYj0hMTt0aGlzLkdkPXt9O3RoaXMuaWc9MDt0aGlzLlJlPSEwO3RoaXMuQWM9dGhpcy5rZT1udWxsO1JnKHRoaXMsMCk7dGYuVmIoKS5nYyhcInZpc2libGVcIix0aGlzLlpmLHRoaXMpOy0xPT09XG5hLmhvc3QuaW5kZXhPZihcImZibG9jYWxcIikmJnNmLlZiKCkuZ2MoXCJvbmxpbmVcIix0aGlzLllmLHRoaXMpfXZhciBRZz0wLFNnPTA7Zz1QZy5wcm90b3R5cGU7Zy51YT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Kyt0aGlzLmlnO2E9e3I6ZCxhOmEsYjpifTt0aGlzLmYoQihhKSk7SCh0aGlzLm1hLFwic2VuZFJlcXVlc3QgY2FsbCB3aGVuIHdlJ3JlIG5vdCBjb25uZWN0ZWQgbm90IGFsbG93ZWQuXCIpO3RoaXMuRmEudWEoYSk7YyYmKHRoaXMuR2RbZF09Yyl9O1xuZy4kZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLmphKCksZj1hLnBhdGgudG9TdHJpbmcoKTt0aGlzLmYoXCJMaXN0ZW4gY2FsbGVkIGZvciBcIitmK1wiIFwiK2UpO3RoaXMuJFtmXT10aGlzLiRbZl18fHt9O0goU2MoYS5tKXx8IVMoYS5tKSxcImxpc3RlbigpIGNhbGxlZCBmb3Igbm9uLWRlZmF1bHQgYnV0IGNvbXBsZXRlIHF1ZXJ5XCIpO0goIXRoaXMuJFtmXVtlXSxcImxpc3RlbigpIGNhbGxlZCB0d2ljZSBmb3Igc2FtZSBwYXRoL3F1ZXJ5SWQuXCIpO2E9e0c6ZCxsZDpiLGVnOmEsdGFnOmN9O3RoaXMuJFtmXVtlXT1hO3RoaXMubWEmJlRnKHRoaXMsYSl9O1xuZnVuY3Rpb24gVGcoYSxiKXt2YXIgYz1iLmVnLGQ9Yy5wYXRoLnRvU3RyaW5nKCksZT1jLmphKCk7YS5mKFwiTGlzdGVuIG9uIFwiK2QrXCIgZm9yIFwiK2UpO3ZhciBmPXtwOmR9O2IudGFnJiYoZi5xPWllKGMubSksZi50PWIudGFnKTtmLmg9Yi5sZCgpO2EudWEoXCJxXCIsZixmdW5jdGlvbihmKXt2YXIgaz1mLmQsbD1mLnM7aWYoayYmXCJvYmplY3RcIj09PXR5cGVvZiBrJiZjYihrLFwid1wiKSl7dmFyIG09dyhrLFwid1wiKTtlYShtKSYmMDw9SWEobSxcIm5vX2luZGV4XCIpJiZPKFwiVXNpbmcgYW4gdW5zcGVjaWZpZWQgaW5kZXguIENvbnNpZGVyIGFkZGluZyBcIisoJ1wiLmluZGV4T25cIjogXCInK2MubS5nLnRvU3RyaW5nKCkrJ1wiJykrXCIgYXQgXCIrYy5wYXRoLnRvU3RyaW5nKCkrXCIgdG8geW91ciBzZWN1cml0eSBydWxlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXCIpfShhLiRbZF0mJmEuJFtkXVtlXSk9PT1iJiYoYS5mKFwibGlzdGVuIHJlc3BvbnNlXCIsZiksXCJva1wiIT09bCYmVWcoYSxkLGUpLGIuRyYmYi5HKGwsXG5rKSl9KX1nLmtmPWZ1bmN0aW9uKGEpe3RoaXMub2I9YTt0aGlzLmYoXCJBdXRoIHRva2VuIHJlZnJlc2hlZFwiKTt0aGlzLm9iP1ZnKHRoaXMpOnRoaXMubWEmJnRoaXMudWEoXCJ1bmF1dGhcIix7fSxmdW5jdGlvbigpe30pO2lmKGEmJjQwPT09YS5sZW5ndGh8fFBjKGEpKXRoaXMuZihcIkFkbWluIGF1dGggY3JlZGVudGlhbCBkZXRlY3RlZC4gIFJlZHVjaW5nIG1heCByZWNvbm5lY3QgdGltZS5cIiksdGhpcy50ZD0zRTR9O2Z1bmN0aW9uIFZnKGEpe2lmKGEubWEmJmEub2Ipe3ZhciBiPWEub2IsYz1PYyhiKT9cImF1dGhcIjpcImdhdXRoXCIsZD17Y3JlZDpifTthLkdlJiYoZC5hdXRodmFyPWEuR2UpO2EudWEoYyxkLGZ1bmN0aW9uKGMpe3ZhciBkPWMucztjPWMuZHx8XCJlcnJvclwiO2Eub2I9PT1iJiYoXCJva1wiPT09ZD9hLmllPTA6V2coYSxkLGMpKX0pfX1cbmcudWY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBhdGgudG9TdHJpbmcoKSxkPWEuamEoKTt0aGlzLmYoXCJVbmxpc3RlbiBjYWxsZWQgZm9yIFwiK2MrXCIgXCIrZCk7SChTYyhhLm0pfHwhUyhhLm0pLFwidW5saXN0ZW4oKSBjYWxsZWQgZm9yIG5vbi1kZWZhdWx0IGJ1dCBjb21wbGV0ZSBxdWVyeVwiKTtpZihVZyh0aGlzLGMsZCkmJnRoaXMubWEpe3ZhciBlPWllKGEubSk7dGhpcy5mKFwiVW5saXN0ZW4gb24gXCIrYytcIiBmb3IgXCIrZCk7Yz17cDpjfTtiJiYoYy5xPWUsYy50PWIpO3RoaXMudWEoXCJuXCIsYyl9fTtnLnBlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm1hP1hnKHRoaXMsXCJvXCIsYSxiLGMpOnRoaXMuS2MucHVzaCh7dWU6YSxhY3Rpb246XCJvXCIsZGF0YTpiLEc6Y30pfTtnLmNmPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm1hP1hnKHRoaXMsXCJvbVwiLGEsYixjKTp0aGlzLktjLnB1c2goe3VlOmEsYWN0aW9uOlwib21cIixkYXRhOmIsRzpjfSl9O1xuZy54ZD1mdW5jdGlvbihhLGIpe3RoaXMubWE/WGcodGhpcyxcIm9jXCIsYSxudWxsLGIpOnRoaXMuS2MucHVzaCh7dWU6YSxhY3Rpb246XCJvY1wiLGRhdGE6bnVsbCxHOmJ9KX07ZnVuY3Rpb24gWGcoYSxiLGMsZCxlKXtjPXtwOmMsZDpkfTthLmYoXCJvbkRpc2Nvbm5lY3QgXCIrYixjKTthLnVhKGIsYyxmdW5jdGlvbihhKXtlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShhLnMsYS5kKX0sTWF0aC5mbG9vcigwKSl9KX1nLnB1dD1mdW5jdGlvbihhLGIsYyxkKXtZZyh0aGlzLFwicFwiLGEsYixjLGQpfTtnLmFmPWZ1bmN0aW9uKGEsYixjLGQpe1lnKHRoaXMsXCJtXCIsYSxiLGMsZCl9O2Z1bmN0aW9uIFlnKGEsYixjLGQsZSxmKXtkPXtwOmMsZDpkfTtuKGYpJiYoZC5oPWYpO2EucGEucHVzaCh7YWN0aW9uOmIsbWY6ZCxHOmV9KTthLk9jKys7Yj1hLnBhLmxlbmd0aC0xO2EubWE/WmcoYSxiKTphLmYoXCJCdWZmZXJpbmcgcHV0OiBcIitjKX1cbmZ1bmN0aW9uIFpnKGEsYil7dmFyIGM9YS5wYVtiXS5hY3Rpb24sZD1hLnBhW2JdLm1mLGU9YS5wYVtiXS5HO2EucGFbYl0uZmc9YS5tYTthLnVhKGMsZCxmdW5jdGlvbihkKXthLmYoYytcIiByZXNwb25zZVwiLGQpO2RlbGV0ZSBhLnBhW2JdO2EuT2MtLTswPT09YS5PYyYmKGEucGE9W10pO2UmJmUoZC5zLGQuZCl9KX1nLndlPWZ1bmN0aW9uKGEpe3RoaXMubWEmJihhPXtjOmF9LHRoaXMuZihcInJlcG9ydFN0YXRzXCIsYSksdGhpcy51YShcInNcIixhLGZ1bmN0aW9uKGEpe1wib2tcIiE9PWEucyYmdGhpcy5mKFwicmVwb3J0U3RhdHNcIixcIkVycm9yIHNlbmRpbmcgc3RhdHM6IFwiK2EuZCl9KSl9O1xuZy53ZD1mdW5jdGlvbihhKXtpZihcInJcImluIGEpe3RoaXMuZihcImZyb20gc2VydmVyOiBcIitCKGEpKTt2YXIgYj1hLnIsYz10aGlzLkdkW2JdO2MmJihkZWxldGUgdGhpcy5HZFtiXSxjKGEuYikpfWVsc2V7aWYoXCJlcnJvclwiaW4gYSl0aHJvd1wiQSBzZXJ2ZXItc2lkZSBlcnJvciBoYXMgb2NjdXJyZWQ6IFwiK2EuZXJyb3I7XCJhXCJpbiBhJiYoYj1hLmEsYT1hLmIsdGhpcy5mKFwiaGFuZGxlU2VydmVyTWVzc2FnZVwiLGIsYSksXCJkXCI9PT1iP3RoaXMuR2IoYS5wLGEuZCwhMSxhLnQpOlwibVwiPT09Yj90aGlzLkdiKGEucCxhLmQsITAsYS50KTpcImNcIj09PWI/JGcodGhpcyxhLnAsYS5xKTpcImFjXCI9PT1iP1dnKHRoaXMsYS5zLGEuZCk6XCJzZFwiPT09Yj90aGlzLnhlP3RoaXMueGUoYSk6XCJtc2dcImluIGEmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2coXCJGSVJFQkFTRTogXCIrYS5tc2cucmVwbGFjZShcIlxcblwiLFwiXFxuRklSRUJBU0U6IFwiKSk6emMoXCJVbnJlY29nbml6ZWQgYWN0aW9uIHJlY2VpdmVkIGZyb20gc2VydmVyOiBcIitcbkIoYikrXCJcXG5BcmUgeW91IHVzaW5nIHRoZSBsYXRlc3QgY2xpZW50P1wiKSl9fTtnLkxjPWZ1bmN0aW9uKGEsYil7dGhpcy5mKFwiY29ubmVjdGlvbiByZWFkeVwiKTt0aGlzLm1hPSEwO3RoaXMuQWM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5zZSh7c2VydmVyVGltZU9mZnNldDphLShuZXcgRGF0ZSkuZ2V0VGltZSgpfSk7dGhpcy5DYj1iO2lmKHRoaXMuUmUpe3ZhciBjPXt9O2NbXCJzZGsuanMuXCIrZmlyZWJhc2UuU0RLX1ZFUlNJT04ucmVwbGFjZSgvXFwuL2csXCItXCIpXT0xO3FiKCk/Y1tcImZyYW1ld29yay5jb3Jkb3ZhXCJdPTE6XCJvYmplY3RcIj09PXR5cGVvZiBuYXZpZ2F0b3ImJlwiUmVhY3ROYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0JiYoY1tcImZyYW1ld29yay5yZWFjdG5hdGl2ZVwiXT0xKTt0aGlzLndlKGMpfWFoKHRoaXMpO3RoaXMuUmU9ITE7dGhpcy5KYyghMCl9O1xuZnVuY3Rpb24gUmcoYSxiKXtIKCFhLkZhLFwiU2NoZWR1bGluZyBhIGNvbm5lY3Qgd2hlbiB3ZSdyZSBhbHJlYWR5IGNvbm5lY3RlZC9pbmc/XCIpO2EudWImJmNsZWFyVGltZW91dChhLnViKTthLnViPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnViPW51bGw7YmgoYSl9LE1hdGguZmxvb3IoYikpfWcuWmY9ZnVuY3Rpb24oYSl7YSYmIXRoaXMuTWImJnRoaXMuU2E9PT10aGlzLnRkJiYodGhpcy5mKFwiV2luZG93IGJlY2FtZSB2aXNpYmxlLiAgUmVkdWNpbmcgZGVsYXkuXCIpLHRoaXMuU2E9MUUzLHRoaXMuRmF8fFJnKHRoaXMsMCkpO3RoaXMuTWI9YX07Zy5ZZj1mdW5jdGlvbihhKXthPyh0aGlzLmYoXCJCcm93c2VyIHdlbnQgb25saW5lLlwiKSx0aGlzLlNhPTFFMyx0aGlzLkZhfHxSZyh0aGlzLDApKToodGhpcy5mKFwiQnJvd3NlciB3ZW50IG9mZmxpbmUuICBLaWxsaW5nIGNvbm5lY3Rpb24uXCIpLHRoaXMuRmEmJnRoaXMuRmEuY2xvc2UoKSl9O1xuZy5kZj1mdW5jdGlvbigpe3RoaXMuZihcImRhdGEgY2xpZW50IGRpc2Nvbm5lY3RlZFwiKTt0aGlzLm1hPSExO3RoaXMuRmE9bnVsbDtmb3IodmFyIGE9MDthPHRoaXMucGEubGVuZ3RoO2ErKyl7dmFyIGI9dGhpcy5wYVthXTtiJiZcImhcImluIGIubWYmJmIuZmcmJihiLkcmJmIuRyhcImRpc2Nvbm5lY3RcIiksZGVsZXRlIHRoaXMucGFbYV0sdGhpcy5PYy0tKX0wPT09dGhpcy5PYyYmKHRoaXMucGE9W10pO3RoaXMuR2Q9e307Y2godGhpcykmJih0aGlzLk1iP3RoaXMuQWMmJigzRTQ8KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5BYyYmKHRoaXMuU2E9MUUzKSx0aGlzLkFjPW51bGwpOih0aGlzLmYoXCJXaW5kb3cgaXNuJ3QgdmlzaWJsZS4gIERlbGF5aW5nIHJlY29ubmVjdC5cIiksdGhpcy5TYT10aGlzLnRkLHRoaXMua2U9KG5ldyBEYXRlKS5nZXRUaW1lKCkpLGE9TWF0aC5tYXgoMCx0aGlzLlNhLSgobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLmtlKSksYSo9TWF0aC5yYW5kb20oKSx0aGlzLmYoXCJUcnlpbmcgdG8gcmVjb25uZWN0IGluIFwiK1xuYStcIm1zXCIpLFJnKHRoaXMsYSksdGhpcy5TYT1NYXRoLm1pbih0aGlzLnRkLDEuMyp0aGlzLlNhKSk7dGhpcy5KYyghMSl9O1xuZnVuY3Rpb24gYmgoYSl7aWYoY2goYSkpe2EuZihcIk1ha2luZyBhIGNvbm5lY3Rpb24gYXR0ZW1wdFwiKTthLmtlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2EuQWM9bnVsbDt2YXIgYj1xKGEud2QsYSksYz1xKGEuTGMsYSksZD1xKGEuZGYsYSksZT1hLmlkK1wiOlwiK1NnKyssZj1hLkNiLGg9ITEsaz1udWxsLGw9ZnVuY3Rpb24oKXtrP2suY2xvc2UoKTooaD0hMCxkKCkpfTthLkZhPXtjbG9zZTpsLHVhOmZ1bmN0aW9uKGEpe0goayxcInNlbmRSZXF1ZXN0IGNhbGwgd2hlbiB3ZSdyZSBub3QgY29ubmVjdGVkIG5vdCBhbGxvd2VkLlwiKTtrLnVhKGEpfX07dmFyIG09YS5iZTthLmJlPSExO2EuJGMuZ2V0VG9rZW4obSkudGhlbihmdW5jdGlvbihsKXtoP0UoXCJnZXRUb2tlbigpIGNvbXBsZXRlZCBidXQgd2FzIGNhbmNlbGVkXCIpOihFKFwiZ2V0VG9rZW4oKSBjb21wbGV0ZWQuIENyZWF0aW5nIGNvbm5lY3Rpb24uXCIpLGEub2I9bCYmbC5hY2Nlc3NUb2tlbixrPW5ldyBDZShlLGEuTCxiLGMsZCxmdW5jdGlvbihiKXtPKGIrXG5cIiAoXCIrYS5MLnRvU3RyaW5nKCkrXCIpXCIpO2EuYWIoXCJzZXJ2ZXJfa2lsbFwiKX0sZikpfSkudGhlbihudWxsLGZ1bmN0aW9uKGIpe2EuZihcIkZhaWxlZCB0byBnZXQgdG9rZW46IFwiK2IpO2h8fGwoKX0pfX1nLmFiPWZ1bmN0aW9uKGEpe0UoXCJJbnRlcnJ1cHRpbmcgY29ubmVjdGlvbiBmb3IgcmVhc29uOiBcIithKTt0aGlzLnFkW2FdPSEwO3RoaXMuRmE/dGhpcy5GYS5jbG9zZSgpOih0aGlzLnViJiYoY2xlYXJUaW1lb3V0KHRoaXMudWIpLHRoaXMudWI9bnVsbCksdGhpcy5tYSYmdGhpcy5kZigpKX07Zy5rYz1mdW5jdGlvbihhKXtFKFwiUmVzdW1pbmcgY29ubmVjdGlvbiBmb3IgcmVhc29uOiBcIithKTtkZWxldGUgdGhpcy5xZFthXTt5YSh0aGlzLnFkKSYmKHRoaXMuU2E9MUUzLHRoaXMuRmF8fFJnKHRoaXMsMCkpfTtcbmZ1bmN0aW9uICRnKGEsYixjKXtjPWM/TGEoYyxmdW5jdGlvbihhKXtyZXR1cm4gR2MoYSl9KS5qb2luKFwiJFwiKTpcImRlZmF1bHRcIjsoYT1VZyhhLGIsYykpJiZhLkcmJmEuRyhcInBlcm1pc3Npb25fZGVuaWVkXCIpfWZ1bmN0aW9uIFVnKGEsYixjKXtiPShuZXcgTChiKSkudG9TdHJpbmcoKTt2YXIgZDtuKGEuJFtiXSk/KGQ9YS4kW2JdW2NdLGRlbGV0ZSBhLiRbYl1bY10sMD09PXJhKGEuJFtiXSkmJmRlbGV0ZSBhLiRbYl0pOmQ9dm9pZCAwO3JldHVybiBkfVxuZnVuY3Rpb24gV2coYSxiLGMpe0UoXCJBdXRoIHRva2VuIHJldm9rZWQ6IFwiK2IrXCIvXCIrYyk7YS5vYj1udWxsO2EuYmU9ITA7YS5GYS5jbG9zZSgpO1wiaW52YWxpZF90b2tlblwiPT09YiYmKGEuaWUrKywzPD1hLmllJiYoYS5TYT0zRTQsYT1hLiRjLGI9J1Byb3ZpZGVkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIGZvciB0aGUgYXBwIG5hbWVkIFwiJythLm9jLm5hbWUrJ1wiIGFyZSBpbnZhbGlkLiBUaGlzIHVzdWFsbHkgaW5kaWNhdGVzIHlvdXIgYXBwIHdhcyBub3QgaW5pdGlhbGl6ZWQgY29ycmVjdGx5LiAnLGI9XCJjcmVkZW50aWFsXCJpbiBhLm9jLm9wdGlvbnM/YisnTWFrZSBzdXJlIHRoZSBcImNyZWRlbnRpYWxcIiBwcm9wZXJ0eSBwcm92aWRlZCB0byBpbml0aWFsaXplQXBwKCkgaXMgYXV0aG9yaXplZCB0byBhY2Nlc3MgdGhlIHNwZWNpZmllZCBcImRhdGFiYXNlVVJMXCIgYW5kIGlzIGZyb20gdGhlIGNvcnJlY3QgcHJvamVjdC4nOlwic2VydmljZUFjY291bnRcImluIGEub2Mub3B0aW9ucz9cbmIrJ01ha2Ugc3VyZSB0aGUgXCJzZXJ2aWNlQWNjb3VudFwiIHByb3BlcnR5IHByb3ZpZGVkIHRvIGluaXRpYWxpemVBcHAoKSBpcyBhdXRob3JpemVkIHRvIGFjY2VzcyB0aGUgc3BlY2lmaWVkIFwiZGF0YWJhc2VVUkxcIiBhbmQgaXMgZnJvbSB0aGUgY29ycmVjdCBwcm9qZWN0Lic6YisnTWFrZSBzdXJlIHRoZSBcImFwaUtleVwiIGFuZCBcImRhdGFiYXNlVVJMXCIgcHJvcGVydGllcyBwcm92aWRlZCB0byBpbml0aWFsaXplQXBwKCkgbWF0Y2ggdGhlIHZhbHVlcyBwcm92aWRlZCBmb3IgeW91ciBhcHAgYXQgaHR0cHM6Ly9jb25zb2xlLmZpcmViYXNlLmdvb2dsZS5jb20vLicsTyhiKSkpfVxuZnVuY3Rpb24gYWgoYSl7VmcoYSk7cihhLiQsZnVuY3Rpb24oYil7cihiLGZ1bmN0aW9uKGIpe1RnKGEsYil9KX0pO2Zvcih2YXIgYj0wO2I8YS5wYS5sZW5ndGg7YisrKWEucGFbYl0mJlpnKGEsYik7Zm9yKDthLktjLmxlbmd0aDspYj1hLktjLnNoaWZ0KCksWGcoYSxiLmFjdGlvbixiLnVlLGIuZGF0YSxiLkcpfWZ1bmN0aW9uIGNoKGEpe3ZhciBiO2I9c2YuVmIoKS5oYztyZXR1cm4geWEoYS5xZCkmJmJ9O3ZhciBZPXtNZjpmdW5jdGlvbigpe3JlPWRkPSEwfX07WS5mb3JjZUxvbmdQb2xsaW5nPVkuTWY7WS5OZj1mdW5jdGlvbigpe3NlPSEwfTtZLmZvcmNlV2ViU29ja2V0cz1ZLk5mO1kuVGY9ZnVuY3Rpb24oKXtyZXR1cm4gY2QuaXNBdmFpbGFibGUoKX07WS5pc1dlYlNvY2tldHNBdmFpbGFibGU9WS5UZjtZLmxnPWZ1bmN0aW9uKGEsYil7YS51LlJhLnhlPWJ9O1kuc2V0U2VjdXJpdHlEZWJ1Z0NhbGxiYWNrPVkubGc7WS56ZT1mdW5jdGlvbihhLGIpe2EudS56ZShiKX07WS5zdGF0cz1ZLnplO1kuQWU9ZnVuY3Rpb24oYSxiKXthLnUuQWUoYil9O1kuc3RhdHNJbmNyZW1lbnRDb3VudGVyPVkuQWU7WS5mZD1mdW5jdGlvbihhKXtyZXR1cm4gYS51LmZkfTtZLmRhdGFVcGRhdGVDb3VudD1ZLmZkO1kuU2Y9ZnVuY3Rpb24oYSxiKXthLnUuaGU9Yn07WS5pbnRlcmNlcHRTZXJ2ZXJEYXRhPVkuU2Y7ZnVuY3Rpb24gZGgoYSl7dGhpcy53YT1RO3RoaXMuamI9bmV3IENnO3RoaXMuQmU9e307dGhpcy5pYz17fTt0aGlzLkNjPWF9ZnVuY3Rpb24gZWgoYSxiLGMsZCxlKXt2YXIgZj1hLmpiLGg9ZTtIKGQ+Zi5CYyxcIlN0YWNraW5nIGFuIG9sZGVyIHdyaXRlIG9uIHRvcCBvZiBuZXdlciBvbmVzXCIpO24oaCl8fChoPSEwKTtmLmxhLnB1c2goe3BhdGg6YixHYTpjLFpjOmQsdmlzaWJsZTpofSk7aCYmKGYuUz1zZyhmLlMsYixjKSk7Zi5CYz1kO3JldHVybiBlP2ZoKGEsbmV3IEFiKG5nLGIsYykpOltdfWZ1bmN0aW9uIGdoKGEsYixjLGQpe3ZhciBlPWEuamI7SChkPmUuQmMsXCJTdGFja2luZyBhbiBvbGRlciBtZXJnZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTtlLmxhLnB1c2goe3BhdGg6YixjaGlsZHJlbjpjLFpjOmQsdmlzaWJsZTohMH0pO2UuUz10ZyhlLlMsYixjKTtlLkJjPWQ7Yz1iZyhjKTtyZXR1cm4gZmgoYSxuZXcgVmMobmcsYixjKSl9XG5mdW5jdGlvbiBoaChhLGIsYyl7Yz1jfHwhMTt2YXIgZD1EZyhhLmpiLGIpO2lmKGEuamIuRWQoYikpe3ZhciBlPVE7bnVsbCE9ZC5HYT9lPWUuc2V0KEMsITApOmRiKGQuY2hpbGRyZW4sZnVuY3Rpb24oYSxiKXtlPWUuc2V0KG5ldyBMKGEpLGIpfSk7cmV0dXJuIGZoKGEsbmV3IG1nKGQucGF0aCxlLGMpKX1yZXR1cm5bXX1mdW5jdGlvbiBpaChhLGIsYyl7Yz1iZyhjKTtyZXR1cm4gZmgoYSxuZXcgVmMocGcsYixjKSl9ZnVuY3Rpb24gamgoYSxiLGMsZCl7ZD1raChhLGQpO2lmKG51bGwhPWQpe3ZhciBlPWxoKGQpO2Q9ZS5wYXRoO2U9ZS5IYjtiPVQoZCxiKTtjPW5ldyBBYihuZXcgb2coITEsITAsZSwhMCksYixjKTtyZXR1cm4gbWgoYSxkLGMpfXJldHVybltdfVxuZnVuY3Rpb24gbmgoYSxiLGMsZCl7aWYoZD1raChhLGQpKXt2YXIgZT1saChkKTtkPWUucGF0aDtlPWUuSGI7Yj1UKGQsYik7Yz1iZyhjKTtjPW5ldyBWYyhuZXcgb2coITEsITAsZSwhMCksYixjKTtyZXR1cm4gbWgoYSxkLGMpfXJldHVybltdfVxuZGgucHJvdG90eXBlLk5iPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLGQ9bnVsbCxlPSExO2lnKHRoaXMud2EsYyxmdW5jdGlvbihhLGIpe3ZhciBmPVQoYSxjKTtkPWR8fGIuaGIoZik7ZT1lfHxudWxsIT16ZyhiKX0pO3ZhciBmPXRoaXMud2EuZ2V0KGMpO2Y/KGU9ZXx8bnVsbCE9emcoZiksZD1kfHxmLmhiKEMpKTooZj1uZXcgeWcsdGhpcy53YT10aGlzLndhLnNldChjLGYpKTt2YXIgaDtudWxsIT1kP2g9ITA6KGg9ITEsZD1HLGxnKHRoaXMud2Euc3VidHJlZShjKSxmdW5jdGlvbihhLGIpe3ZhciBjPWIuaGIoQyk7YyYmKGQ9ZC5UKGEsYykpfSkpO3ZhciBrPW51bGwhPUJnKGYsYSk7aWYoIWsmJiFTKGEubSkpe3ZhciBsPW9oKGEpO0goIShsIGluIHRoaXMuaWMpLFwiVmlldyBkb2VzIG5vdCBleGlzdCwgYnV0IHdlIGhhdmUgYSB0YWdcIik7dmFyIG09cGgrKzt0aGlzLmljW2xdPW07dGhpcy5CZVtcIl9cIittXT1sfWg9Zi5OYihhLGIsbmV3IEhnKGMsdGhpcy5qYiksZCxoKTtrfHxcbmV8fChmPUJnKGYsYSksaD1oLmNvbmNhdChxaCh0aGlzLGEsZikpKTtyZXR1cm4gaH07XG5kaC5wcm90b3R5cGUua2I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEucGF0aCxlPXRoaXMud2EuZ2V0KGQpLGY9W107aWYoZSYmKFwiZGVmYXVsdFwiPT09YS5qYSgpfHxudWxsIT1CZyhlLGEpKSl7Zj1lLmtiKGEsYixjKTtlLmUoKSYmKHRoaXMud2E9dGhpcy53YS5yZW1vdmUoZCkpO2U9Zi5oZztmPWYuS2Y7Yj0tMSE9PVBhKGUsZnVuY3Rpb24oYSl7cmV0dXJuIFMoYS5tKX0pO3ZhciBoPWdnKHRoaXMud2EsZCxmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT16ZyhiKX0pO2lmKGImJiFoJiYoZD10aGlzLndhLnN1YnRyZWUoZCksIWQuZSgpKSlmb3IodmFyIGQ9cmgoZCksaz0wO2s8ZC5sZW5ndGg7KytrKXt2YXIgbD1kW2tdLG09bC5WLGw9c2godGhpcyxsKTt0aGlzLkNjLnllKHRoKG0pLHVoKHRoaXMsbSksbC5sZCxsLkcpfWlmKCFoJiYwPGUubGVuZ3RoJiYhYylpZihiKXRoaXMuQ2MuT2QodGgoYSksbnVsbCk7ZWxzZXt2YXIgdT10aGlzO0phKGUsZnVuY3Rpb24oYSl7YS5qYSgpO1xudmFyIGI9dS5pY1tvaChhKV07dS5DYy5PZCh0aChhKSxiKX0pfXZoKHRoaXMsZSl9cmV0dXJuIGZ9O2RoLnByb3RvdHlwZS5BYT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuamIsZD1nZyh0aGlzLndhLGEsZnVuY3Rpb24oYixjKXt2YXIgZD1UKGIsYSk7aWYoZD1jLmhiKGQpKXJldHVybiBkfSk7cmV0dXJuIGMuQWEoYSxkLGIsITApfTtmdW5jdGlvbiByaChhKXtyZXR1cm4gZWcoYSxmdW5jdGlvbihhLGMsZCl7aWYoYyYmbnVsbCE9emcoYykpcmV0dXJuW3pnKGMpXTt2YXIgZT1bXTtjJiYoZT1BZyhjKSk7cihkLGZ1bmN0aW9uKGEpe2U9ZS5jb25jYXQoYSl9KTtyZXR1cm4gZX0pfWZ1bmN0aW9uIHZoKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107aWYoIVMoZC5tKSl7dmFyIGQ9b2goZCksZT1hLmljW2RdO2RlbGV0ZSBhLmljW2RdO2RlbGV0ZSBhLkJlW1wiX1wiK2VdfX19XG5mdW5jdGlvbiB0aChhKXtyZXR1cm4gUyhhLm0pJiYhU2MoYS5tKT9hLndiKCk6YX1mdW5jdGlvbiBxaChhLGIsYyl7dmFyIGQ9Yi5wYXRoLGU9dWgoYSxiKTtjPXNoKGEsYyk7Yj1hLkNjLnllKHRoKGIpLGUsYy5sZCxjLkcpO2Q9YS53YS5zdWJ0cmVlKGQpO2lmKGUpSChudWxsPT16ZyhkLnZhbHVlKSxcIklmIHdlJ3JlIGFkZGluZyBhIHF1ZXJ5LCBpdCBzaG91bGRuJ3QgYmUgc2hhZG93ZWRcIik7ZWxzZSBmb3IoZT1lZyhkLGZ1bmN0aW9uKGEsYixjKXtpZighYS5lKCkmJmImJm51bGwhPXpnKGIpKXJldHVybltRZih6ZyhiKSldO3ZhciBkPVtdO2ImJihkPWQuY29uY2F0KExhKEFnKGIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLlZ9KSkpO3IoYyxmdW5jdGlvbihhKXtkPWQuY29uY2F0KGEpfSk7cmV0dXJuIGR9KSxkPTA7ZDxlLmxlbmd0aDsrK2QpYz1lW2RdLGEuQ2MuT2QodGgoYyksdWgoYSxjKSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBzaChhLGIpe3ZhciBjPWIuVixkPXVoKGEsYyk7cmV0dXJue2xkOmZ1bmN0aW9uKCl7cmV0dXJuKGIudygpfHxHKS5oYXNoKCl9LEc6ZnVuY3Rpb24oYil7aWYoXCJva1wiPT09Yil7aWYoZCl7dmFyIGY9Yy5wYXRoO2lmKGI9a2goYSxkKSl7dmFyIGg9bGgoYik7Yj1oLnBhdGg7aD1oLkhiO2Y9VChiLGYpO2Y9bmV3IENiKG5ldyBvZyghMSwhMCxoLCEwKSxmKTtiPW1oKGEsYixmKX1lbHNlIGI9W119ZWxzZSBiPWZoKGEsbmV3IENiKHBnLGMucGF0aCkpO3JldHVybiBifWY9XCJVbmtub3duIEVycm9yXCI7XCJ0b29fYmlnXCI9PT1iP2Y9XCJUaGUgZGF0YSByZXF1ZXN0ZWQgZXhjZWVkcyB0aGUgbWF4aW11bSBzaXplIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIHdpdGggYSBzaW5nbGUgcmVxdWVzdC5cIjpcInBlcm1pc3Npb25fZGVuaWVkXCI9PWI/Zj1cIkNsaWVudCBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIGRlc2lyZWQgZGF0YS5cIjpcInVuYXZhaWxhYmxlXCI9PWImJlxuKGY9XCJUaGUgc2VydmljZSBpcyB1bmF2YWlsYWJsZVwiKTtmPUVycm9yKGIrXCIgYXQgXCIrYy5wYXRoLnRvU3RyaW5nKCkrXCI6IFwiK2YpO2YuY29kZT1iLnRvVXBwZXJDYXNlKCk7cmV0dXJuIGEua2IoYyxudWxsLGYpfX19ZnVuY3Rpb24gb2goYSl7cmV0dXJuIGEucGF0aC50b1N0cmluZygpK1wiJFwiK2EuamEoKX1mdW5jdGlvbiBsaChhKXt2YXIgYj1hLmluZGV4T2YoXCIkXCIpO0goLTEhPT1iJiZiPGEubGVuZ3RoLTEsXCJCYWQgcXVlcnlLZXkuXCIpO3JldHVybntIYjphLnN1YnN0cihiKzEpLHBhdGg6bmV3IEwoYS5zdWJzdHIoMCxiKSl9fWZ1bmN0aW9uIGtoKGEsYil7dmFyIGM9YS5CZSxkPVwiX1wiK2I7cmV0dXJuIGQgaW4gYz9jW2RdOnZvaWQgMH1mdW5jdGlvbiB1aChhLGIpe3ZhciBjPW9oKGIpO3JldHVybiB3KGEuaWMsYyl9dmFyIHBoPTE7XG5mdW5jdGlvbiBtaChhLGIsYyl7dmFyIGQ9YS53YS5nZXQoYik7SChkLFwiTWlzc2luZyBzeW5jIHBvaW50IGZvciBxdWVyeSB0YWcgdGhhdCB3ZSdyZSB0cmFja2luZ1wiKTtyZXR1cm4gZC5lYihjLG5ldyBIZyhiLGEuamIpLG51bGwpfWZ1bmN0aW9uIGZoKGEsYil7cmV0dXJuIHdoKGEsYixhLndhLG51bGwsbmV3IEhnKEMsYS5qYikpfWZ1bmN0aW9uIHdoKGEsYixjLGQsZSl7aWYoYi5wYXRoLmUoKSlyZXR1cm4geGgoYSxiLGMsZCxlKTt2YXIgZj1jLmdldChDKTtudWxsPT1kJiZudWxsIT1mJiYoZD1mLmhiKEMpKTt2YXIgaD1bXSxrPUooYi5wYXRoKSxsPWIuTWMoayk7aWYoKGM9Yy5jaGlsZHJlbi5nZXQoaykpJiZsKXZhciBtPWQ/ZC5RKGspOm51bGwsaz1lLm4oayksaD1oLmNvbmNhdCh3aChhLGwsYyxtLGspKTtmJiYoaD1oLmNvbmNhdChmLmViKGIsZSxkKSkpO3JldHVybiBofVxuZnVuY3Rpb24geGgoYSxiLGMsZCxlKXt2YXIgZj1jLmdldChDKTtudWxsPT1kJiZudWxsIT1mJiYoZD1mLmhiKEMpKTt2YXIgaD1bXTtjLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKGMsZil7dmFyIG09ZD9kLlEoYyk6bnVsbCx1PWUubihjKSx6PWIuTWMoYyk7eiYmKGg9aC5jb25jYXQoeGgoYSx6LGYsbSx1KSkpfSk7ZiYmKGg9aC5jb25jYXQoZi5lYihiLGUsZCkpKTtyZXR1cm4gaH07ZnVuY3Rpb24gVGUoYSxiLGMpe3RoaXMuYXBwPWM7dmFyIGQ9bmV3IEViKGMpO3RoaXMuTD1hO3RoaXMuVmE9JGMoYSk7dGhpcy5WYz1udWxsO3RoaXMuY2E9bmV3IE5iO3RoaXMudmQ9MTt0aGlzLlJhPW51bGw7aWYoYnx8MDw9KFwib2JqZWN0XCI9PT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIikuc2VhcmNoKC9nb29nbGVib3R8Z29vZ2xlIHdlYm1hc3RlciB0b29sc3xiaW5nYm90fHlhaG9vISBzbHVycHxiYWlkdXNwaWRlcnx5YW5kZXhib3R8ZHVja2R1Y2tib3QvaSkpdGhpcy52YT1uZXcgUWModGhpcy5MLHEodGhpcy5HYix0aGlzKSxkKSxzZXRUaW1lb3V0KHEodGhpcy5KYyx0aGlzLCEwKSwwKTtlbHNle2I9Yy5vcHRpb25zLmRhdGFiYXNlQXV0aFZhcmlhYmxlT3ZlcnJpZGV8fG51bGw7aWYobnVsbCE9PWIpe2lmKFwib2JqZWN0XCIhPT1kYShiKSl0aHJvdyBFcnJvcihcIk9ubHkgb2JqZWN0cyBhcmUgc3VwcG9ydGVkIGZvciBvcHRpb24gZGF0YWJhc2VBdXRoVmFyaWFibGVPdmVycmlkZVwiKTtcbnRyeXtCKGIpfWNhdGNoKGUpe3Rocm93IEVycm9yKFwiSW52YWxpZCBhdXRoT3ZlcnJpZGUgcHJvdmlkZWQ6IFwiK2UpO319dGhpcy52YT10aGlzLlJhPW5ldyBQZyh0aGlzLkwscSh0aGlzLkdiLHRoaXMpLHEodGhpcy5KYyx0aGlzKSxxKHRoaXMuc2UsdGhpcyksZCxiKX12YXIgZj10aGlzO0ZiKGQsZnVuY3Rpb24oYSl7Zi52YS5rZihhKX0pO3RoaXMub2c9YWQoYSxxKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYYyh0aGlzLlZhLHRoaXMudmEpfSx0aGlzKSk7dGhpcy5tYz1uZXcgSmc7dGhpcy5nZT1uZXcgR2I7dGhpcy5wZD1uZXcgZGgoe3llOmZ1bmN0aW9uKGEsYixjLGQpe2I9W107Yz1mLmdlLmooYS5wYXRoKTtjLmUoKXx8KGI9ZmgoZi5wZCxuZXcgQWIocGcsYS5wYXRoLGMpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZChcIm9rXCIpfSwwKSk7cmV0dXJuIGJ9LE9kOmJhfSk7eWgodGhpcyxcImNvbm5lY3RlZFwiLCExKTt0aGlzLmlhPW5ldyBtYzt0aGlzLllhPW5ldyBTZSh0aGlzKTt0aGlzLmZkPVxuMDt0aGlzLmhlPW51bGw7dGhpcy5LPW5ldyBkaCh7eWU6ZnVuY3Rpb24oYSxiLGMsZCl7Zi52YS4kZShhLGMsYixmdW5jdGlvbihiLGMpe3ZhciBlPWQoYixjKTtTYihmLmNhLGEucGF0aCxlKX0pO3JldHVybltdfSxPZDpmdW5jdGlvbihhLGIpe2YudmEudWYoYSxiKX19KX1nPVRlLnByb3RvdHlwZTtnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuTC5TYz9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuTC5ob3N0fTtnLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5MLm5lfTtmdW5jdGlvbiB6aChhKXthPWEuZ2UuaihuZXcgTChcIi5pbmZvL3NlcnZlclRpbWVPZmZzZXRcIikpLkgoKXx8MDtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKSthfWZ1bmN0aW9uIEFoKGEpe2E9YT17dGltZXN0YW1wOnpoKGEpfTthLnRpbWVzdGFtcD1hLnRpbWVzdGFtcHx8KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIGF9XG5nLkdiPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuZmQrKzt2YXIgZT1uZXcgTChhKTtiPXRoaXMuaGU/dGhpcy5oZShhLGIpOmI7YT1bXTtkP2M/KGI9cGEoYixmdW5jdGlvbihhKXtyZXR1cm4gTShhKX0pLGE9bmgodGhpcy5LLGUsYixkKSk6KGI9TShiKSxhPWpoKHRoaXMuSyxlLGIsZCkpOmM/KGQ9cGEoYixmdW5jdGlvbihhKXtyZXR1cm4gTShhKX0pLGE9aWgodGhpcy5LLGUsZCkpOihkPU0oYiksYT1maCh0aGlzLkssbmV3IEFiKHBnLGUsZCkpKTtkPWU7MDxhLmxlbmd0aCYmKGQ9QmgodGhpcyxlKSk7U2IodGhpcy5jYSxkLGEpfTtnLkpjPWZ1bmN0aW9uKGEpe3loKHRoaXMsXCJjb25uZWN0ZWRcIixhKTshMT09PWEmJkNoKHRoaXMpfTtnLnNlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7SWMoYSxmdW5jdGlvbihhLGQpe3loKGIsZCxhKX0pfTtcbmZ1bmN0aW9uIHloKGEsYixjKXtiPW5ldyBMKFwiLy5pbmZvL1wiK2IpO2M9TShjKTt2YXIgZD1hLmdlO2QuSmQ9ZC5KZC5GKGIsYyk7Yz1maChhLnBkLG5ldyBBYihwZyxiLGMpKTtTYihhLmNhLGIsYyl9Zy5KYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmYoXCJzZXRcIix7cGF0aDphLnRvU3RyaW5nKCksdmFsdWU6Yix1ZzpjfSk7dmFyIGU9QWgodGhpcyk7Yj1NKGIsYyk7dmFyIGU9cGMoYixlKSxmPXRoaXMudmQrKyxlPWVoKHRoaXMuSyxhLGUsZiwhMCk7T2IodGhpcy5jYSxlKTt2YXIgaD10aGlzO3RoaXMudmEucHV0KGEudG9TdHJpbmcoKSxiLkgoITApLGZ1bmN0aW9uKGIsYyl7dmFyIGU9XCJva1wiPT09YjtlfHxPKFwic2V0IGF0IFwiK2ErXCIgZmFpbGVkOiBcIitiKTtlPWhoKGguSyxmLCFlKTtTYihoLmNhLGEsZSk7RGgoZCxiLGMpfSk7ZT1FaCh0aGlzLGEpO0JoKHRoaXMsZSk7U2IodGhpcy5jYSxlLFtdKX07XG5nLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5mKFwidXBkYXRlXCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmJ9KTt2YXIgZD0hMCxlPUFoKHRoaXMpLGY9e307cihiLGZ1bmN0aW9uKGEsYil7ZD0hMTt2YXIgYz1NKGEpO2ZbYl09cGMoYyxlKX0pO2lmKGQpRShcInVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksRGgoYyxcIm9rXCIpO2Vsc2V7dmFyIGg9dGhpcy52ZCsrLGs9Z2godGhpcy5LLGEsZixoKTtPYih0aGlzLmNhLGspO3ZhciBsPXRoaXM7dGhpcy52YS5hZihhLnRvU3RyaW5nKCksYixmdW5jdGlvbihiLGQpe3ZhciBlPVwib2tcIj09PWI7ZXx8TyhcInVwZGF0ZSBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7dmFyIGU9aGgobC5LLGgsIWUpLGY9YTswPGUubGVuZ3RoJiYoZj1CaChsLGEpKTtTYihsLmNhLGYsZSk7RGgoYyxiLGQpfSk7cihiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9RWgobCxhLm4oYykpO0JoKGwsZCl9KTtTYih0aGlzLmNhLFxuYSxbXSl9fTtmdW5jdGlvbiBDaChhKXthLmYoXCJvbkRpc2Nvbm5lY3RFdmVudHNcIik7dmFyIGI9QWgoYSksYz1bXTtuYyhsYyhhLmlhLGIpLEMsZnVuY3Rpb24oYixlKXtjPWMuY29uY2F0KGZoKGEuSyxuZXcgQWIocGcsYixlKSkpO3ZhciBmPUVoKGEsYik7QmgoYSxmKX0pO2EuaWE9bmV3IG1jO1NiKGEuY2EsQyxjKX1nLnhkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLnZhLnhkKGEudG9TdHJpbmcoKSxmdW5jdGlvbihkLGUpe1wib2tcIj09PWQmJlplKGMuaWEsYSk7RGgoYixkLGUpfSl9O2Z1bmN0aW9uIG5mKGEsYixjLGQpe3ZhciBlPU0oYyk7YS52YS5wZShiLnRvU3RyaW5nKCksZS5IKCEwKSxmdW5jdGlvbihjLGgpe1wib2tcIj09PWMmJm9jKGEuaWEsYixlKTtEaChkLGMsaCl9KX1cbmZ1bmN0aW9uIG9mKGEsYixjLGQsZSl7dmFyIGY9TShjLGQpO2EudmEucGUoYi50b1N0cmluZygpLGYuSCghMCksZnVuY3Rpb24oYyxkKXtcIm9rXCI9PT1jJiZvYyhhLmlhLGIsZik7RGgoZSxjLGQpfSl9ZnVuY3Rpb24gcGYoYSxiLGMsZCl7dmFyIGU9ITAsZjtmb3IoZiBpbiBjKWU9ITE7ZT8oRShcIm9uRGlzY29ubmVjdCgpLnVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksRGgoZCxcIm9rXCIpKTphLnZhLmNmKGIudG9TdHJpbmcoKSxjLGZ1bmN0aW9uKGUsZil7aWYoXCJva1wiPT09ZSlmb3IodmFyIGwgaW4gYyl7dmFyIG09TShjW2xdKTtvYyhhLmlhLGIubihsKSxtKX1EaChkLGUsZil9KX1mdW5jdGlvbiBaZihhLGIsYyl7Yz1cIi5pbmZvXCI9PT1KKGIucGF0aCk/YS5wZC5OYihiLGMpOmEuSy5OYihiLGMpO1FiKGEuY2EsYi5wYXRoLGMpfWcuYWI9ZnVuY3Rpb24oKXt0aGlzLlJhJiZ0aGlzLlJhLmFiKFwicmVwb19pbnRlcnJ1cHRcIil9O1xuZy5rYz1mdW5jdGlvbigpe3RoaXMuUmEmJnRoaXMuUmEua2MoXCJyZXBvX2ludGVycnVwdFwiKX07Zy56ZT1mdW5jdGlvbihhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe2E/KHRoaXMuVmN8fCh0aGlzLlZjPW5ldyBNYih0aGlzLlZhKSksYT10aGlzLlZjLmdldCgpKTphPXRoaXMuVmEuZ2V0KCk7dmFyIGI9TWEodWEoYSksZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5tYXgoYi5sZW5ndGgsYSl9LDApLGM7Zm9yKGMgaW4gYSl7Zm9yKHZhciBkPWFbY10sZT1jLmxlbmd0aDtlPGIrMjtlKyspYys9XCIgXCI7Y29uc29sZS5sb2coYytkKX19fTtnLkFlPWZ1bmN0aW9uKGEpe0xiKHRoaXMuVmEsYSk7dGhpcy5vZy5yZlthXT0hMH07Zy5mPWZ1bmN0aW9uKGEpe3ZhciBiPVwiXCI7dGhpcy5SYSYmKGI9dGhpcy5SYS5pZCtcIjpcIik7RShiLGFyZ3VtZW50cyl9O1xuZnVuY3Rpb24gRGgoYSxiLGMpe2EmJnViKGZ1bmN0aW9uKCl7aWYoXCJva1wiPT1iKWEobnVsbCk7ZWxzZXt2YXIgZD0oYnx8XCJlcnJvclwiKS50b1VwcGVyQ2FzZSgpLGU9ZDtjJiYoZSs9XCI6IFwiK2MpO2U9RXJyb3IoZSk7ZS5jb2RlPWQ7YShlKX19KX07ZnVuY3Rpb24gRmgoYSxiLGMsZCxlKXtmdW5jdGlvbiBmKCl7fWEuZihcInRyYW5zYWN0aW9uIG9uIFwiK2IpO3ZhciBoPW5ldyBVKGEsYik7aC5nYyhcInZhbHVlXCIsZik7Yz17cGF0aDpiLHVwZGF0ZTpjLEc6ZCxzdGF0dXM6bnVsbCxlZjpyYygpLEZlOmUsb2Y6MCxSZDpmdW5jdGlvbigpe2guSWMoXCJ2YWx1ZVwiLGYpfSxUZDpudWxsLEJhOm51bGwsY2Q6bnVsbCxkZDpudWxsLGVkOm51bGx9O2Q9YS5LLkFhKGIsdm9pZCAwKXx8RztjLmNkPWQ7ZD1jLnVwZGF0ZShkLkgoKSk7aWYobihkKSl7ZWYoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIsZCxjLnBhdGgpO2Muc3RhdHVzPTE7ZT1LZyhhLm1jLGIpO3ZhciBrPWUuQ2EoKXx8W107ay5wdXNoKGMpO0xnKGUsayk7XCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCYmY2IoZCxcIi5wcmlvcml0eVwiKT8oaz13KGQsXCIucHJpb3JpdHlcIiksSChjZihrKSxcIkludmFsaWQgcHJpb3JpdHkgcmV0dXJuZWQgYnkgdHJhbnNhY3Rpb24uIFByaW9yaXR5IG11c3QgYmUgYSB2YWxpZCBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbC5cIikpOlxuaz0oYS5LLkFhKGIpfHxHKS5DKCkuSCgpO2U9QWgoYSk7ZD1NKGQsayk7ZT1wYyhkLGUpO2MuZGQ9ZDtjLmVkPWU7Yy5CYT1hLnZkKys7Yz1laChhLkssYixlLGMuQmEsYy5GZSk7U2IoYS5jYSxiLGMpO0doKGEpfWVsc2UgYy5SZCgpLGMuZGQ9bnVsbCxjLmVkPW51bGwsYy5HJiYoYT1uZXcgVyhjLmNkLG5ldyBVKGEsYy5wYXRoKSxOKSxjLkcobnVsbCwhMSxhKSl9ZnVuY3Rpb24gR2goYSxiKXt2YXIgYz1ifHxhLm1jO2J8fEhoKGEsYyk7aWYobnVsbCE9PWMuQ2EoKSl7dmFyIGQ9SWgoYSxjKTtIKDA8ZC5sZW5ndGgsXCJTZW5kaW5nIHplcm8gbGVuZ3RoIHRyYW5zYWN0aW9uIHF1ZXVlXCIpO05hKGQsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLnN0YXR1c30pJiZKaChhLGMucGF0aCgpLGQpfWVsc2UgYy5rZCgpJiZjLk8oZnVuY3Rpb24oYil7R2goYSxiKX0pfVxuZnVuY3Rpb24gSmgoYSxiLGMpe2Zvcih2YXIgZD1MYShjLGZ1bmN0aW9uKGEpe3JldHVybiBhLkJhfSksZT1hLksuQWEoYixkKXx8RyxkPWUsZT1lLmhhc2goKSxmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBoPWNbZl07SCgxPT09aC5zdGF0dXMsXCJ0cnlUb1NlbmRUcmFuc2FjdGlvblF1ZXVlXzogaXRlbXMgaW4gcXVldWUgc2hvdWxkIGFsbCBiZSBydW4uXCIpO2guc3RhdHVzPTI7aC5vZisrO3ZhciBrPVQoYixoLnBhdGgpLGQ9ZC5GKGssaC5kZCl9ZD1kLkgoITApO2EudmEucHV0KGIudG9TdHJpbmcoKSxkLGZ1bmN0aW9uKGQpe2EuZihcInRyYW5zYWN0aW9uIHB1dCByZXNwb25zZVwiLHtwYXRoOmIudG9TdHJpbmcoKSxzdGF0dXM6ZH0pO3ZhciBlPVtdO2lmKFwib2tcIj09PWQpe2Q9W107Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyl7Y1tmXS5zdGF0dXM9MztlPWUuY29uY2F0KGhoKGEuSyxjW2ZdLkJhKSk7aWYoY1tmXS5HKXt2YXIgaD1jW2ZdLmVkLGs9bmV3IFUoYSxjW2ZdLnBhdGgpO2QucHVzaChxKGNbZl0uRyxcbm51bGwsbnVsbCwhMCxuZXcgVyhoLGssTikpKX1jW2ZdLlJkKCl9SGgoYSxLZyhhLm1jLGIpKTtHaChhKTtTYihhLmNhLGIsZSk7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKyl1YihkW2ZdKX1lbHNle2lmKFwiZGF0YXN0YWxlXCI9PT1kKWZvcihmPTA7ZjxjLmxlbmd0aDtmKyspY1tmXS5zdGF0dXM9ND09PWNbZl0uc3RhdHVzPzU6MTtlbHNlIGZvcihPKFwidHJhbnNhY3Rpb24gYXQgXCIrYi50b1N0cmluZygpK1wiIGZhaWxlZDogXCIrZCksZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0uc3RhdHVzPTUsY1tmXS5UZD1kO0JoKGEsYil9fSxlKX1mdW5jdGlvbiBCaChhLGIpe3ZhciBjPUtoKGEsYiksZD1jLnBhdGgoKSxjPUloKGEsYyk7TGgoYSxjLGQpO3JldHVybiBkfVxuZnVuY3Rpb24gTGgoYSxiLGMpe2lmKDAhPT1iLmxlbmd0aCl7Zm9yKHZhciBkPVtdLGU9W10sZj1LYShiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5zdGF0dXN9KSxmPUxhKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEuQmF9KSxoPTA7aDxiLmxlbmd0aDtoKyspe3ZhciBrPWJbaF0sbD1UKGMsay5wYXRoKSxtPSExLHU7SChudWxsIT09bCxcInJlcnVuVHJhbnNhY3Rpb25zVW5kZXJOb2RlXzogcmVsYXRpdmVQYXRoIHNob3VsZCBub3QgYmUgbnVsbC5cIik7aWYoNT09PWsuc3RhdHVzKW09ITAsdT1rLlRkLGU9ZS5jb25jYXQoaGgoYS5LLGsuQmEsITApKTtlbHNlIGlmKDE9PT1rLnN0YXR1cylpZigyNTw9ay5vZiltPSEwLHU9XCJtYXhyZXRyeVwiLGU9ZS5jb25jYXQoaGgoYS5LLGsuQmEsITApKTtlbHNle3ZhciB6PWEuSy5BYShrLnBhdGgsZil8fEc7ay5jZD16O3ZhciBGPWJbaF0udXBkYXRlKHouSCgpKTtuKEYpPyhlZihcInRyYW5zYWN0aW9uIGZhaWxlZDogRGF0YSByZXR1cm5lZCBcIixGLFxuay5wYXRoKSxsPU0oRiksXCJvYmplY3RcIj09PXR5cGVvZiBGJiZudWxsIT1GJiZjYihGLFwiLnByaW9yaXR5XCIpfHwobD1sLmZhKHouQygpKSksej1rLkJhLEY9QWgoYSksRj1wYyhsLEYpLGsuZGQ9bCxrLmVkPUYsay5CYT1hLnZkKyssUWEoZix6KSxlPWUuY29uY2F0KGVoKGEuSyxrLnBhdGgsRixrLkJhLGsuRmUpKSxlPWUuY29uY2F0KGhoKGEuSyx6LCEwKSkpOihtPSEwLHU9XCJub2RhdGFcIixlPWUuY29uY2F0KGhoKGEuSyxrLkJhLCEwKSkpfVNiKGEuY2EsYyxlKTtlPVtdO20mJihiW2hdLnN0YXR1cz0zLHNldFRpbWVvdXQoYltoXS5SZCxNYXRoLmZsb29yKDApKSxiW2hdLkcmJihcIm5vZGF0YVwiPT09dT8oaz1uZXcgVShhLGJbaF0ucGF0aCksZC5wdXNoKHEoYltoXS5HLG51bGwsbnVsbCwhMSxuZXcgVyhiW2hdLmNkLGssTikpKSk6ZC5wdXNoKHEoYltoXS5HLG51bGwsRXJyb3IodSksITEsbnVsbCkpKSl9SGgoYSxhLm1jKTtmb3IoaD0wO2g8ZC5sZW5ndGg7aCsrKXViKGRbaF0pO0doKGEpfX1cbmZ1bmN0aW9uIEtoKGEsYil7Zm9yKHZhciBjLGQ9YS5tYztudWxsIT09KGM9SihiKSkmJm51bGw9PT1kLkNhKCk7KWQ9S2coZCxjKSxiPUQoYik7cmV0dXJuIGR9ZnVuY3Rpb24gSWgoYSxiKXt2YXIgYz1bXTtNaChhLGIsYyk7Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZWYtYi5lZn0pO3JldHVybiBjfWZ1bmN0aW9uIE1oKGEsYixjKXt2YXIgZD1iLkNhKCk7aWYobnVsbCE9PWQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspYy5wdXNoKGRbZV0pO2IuTyhmdW5jdGlvbihiKXtNaChhLGIsYyl9KX1mdW5jdGlvbiBIaChhLGIpe3ZhciBjPWIuQ2EoKTtpZihjKXtmb3IodmFyIGQ9MCxlPTA7ZTxjLmxlbmd0aDtlKyspMyE9PWNbZV0uc3RhdHVzJiYoY1tkXT1jW2VdLGQrKyk7Yy5sZW5ndGg9ZDtMZyhiLDA8Yy5sZW5ndGg/YzpudWxsKX1iLk8oZnVuY3Rpb24oYil7SGgoYSxiKX0pfVxuZnVuY3Rpb24gRWgoYSxiKXt2YXIgYz1LaChhLGIpLnBhdGgoKSxkPUtnKGEubWMsYik7T2coZCxmdW5jdGlvbihiKXtOaChhLGIpfSk7TmgoYSxkKTtOZyhkLGZ1bmN0aW9uKGIpe05oKGEsYil9KTtyZXR1cm4gY31cbmZ1bmN0aW9uIE5oKGEsYil7dmFyIGM9Yi5DYSgpO2lmKG51bGwhPT1jKXtmb3IodmFyIGQ9W10sZT1bXSxmPS0xLGg9MDtoPGMubGVuZ3RoO2grKyk0IT09Y1toXS5zdGF0dXMmJigyPT09Y1toXS5zdGF0dXM/KEgoZj09PWgtMSxcIkFsbCBTRU5UIGl0ZW1zIHNob3VsZCBiZSBhdCBiZWdpbm5pbmcgb2YgcXVldWUuXCIpLGY9aCxjW2hdLnN0YXR1cz00LGNbaF0uVGQ9XCJzZXRcIik6KEgoMT09PWNbaF0uc3RhdHVzLFwiVW5leHBlY3RlZCB0cmFuc2FjdGlvbiBzdGF0dXMgaW4gYWJvcnRcIiksY1toXS5SZCgpLGU9ZS5jb25jYXQoaGgoYS5LLGNbaF0uQmEsITApKSxjW2hdLkcmJmQucHVzaChxKGNbaF0uRyxudWxsLEVycm9yKFwic2V0XCIpLCExLG51bGwpKSkpOy0xPT09Zj9MZyhiLG51bGwpOmMubGVuZ3RoPWYrMTtTYihhLmNhLGIucGF0aCgpLGUpO2ZvcihoPTA7aDxkLmxlbmd0aDtoKyspdWIoZFtoXSl9fTtmdW5jdGlvbiBZZSgpe3RoaXMubGI9e307dGhpcy53Zj0hMX1ZZS5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5sYil0aGlzLmxiW2FdLmFiKCl9O1llLnByb3RvdHlwZS5rYz1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmxiKXRoaXMubGJbYV0ua2MoKX07WWUucHJvdG90eXBlLmFlPWZ1bmN0aW9uKGEpe3RoaXMud2Y9YX07Y2EoWWUpO1llLnByb3RvdHlwZS5pbnRlcnJ1cHQ9WWUucHJvdG90eXBlLmFiO1llLnByb3RvdHlwZS5yZXN1bWU9WWUucHJvdG90eXBlLmtjO3ZhciBaPXt9O1oubmM9UGc7Wi5EYXRhQ29ubmVjdGlvbj1aLm5jO1BnLnByb3RvdHlwZS5uZz1mdW5jdGlvbihhLGIpe3RoaXMudWEoXCJxXCIse3A6YX0sYil9O1oubmMucHJvdG90eXBlLnNpbXBsZUxpc3Rlbj1aLm5jLnByb3RvdHlwZS5uZztQZy5wcm90b3R5cGUuSGY9ZnVuY3Rpb24oYSxiKXt0aGlzLnVhKFwiZWNob1wiLHtkOmF9LGIpfTtaLm5jLnByb3RvdHlwZS5lY2hvPVoubmMucHJvdG90eXBlLkhmO1BnLnByb3RvdHlwZS5pbnRlcnJ1cHQ9UGcucHJvdG90eXBlLmFiO1ouemY9Q2U7Wi5SZWFsVGltZUNvbm5lY3Rpb249Wi56ZjtDZS5wcm90b3R5cGUuc2VuZFJlcXVlc3Q9Q2UucHJvdG90eXBlLnVhO0NlLnByb3RvdHlwZS5jbG9zZT1DZS5wcm90b3R5cGUuY2xvc2U7XG5aLlJmPWZ1bmN0aW9uKGEpe3ZhciBiPVBnLnByb3RvdHlwZS5wdXQ7UGcucHJvdG90eXBlLnB1dD1mdW5jdGlvbihjLGQsZSxmKXtuKGYpJiYoZj1hKCkpO2IuY2FsbCh0aGlzLGMsZCxlLGYpfTtyZXR1cm4gZnVuY3Rpb24oKXtQZy5wcm90b3R5cGUucHV0PWJ9fTtaLmhpamFja0hhc2g9Wi5SZjtaLnlmPUhiO1ouQ29ubmVjdGlvblRhcmdldD1aLnlmO1ouamE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuamEoKX07Wi5xdWVyeUlkZW50aWZpZXI9Wi5qYTtaLlVmPWZ1bmN0aW9uKGEpe3JldHVybiBhLnUuUmEuJH07Wi5saXN0ZW5zPVouVWY7Wi5hZT1mdW5jdGlvbihhKXtZZS5WYigpLmFlKGEpfTtaLmZvcmNlUmVzdENsaWVudD1aLmFlO1ouQ29udGV4dD1ZZTtmdW5jdGlvbiBVKGEsYil7aWYoIShhIGluc3RhbmNlb2YgVGUpKXRocm93IEVycm9yKFwibmV3IEZpcmViYXNlKCkgbm8gbG9uZ2VyIHN1cHBvcnRlZCAtIHVzZSBhcHAuZGF0YWJhc2UoKS5cIik7WC5jYWxsKHRoaXMsYSxiLGZlLCExKTt0aGlzLnRoZW49dm9pZCAwO3RoaXNbXCJjYXRjaFwiXT12b2lkIDB9bGEoVSxYKTtnPVUucHJvdG90eXBlO2cuZ2V0S2V5PWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5wYXRoLmUoKT9udWxsOkJkKHRoaXMucGF0aCl9O1xuZy5uPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5jaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihnYShhKSlhPVN0cmluZyhhKTtlbHNlIGlmKCEoYSBpbnN0YW5jZW9mIEwpKWlmKG51bGw9PT1KKHRoaXMucGF0aCkpe3ZhciBiPWE7YiYmKGI9Yi5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpO2xmKFwiRmlyZWJhc2UuY2hpbGRcIixiKX1lbHNlIGxmKFwiRmlyZWJhc2UuY2hpbGRcIixhKTtyZXR1cm4gbmV3IFUodGhpcy51LHRoaXMucGF0aC5uKGEpKX07Zy5nZXRQYXJlbnQ9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UucGFyZW50XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBhPXRoaXMucGF0aC5wYXJlbnQoKTtyZXR1cm4gbnVsbD09PWE/bnVsbDpuZXcgVSh0aGlzLnUsYSl9O1xuZy5PZj1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBhPXRoaXM7bnVsbCE9PWEuZ2V0UGFyZW50KCk7KWE9YS5nZXRQYXJlbnQoKTtyZXR1cm4gYX07Zy5HZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnUuWWF9O2cuc2V0PWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLnNldFwiLHRoaXMucGF0aCk7ZGYoXCJGaXJlYmFzZS5zZXRcIixhLHRoaXMucGF0aCwhMSk7QShcIkZpcmViYXNlLnNldFwiLDIsYiwhMCk7dmFyIGM9bmV3IGhiO3RoaXMudS5KYih0aGlzLnBhdGgsYSxudWxsLGliKGMsYikpO3JldHVybiBjLnJhfTtcbmcudXBkYXRlPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLnVwZGF0ZVwiLHRoaXMucGF0aCk7aWYoZWEoYSkpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDsrK2QpY1tcIlwiK2RdPWFbZF07YT1jO08oXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfWdmKFwiRmlyZWJhc2UudXBkYXRlXCIsYSx0aGlzLnBhdGgpO0EoXCJGaXJlYmFzZS51cGRhdGVcIiwyLGIsITApO2M9bmV3IGhiO3RoaXMudS51cGRhdGUodGhpcy5wYXRoLGEsaWIoYyxiKSk7cmV0dXJuIGMucmF9O1xuZy5KYj1mdW5jdGlvbihhLGIsYyl7eChcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucGF0aCk7ZGYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIixhLHRoaXMucGF0aCwhMSk7aGYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLGIpO0EoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwzLGMsITApO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5nZXRLZXkoKXx8XCIua2V5c1wiPT09dGhpcy5nZXRLZXkoKSl0aHJvd1wiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5IGZhaWxlZDogXCIrdGhpcy5nZXRLZXkoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7dmFyIGQ9bmV3IGhiO3RoaXMudS5KYih0aGlzLnBhdGgsYSxiLGliKGQsYykpO3JldHVybiBkLnJhfTtcbmcucmVtb3ZlPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7bWYoXCJGaXJlYmFzZS5yZW1vdmVcIix0aGlzLnBhdGgpO0EoXCJGaXJlYmFzZS5yZW1vdmVcIiwxLGEsITApO3JldHVybiB0aGlzLnNldChudWxsLGEpfTtcbmcudHJhbnNhY3Rpb249ZnVuY3Rpb24oYSxiLGMpe3goXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsdGhpcy5wYXRoKTtBKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLGEsITEpO0EoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDIsYiwhMCk7aWYobihjKSYmXCJib29sZWFuXCIhPXR5cGVvZiBjKXRocm93IEVycm9yKHkoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDMsITApK1wibXVzdCBiZSBhIGJvb2xlYW4uXCIpO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5nZXRLZXkoKXx8XCIua2V5c1wiPT09dGhpcy5nZXRLZXkoKSl0aHJvd1wiRmlyZWJhc2UudHJhbnNhY3Rpb24gZmFpbGVkOiBcIit0aGlzLmdldEtleSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIjtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGMmJihjPSEwKTt2YXIgZD1uZXcgaGI7aGEoYikmJmpiKGQucmEpO0ZoKHRoaXMudSx0aGlzLnBhdGgsYSxmdW5jdGlvbihhLGMsaCl7YT9cbmQucmVqZWN0KGEpOmQucmVzb2x2ZShuZXcgcGIoYyxoKSk7aGEoYikmJmIoYSxjLGgpfSxjKTtyZXR1cm4gZC5yYX07Zy5rZz1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTttZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsdGhpcy5wYXRoKTtoZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMSxhKTtBKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwyLGIsITApO3ZhciBjPW5ldyBoYjt0aGlzLnUuSmIodGhpcy5wYXRoLm4oXCIucHJpb3JpdHlcIiksYSxudWxsLGliKGMsYikpO3JldHVybiBjLnJhfTtcbmcucHVzaD1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5wdXNoXCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO21mKFwiRmlyZWJhc2UucHVzaFwiLHRoaXMucGF0aCk7ZGYoXCJGaXJlYmFzZS5wdXNoXCIsYSx0aGlzLnBhdGgsITApO0EoXCJGaXJlYmFzZS5wdXNoXCIsMixiLCEwKTt2YXIgYz16aCh0aGlzLnUpLGQ9dWYoYyksYz10aGlzLm4oZCk7aWYobnVsbCE9YSl7dmFyIGU9dGhpcyxmPWMuc2V0KGEsYikudGhlbihmdW5jdGlvbigpe3JldHVybiBlLm4oZCl9KTtjLnRoZW49cShmLnRoZW4sZik7Y1tcImNhdGNoXCJdPXEoZi50aGVuLGYsdm9pZCAwKTtoYShiKSYmamIoZil9cmV0dXJuIGN9O2cuaWI9ZnVuY3Rpb24oKXttZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdFwiLHRoaXMucGF0aCk7cmV0dXJuIG5ldyBWKHRoaXMudSx0aGlzLnBhdGgpfTtVLnByb3RvdHlwZS5jaGlsZD1VLnByb3RvdHlwZS5uO1UucHJvdG90eXBlLnNldD1VLnByb3RvdHlwZS5zZXQ7VS5wcm90b3R5cGUudXBkYXRlPVUucHJvdG90eXBlLnVwZGF0ZTtcblUucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1VLnByb3RvdHlwZS5KYjtVLnByb3RvdHlwZS5yZW1vdmU9VS5wcm90b3R5cGUucmVtb3ZlO1UucHJvdG90eXBlLnRyYW5zYWN0aW9uPVUucHJvdG90eXBlLnRyYW5zYWN0aW9uO1UucHJvdG90eXBlLnNldFByaW9yaXR5PVUucHJvdG90eXBlLmtnO1UucHJvdG90eXBlLnB1c2g9VS5wcm90b3R5cGUucHVzaDtVLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3Q9VS5wcm90b3R5cGUuaWI7TGMoVS5wcm90b3R5cGUsXCJkYXRhYmFzZVwiLFUucHJvdG90eXBlLkdmKTtMYyhVLnByb3RvdHlwZSxcImtleVwiLFUucHJvdG90eXBlLmdldEtleSk7TGMoVS5wcm90b3R5cGUsXCJwYXJlbnRcIixVLnByb3RvdHlwZS5nZXRQYXJlbnQpO0xjKFUucHJvdG90eXBlLFwicm9vdFwiLFUucHJvdG90eXBlLk9mKTtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGZpcmViYXNlKXRocm93IEVycm9yKFwiQ2Fubm90IGluc3RhbGwgRmlyZWJhc2UgRGF0YWJhc2UgLSBiZSBzdXJlIHRvIGxvYWQgZmlyZWJhc2UtYXBwLmpzIGZpcnN0LlwiKTtcbnRyeXtmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlclNlcnZpY2UoXCJkYXRhYmFzZVwiLGZ1bmN0aW9uKGEpe3ZhciBiPVllLlZiKCksYz1hLm9wdGlvbnMuZGF0YWJhc2VVUkw7bihjKXx8QWMoXCJDYW4ndCBkZXRlcm1pbmUgRmlyZWJhc2UgRGF0YWJhc2UgVVJMLiAgQmUgc3VyZSB0byBpbmNsdWRlIGRhdGFiYXNlVVJMIG9wdGlvbiB3aGVuIGNhbGxpbmcgZmlyZWJhc2UuaW50aWFsaXplQXBwKCkuXCIpO3ZhciBkPUJjKGMpLGM9ZC5qYztYZShcIkludmFsaWQgRmlyZWJhc2UgRGF0YWJhc2UgVVJMXCIsZCk7ZC5wYXRoLmUoKXx8QWMoXCJEYXRhYmFzZSBVUkwgbXVzdCBwb2ludCB0byB0aGUgcm9vdCBvZiBhIEZpcmViYXNlIERhdGFiYXNlIChub3QgaW5jbHVkaW5nIGEgY2hpbGQgcGF0aCkuXCIpOyhkPXcoYi5sYixhLm5hbWUpKSYmQWMoXCJGSVJFQkFTRSBJTlRFUk5BTCBFUlJPUjogRGF0YWJhc2UgaW5pdGlhbGl6ZWQgbXVsdGlwbGUgdGltZXMuXCIpO2Q9bmV3IFRlKGMsYi53ZixhKTtiLmxiW2EubmFtZV09XG5kO3JldHVybiBkLllhfSx7UmVmZXJlbmNlOlUsUXVlcnk6WCxEYXRhYmFzZTpTZSxlbmFibGVMb2dnaW5nOnhjLElOVEVSTkFMOlksVEVTVF9BQ0NFU1M6WixTZXJ2ZXJWYWx1ZTpWZX0pfWNhdGNoKE9oKXtBYyhcIkZhaWxlZCB0byByZWdpc3RlciB0aGUgRmlyZWJhc2UgRGF0YWJhc2UgU2VydmljZSAoXCIrT2grXCIpXCIpfTt9KSgpO1xuXG59KS5jYWxsKGdsb2JhbCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlLmRhdGFiYXNlO1xuIiwiLyoqXG4gKiAgRmlyZWJhc2UgbGlicmFyaWVzIGZvciBicm93c2VyIC0gbnBtIHBhY2thZ2UuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogICBmaXJlYmFzZSA9IHJlcXVpcmUoJ2ZpcmViYXNlJyk7XG4gKi9cbnZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJy4vYXBwJyk7XG5yZXF1aXJlKCcuL2F1dGgnKTtcbnJlcXVpcmUoJy4vZGF0YWJhc2UnKTtcbnJlcXVpcmUoJy4vc3RvcmFnZScpO1xucmVxdWlyZSgnLi9tZXNzYWdpbmcnKTtcbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2U7XG4iLCJ2YXIgZmlyZWJhc2UgPSByZXF1aXJlKCcuL2FwcCcpO1xuKGZ1bmN0aW9uKCl7XG4vKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjMuNi4zXG4gICAgQnVpbGQ6IDMuNi4zLXJjLjZcbiAgICBUZXJtczogaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL3Rlcm1zLyAqL1xuKGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2Zvcih2YXIgZCBpbiBiKWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKXt2YXIgZj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsZCk7ZiYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZCxmKX1lbHNlIGFbZF09YltkXX0sZz10aGlzLGg9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT1cbnR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LGs9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuZ2E9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5jYT1mdW5jdGlvbihhLGMscCl7Zm9yKHZhciBkPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksZj0yO2Y8YXJndW1lbnRzLmxlbmd0aDtmKyspZFtmLTJdPWFyZ3VtZW50c1tmXTtcbnJldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLGQpfX07dmFyIGw9e2M6XCJvbmx5LWF2YWlsYWJsZS1pbi13aW5kb3dcIixvOlwib25seS1hdmFpbGFibGUtaW4tc3dcIixPOlwic2hvdWxkLWJlLW92ZXJyaWRlblwiLGc6XCJiYWQtc2VuZGVyLWlkXCIsQzpcImluY29ycmVjdC1nY20tc2VuZGVyLWlkXCIsTTpcInBlcm1pc3Npb24tZGVmYXVsdFwiLEw6XCJwZXJtaXNzaW9uLWJsb2NrZWRcIixVOlwidW5zdXBwb3J0ZWQtYnJvd3NlclwiLEc6XCJub3RpZmljYXRpb25zLWJsb2NrZWRcIix3OlwiZmFpbGVkLXNlcnZpY2V3b3JrZXItcmVnaXN0cmF0aW9uXCIsaDpcInN3LXJlZ2lzdHJhdGlvbi1leHBlY3RlZFwiLEI6XCJnZXQtc3Vic2NyaXB0aW9uLWZhaWxlZFwiLEY6XCJpbnZhbGlkLXNhdmVkLXRva2VuXCIsbDpcInN3LXJlZy1yZWR1bmRhbnRcIixQOlwidG9rZW4tc3Vic2NyaWJlLWZhaWxlZFwiLFM6XCJ0b2tlbi1zdWJzY3JpYmUtbm8tdG9rZW5cIixSOlwidG9rZW4tc3Vic2NyaWJlLW5vLXB1c2gtc2V0XCIsVjpcInVzZS1zdy1iZWZvcmUtZ2V0LXRva2VuXCIsRDpcImludmFsaWQtZGVsZXRlLXRva2VuXCIsXG52OlwiZGVsZXRlLXRva2VuLW5vdC1mb3VuZFwiLHM6XCJiZy1oYW5kbGVyLWZ1bmN0aW9uLWV4cGVjdGVkXCIsSzpcIm5vLXdpbmRvdy1jbGllbnQtdG8tbXNnXCIsVDpcInVuYWJsZS10by1yZXN1YnNjcmliZVwiLEk6XCJuby1mY20tdG9rZW4tZm9yLXJlc3Vic2NyaWJlXCIsQTpcImZhaWxlZC10by1kZWxldGUtdG9rZW5cIixKOlwibm8tc3ctaW4tcmVnXCJ9LG49e30scT0obltsLmNdPVwiVGhpcyBtZXRob2QgaXMgYXZhaWxhYmxlIGluIGEgV2luZG93IGNvbnRleHQuXCIsbltsLm9dPVwiVGhpcyBtZXRob2QgaXMgYXZhaWxhYmxlIGluIGEgc2VydmljZSB3b3JrZXIgY29udGV4dC5cIixuW2wuT109XCJUaGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJpZGVuIGJ5IGV4dGVuZGVkIGNsYXNzZXMuXCIsbltsLmddPVwiUGxlYXNlIGVuc3VyZSB0aGF0ICdtZXNzYWdpbmdTZW5kZXJJZCcgaXMgc2V0IGNvcnJlY3RseSBpbiB0aGUgb3B0aW9ucyBwYXNzZWQgaW50byBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCkuXCIsbltsLk1dPVxuXCJUaGUgcmVxdWlyZWQgcGVybWlzc2lvbnMgd2VyZSBub3QgZ3JhbnRlZCBhbmQgZGlzbWlzc2VkIGluc3RlYWQuXCIsbltsLkxdPVwiVGhlIHJlcXVpcmVkIHBlcm1pc3Npb25zIHdlcmUgbm90IGdyYW50ZWQgYW5kIGJsb2NrZWQgaW5zdGVhZC5cIixuW2wuVV09XCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHRoZSBBUEkncyByZXF1aXJlZCB0byB1c2UgdGhlIGZpcmViYXNlIFNESy5cIixuW2wuR109XCJOb3RpZmljYXRpb25zIGhhdmUgYmVlbiBibG9ja2VkLlwiLG5bbC53XT1cIldlIGFyZSB1bmFibGUgdG8gcmVnaXN0ZXIgdGhlIGRlZmF1bHQgc2VydmljZSB3b3JrZXIuIHskYnJvd3NlckVycm9yTWVzc2FnZX1cIixuW2wuaF09XCJBIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiB3YXMgdGhlIGV4cGVjdGVkIGlucHV0LlwiLG5bbC5CXT1cIlRoZXJlIHdhcyBhbiBlcnJvciB3aGVuIHRyeWluZyB0byBnZXQgYW55IGV4aXN0aW5nIFB1c2ggU3Vic2NyaXB0aW9ucy5cIixuW2wuRl09XCJVbmFibGUgdG8gYWNjZXNzIGRldGFpbHMgb2YgdGhlIHNhdmVkIHRva2VuLlwiLFxubltsLmxdPVwiVGhlIHNlcnZpY2Ugd29ya2VyIGJlaW5nIHVzZWQgZm9yIHB1c2ggd2FzIG1hZGUgcmVkdW5kYW50LlwiLG5bbC5QXT1cIkEgcHJvYmxlbSBvY2N1cmVkIHdoaWxlIHN1YnNjcmliaW5nIHRoZSB1c2VyIHRvIEZDTTogeyRtZXNzYWdlfVwiLG5bbC5TXT1cIkZDTSByZXR1cm5lZCBubyB0b2tlbiB3aGVuIHN1YnNjcmliaW5nIHRoZSB1c2VyIHRvIHB1c2guXCIsbltsLlJdPVwiRkNNIHJldHVybmVkIGFuIGludmFsaWQgcmVzcG9uc2Ugd2hlbiBnZXR0aW5nIGFuIEZDTSB0b2tlbi5cIixuW2wuVl09XCJZb3UgbXVzdCBjYWxsIHVzZVNlcnZpY2VXb3JrZXIoKSBiZWZvcmUgY2FsbGluZyBnZXRUb2tlbigpIHRvIGVuc3VyZSB5b3VyIHNlcnZpY2Ugd29ya2VyIGlzIHVzZWQuXCIsbltsLkRdPVwiWW91IG11c3QgcGFzcyBhIHZhbGlkIHRva2VuIGludG8gZGVsZXRlVG9rZW4oKSwgaS5lLiB0aGUgdG9rZW4gZnJvbSBnZXRUb2tlbigpLlwiLG5bbC52XT1cIlRoZSBkZWxldGlvbiBhdHRlbXB0IGZvciB0b2tlbiBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGFzIHRoZSB0b2tlbiB3YXMgbm90IGZvdW5kLlwiLFxubltsLnNdPVwiVGhlIGlucHV0IHRvIHNldEJhY2tncm91bmRNZXNzYWdlSGFuZGxlcigpIG11c3QgYmUgYSBmdW5jdGlvbi5cIixuW2wuS109XCJBbiBhdHRlbXB0IHdhcyBtYWRlIHRvIG1lc3NhZ2UgYSBub24tZXhpc3RhbnQgd2luZG93IGNsaWVudC5cIixuW2wuVF09XCJUaGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgcmUtc3Vic2NyaWJpbmcgdGhlIEZDTSB0b2tlbiBmb3IgcHVzaCBtZXNzYWdpbmcuIFdpbGwgaGF2ZSB0byByZXN1YnNjcmliZSB0aGUgdXNlciBvbiBuZXh0IHZpc2l0LiB7JG1lc3NhZ2V9XCIsbltsLkldPVwiQ291bGQgbm90IGZpbmQgYW4gRkNNIHRva2VuIGFuZCBhcyBhIHJlc3VsdCwgdW5hYmxlIHRvIHJlc3Vic2NyaWJlLiBXaWxsIGhhdmUgdG8gcmVzdWJzY3JpYmUgdGhlIHVzZXIgb24gbmV4dCB2aXNpdC5cIixuW2wuQV09XCJVbmFibGUgdG8gZGVsZXRlIHRoZSBjdXJyZW50bHkgc2F2ZWQgdG9rZW4uXCIsbltsLkpdPVwiRXZlbiB0aG91Z2ggdGhlIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiB3YXMgc3VjY2Vzc2Z1bCwgdGhlcmUgd2FzIGEgcHJvYmxlbSBhY2Nlc3NpbmcgdGhlIHNlcnZpY2Ugd29ya2VyIGl0c2VsZi5cIixcbm5bbC5DXT1cIlBsZWFzZSBjaGFuZ2UgeW91ciB3ZWIgYXBwIG1hbmlmZXN0J3MgJ2djbV9zZW5kZXJfaWQnIHZhbHVlIHRvICcxMDM5NTM4MDA1MDcnIHRvIHVzZSBGaXJlYmFzZSBtZXNzYWdpbmcuXCIsbik7dmFyIHI9e3VzZXJWaXNpYmxlT25seTohMCxhcHBsaWNhdGlvblNlcnZlcktleTpuZXcgVWludDhBcnJheShbNCw1MSwxNDgsMjQ3LDIyMywxNjEsMjM1LDE3NywyMjAsMywxNjIsOTQsMjEsMTEzLDIxOSw3MiwyMTEsNDYsMjM3LDIzNywxNzgsNTIsMjE5LDE4Myw3MSw1OCwxMiwxNDMsMTk2LDIwNCwyMjUsMTExLDYwLDE0MCwxMzIsMjIzLDE3MSwxODIsMTAyLDYyLDI0MiwxMiwyMTIsMTM5LDI1NCwyMjcsMjQ5LDExOCw0NywyMCwyOCw5OSw4LDEwNiwxMTEsNDUsMTc3LDI2LDE0OSwxNzYsMjA2LDU1LDE5MiwxNTYsMTEwXSl9O3ZhciB0PXttOlwiZmlyZWJhc2UtbWVzc2FnaW5nLW1zZy10eXBlXCIsdTpcImZpcmViYXNlLW1lc3NhZ2luZy1tc2ctZGF0YVwifSx1PXtOOlwicHVzaC1tc2ctcmVjZWl2ZWRcIixIOlwibm90aWZpY2F0aW9uLWNsaWNrZWRcIn0sdz1mdW5jdGlvbihhLGIpe3ZhciBjPXt9O3JldHVybiBjW3QubV09YSxjW3QudV09YixjfTt2YXIgeD1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHgpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9O2soeCxFcnJvcik7dmFyIHk9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5zcGxpdChcIiVzXCIpLGQ9XCJcIixmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmLmxlbmd0aCYmMTxjLmxlbmd0aDspZCs9Yy5zaGlmdCgpK2Yuc2hpZnQoKTtyZXR1cm4gZCtjLmpvaW4oXCIlc1wiKX07dmFyIHo9ZnVuY3Rpb24oYSxiKXtiLnVuc2hpZnQoYSk7eC5jYWxsKHRoaXMseS5hcHBseShudWxsLGIpKTtiLnNoaWZ0KCl9O2soeix4KTt2YXIgQT1mdW5jdGlvbihhLGIsYyl7aWYoIWEpe3ZhciBkPVwiQXNzZXJ0aW9uIGZhaWxlZFwiO2lmKGIpdmFyIGQ9ZCsoXCI6IFwiK2IpLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3Rocm93IG5ldyB6KFwiXCIrZCxmfHxbXSk7fX07dmFyIEI9bnVsbDt2YXIgRD1mdW5jdGlvbihhKXthPW5ldyBVaW50OEFycmF5KGEpO3ZhciBiPWgoYSk7QShcImFycmF5XCI9PWJ8fFwib2JqZWN0XCI9PWImJlwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCxcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTtpZighQilmb3IoQj17fSxiPTA7NjU+YjtiKyspQltiXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGIpO2Zvcih2YXIgYj1CLGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCs9Myl7dmFyIGY9YVtkXSxwPWQrMTxhLmxlbmd0aCxtPXA/YVtkKzFdOjAsQz1kKzI8YS5sZW5ndGgsdj1DP2FbZCsyXTowLFA9Zj4+MixmPShmJjMpPDw0fG0+PjQsbT0obSYxNSk8PDJ8dj4+Nix2PXYmNjM7Q3x8KHY9NjQscHx8KG09NjQpKTtjLnB1c2goYltQXSxiW2ZdLGJbbV0sYlt2XSl9cmV0dXJuIGMuam9pbihcIlwiKS5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXG5cIl9cIikucmVwbGFjZSgvPSskLyxcIlwiKX07dmFyIEU9bmV3IGZpcmViYXNlLklOVEVSTkFMLkVycm9yRmFjdG9yeShcIm1lc3NhZ2luZ1wiLFwiTWVzc2FnaW5nXCIscSksRj1mdW5jdGlvbigpe3RoaXMuYT1udWxsfSxHPWZ1bmN0aW9uKGEpe2lmKGEuYSlyZXR1cm4gYS5hO2EuYT1uZXcgUHJvbWlzZShmdW5jdGlvbihhLGMpe3ZhciBiPWcuaW5kZXhlZERCLm9wZW4oXCJmY21fdG9rZW5fZGV0YWlsc19kYlwiLDEpO2Iub25lcnJvcj1mdW5jdGlvbihhKXtjKGEudGFyZ2V0LmVycm9yKX07Yi5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYil7YShiLnRhcmdldC5yZXN1bHQpfTtiLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihhKXthPWEudGFyZ2V0LnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZShcImZjbV90b2tlbl9vYmplY3RfU3RvcmVcIix7a2V5UGF0aDpcInN3U2NvcGVcIn0pO2EuY3JlYXRlSW5kZXgoXCJmY21TZW5kZXJJZFwiLFwiZmNtU2VuZGVySWRcIix7dW5pcXVlOiExfSk7YS5jcmVhdGVJbmRleChcImZjbVRva2VuXCIsXCJmY21Ub2tlblwiLHt1bmlxdWU6ITB9KX19KTtcbnJldHVybiBhLmF9LEg9ZnVuY3Rpb24oYSl7YS5hP2EuYS50aGVuKGZ1bmN0aW9uKGIpe2IuY2xvc2UoKTthLmE9bnVsbH0pOlByb21pc2UucmVzb2x2ZSgpfSxJPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEcoYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxmKXt2YXIgZD1hLnRyYW5zYWN0aW9uKFtcImZjbV90b2tlbl9vYmplY3RfU3RvcmVcIl0pLm9iamVjdFN0b3JlKFwiZmNtX3Rva2VuX29iamVjdF9TdG9yZVwiKS5pbmRleChcImZjbVRva2VuXCIpLmdldChiKTtkLm9uZXJyb3I9ZnVuY3Rpb24oYSl7ZihhLnRhcmdldC5lcnJvcil9O2Qub25zdWNjZXNzPWZ1bmN0aW9uKGEpe2MoYS50YXJnZXQucmVzdWx0KX19KX0pfSxKPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEcoYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxmKXt2YXIgZD1bXSxtPWEudHJhbnNhY3Rpb24oW1wiZmNtX3Rva2VuX29iamVjdF9TdG9yZVwiXSkub2JqZWN0U3RvcmUoXCJmY21fdG9rZW5fb2JqZWN0X1N0b3JlXCIpLm9wZW5DdXJzb3IoKTtcbm0ub25lcnJvcj1mdW5jdGlvbihhKXtmKGEudGFyZ2V0LmVycm9yKX07bS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7KGE9YS50YXJnZXQucmVzdWx0KT8oYS52YWx1ZS5mY21TZW5kZXJJZD09PWImJmQucHVzaChhLnZhbHVlKSxhLmNvbnRpbnVlKCkpOmMoZCl9fSl9KX0sSz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9RChiLmdldEtleShcInAyNTZkaFwiKSksZj1EKGIuZ2V0S2V5KFwiYXV0aFwiKSk7YT1cImF1dGhvcml6ZWRfZW50aXR5PVwiK2ErXCImXCIrKFwiZW5kcG9pbnQ9XCIrYi5lbmRwb2ludCtcIiZcIikrKFwiZW5jcnlwdGlvbl9rZXk9XCIrZCtcIiZcIikrKFwiZW5jcnlwdGlvbl9hdXRoPVwiK2YpO2MmJihhKz1cIiZwdXNoU2V0PVwiK2MpO2M9bmV3IEhlYWRlcnM7Yy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKTtyZXR1cm4gZmV0Y2goXCJodHRwczovL2ZjbS5nb29nbGVhcGlzLmNvbS9mY20vY29ubmVjdC9zdWJzY3JpYmVcIix7bWV0aG9kOlwiUE9TVFwiLFxuaGVhZGVyczpjLGJvZHk6YX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuanNvbigpfSkudGhlbihmdW5jdGlvbihhKXtpZihhLmVycm9yKXRocm93IEUuY3JlYXRlKGwuUCx7bWVzc2FnZTphLmVycm9yLm1lc3NhZ2V9KTtpZighYS50b2tlbil0aHJvdyBFLmNyZWF0ZShsLlMpO2lmKCFhLnB1c2hTZXQpdGhyb3cgRS5jcmVhdGUobC5SKTtyZXR1cm57dG9rZW46YS50b2tlbixwdXNoU2V0OmEucHVzaFNldH19KX0sTD1mdW5jdGlvbihhLGIsYyxkLGYscCl7dmFyIG09e3N3U2NvcGU6Yy5zY29wZSxlbmRwb2ludDpkLmVuZHBvaW50LGF1dGg6RChkLmdldEtleShcImF1dGhcIikpLHAyNTZkaDpEKGQuZ2V0S2V5KFwicDI1NmRoXCIpKSxmY21Ub2tlbjpmLGZjbVB1c2hTZXQ6cCxmY21TZW5kZXJJZDpifTtyZXR1cm4gRyhhKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGMpe3ZhciBkPWEudHJhbnNhY3Rpb24oW1wiZmNtX3Rva2VuX29iamVjdF9TdG9yZVwiXSxcblwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwiZmNtX3Rva2VuX29iamVjdF9TdG9yZVwiKS5wdXQobSk7ZC5vbmVycm9yPWZ1bmN0aW9uKGEpe2MoYS50YXJnZXQuZXJyb3IpfTtkLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2IoKX19KX0pfTtcbkYucHJvdG90eXBlLlg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiBpbnN0YW5jZW9mIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24/XCJzdHJpbmdcIiE9PXR5cGVvZiBhfHwwPT09YS5sZW5ndGg/UHJvbWlzZS5yZWplY3QoRS5jcmVhdGUobC5nKSk6Sih0aGlzLGEpLnRoZW4oZnVuY3Rpb24oYyl7aWYoMCE9PWMubGVuZ3RoKXt2YXIgZD1jLmZpbmRJbmRleChmdW5jdGlvbihjKXtyZXR1cm4gYi5zY29wZT09PWMuc3dTY29wZSYmYT09PWMuZmNtU2VuZGVySWR9KTtpZigtMSE9PWQpcmV0dXJuIGNbZF19fSkudGhlbihmdW5jdGlvbihhKXtpZihhKXJldHVybiBiLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpLmNhdGNoKGZ1bmN0aW9uKCl7dGhyb3cgRS5jcmVhdGUobC5CKTt9KS50aGVuKGZ1bmN0aW9uKGIpe3ZhciBjO2lmKGM9YiljPWIuZW5kcG9pbnQ9PT1hLmVuZHBvaW50JiZEKGIuZ2V0S2V5KFwiYXV0aFwiKSk9PT1hLmF1dGgmJkQoYi5nZXRLZXkoXCJwMjU2ZGhcIikpPT09YS5wMjU2ZGg7XG5pZihjKXJldHVybiBhLmZjbVRva2VufSl9KTpQcm9taXNlLnJlamVjdChFLmNyZWF0ZShsLmgpKX07Ri5wcm90b3R5cGUuZ2V0U2F2ZWRUb2tlbj1GLnByb3RvdHlwZS5YO0YucHJvdG90eXBlLlc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVyblwic3RyaW5nXCIhPT10eXBlb2YgYXx8MD09PWEubGVuZ3RoP1Byb21pc2UucmVqZWN0KEUuY3JlYXRlKGwuZykpOmIgaW5zdGFuY2VvZiBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uP2IucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmIucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHIpfSkudGhlbihmdW5jdGlvbihkKXtyZXR1cm4gSyhhLGQpLnRoZW4oZnVuY3Rpb24oZil7cmV0dXJuIEwoYyxhLGIsZCxmLnRva2VuLGYucHVzaFNldCkudGhlbihmdW5jdGlvbigpe3JldHVybiBmLnRva2VufSl9KX0pOlByb21pc2UucmVqZWN0KEUuY3JlYXRlKGwuaCkpfTtcbkYucHJvdG90eXBlLmNyZWF0ZVRva2VuPUYucHJvdG90eXBlLlc7Ri5wcm90b3R5cGUuZGVsZXRlVG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm5cInN0cmluZ1wiIT09dHlwZW9mIGF8fDA9PT1hLmxlbmd0aD9Qcm9taXNlLnJlamVjdChFLmNyZWF0ZShsLkQpKTpJKHRoaXMsYSkudGhlbihmdW5jdGlvbihhKXtpZighYSl0aHJvdyBFLmNyZWF0ZShsLnYpO3JldHVybiBHKGIpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZCl7dmFyIGY9Yi50cmFuc2FjdGlvbihbXCJmY21fdG9rZW5fb2JqZWN0X1N0b3JlXCJdLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwiZmNtX3Rva2VuX29iamVjdF9TdG9yZVwiKS5kZWxldGUoYS5zd1Njb3BlKTtmLm9uZXJyb3I9ZnVuY3Rpb24oYSl7ZChhLnRhcmdldC5lcnJvcil9O2Yub25zdWNjZXNzPWZ1bmN0aW9uKGIpezA9PT1iLnRhcmdldC5yZXN1bHQ/ZChFLmNyZWF0ZShsLkEpKTpjKGEpfX0pfSl9KX07dmFyIE09ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLmE9bmV3IGZpcmViYXNlLklOVEVSTkFMLkVycm9yRmFjdG9yeShcIm1lc3NhZ2luZ1wiLFwiTWVzc2FnaW5nXCIscSk7aWYoIWEub3B0aW9ucy5tZXNzYWdpbmdTZW5kZXJJZHx8XCJzdHJpbmdcIiE9PXR5cGVvZiBhLm9wdGlvbnMubWVzc2FnaW5nU2VuZGVySWQpdGhyb3cgdGhpcy5hLmNyZWF0ZShsLmcpO3RoaXMuWj1hLm9wdGlvbnMubWVzc2FnaW5nU2VuZGVySWQ7dGhpcy5mPW5ldyBGO3RoaXMuYXBwPWE7dGhpcy5JTlRFUk5BTD17fTt0aGlzLklOVEVSTkFMLmRlbGV0ZT1mdW5jdGlvbigpe3JldHVybiBiLmRlbGV0ZX19O1xuTS5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9Tm90aWZpY2F0aW9uLnBlcm1pc3Npb247cmV0dXJuXCJncmFudGVkXCIhPT1iP1wiZGVuaWVkXCI9PT1iP1Byb21pc2UucmVqZWN0KHRoaXMuYS5jcmVhdGUobC5HKSk6UHJvbWlzZS5yZXNvbHZlKG51bGwpOnRoaXMuaSgpLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGEuZi5YKGEuWixiKS50aGVuKGZ1bmN0aW9uKGMpe3JldHVybiBjP2M6YS5mLlcoYS5aLGIpfSl9KX07TS5wcm90b3R5cGUuZ2V0VG9rZW49TS5wcm90b3R5cGUuZ2V0VG9rZW47TS5wcm90b3R5cGUuZGVsZXRlVG9rZW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5mLmRlbGV0ZVRva2VuKGEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYi5pKCl9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhP2EucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCk6bnVsbH0pLnRoZW4oZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gYS51bnN1YnNjcmliZSgpfSl9O1xuTS5wcm90b3R5cGUuZGVsZXRlVG9rZW49TS5wcm90b3R5cGUuZGVsZXRlVG9rZW47TS5wcm90b3R5cGUuaT1mdW5jdGlvbigpe3Rocm93IHRoaXMuYS5jcmVhdGUobC5PKTt9O00ucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7dGhyb3cgdGhpcy5hLmNyZWF0ZShsLmMpO307TS5wcm90b3R5cGUudXNlU2VydmljZVdvcmtlcj1mdW5jdGlvbigpe3Rocm93IHRoaXMuYS5jcmVhdGUobC5jKTt9O00ucHJvdG90eXBlLnVzZVNlcnZpY2VXb3JrZXI9TS5wcm90b3R5cGUudXNlU2VydmljZVdvcmtlcjtNLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oKXt0aHJvdyB0aGlzLmEuY3JlYXRlKGwuYyk7fTtNLnByb3RvdHlwZS5vbk1lc3NhZ2U9TS5wcm90b3R5cGUub25NZXNzYWdlO00ucHJvdG90eXBlLm9uVG9rZW5SZWZyZXNoPWZ1bmN0aW9uKCl7dGhyb3cgdGhpcy5hLmNyZWF0ZShsLmMpO307TS5wcm90b3R5cGUub25Ub2tlblJlZnJlc2g9TS5wcm90b3R5cGUub25Ub2tlblJlZnJlc2g7XG5NLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXI9ZnVuY3Rpb24oKXt0aHJvdyB0aGlzLmEuY3JlYXRlKGwubyk7fTtNLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXI9TS5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyO00ucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe0godGhpcy5mKX07dmFyIE49c2VsZixTPWZ1bmN0aW9uKGEpe00uY2FsbCh0aGlzLGEpO3ZhciBiPXRoaXM7dGhpcy5hPW5ldyBmaXJlYmFzZS5JTlRFUk5BTC5FcnJvckZhY3RvcnkoXCJtZXNzYWdpbmdcIixcIk1lc3NhZ2luZ1wiLHEpO04uYWRkRXZlbnRMaXN0ZW5lcihcInB1c2hcIixmdW5jdGlvbihhKXtyZXR1cm4gTyhiLGEpfSwhMSk7Ti5hZGRFdmVudExpc3RlbmVyKFwicHVzaHN1YnNjcmlwdGlvbmNoYW5nZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBRKGIsYSl9LCExKTtOLmFkZEV2ZW50TGlzdGVuZXIoXCJub3RpZmljYXRpb25jbGlja1wiLGZ1bmN0aW9uKGEpe3JldHVybiBSKGIsYSl9LCExKTt0aGlzLmI9bnVsbH07ZShTLE0pO1xudmFyIE89ZnVuY3Rpb24oYSxiKXt2YXIgYzt0cnl7Yz1iLmRhdGEuanNvbigpfWNhdGNoKGYpe3JldHVybn12YXIgZD1UKCkudGhlbihmdW5jdGlvbihiKXtpZihiKXtpZihjLm5vdGlmaWNhdGlvbnx8YS5iKXJldHVybiBVKGEsYyl9ZWxzZXtpZigoYj1jKSYmXCJvYmplY3RcIj09PXR5cGVvZiBiLm5vdGlmaWNhdGlvbil7dmFyIGQ9T2JqZWN0LmFzc2lnbih7fSxiLm5vdGlmaWNhdGlvbiksZj17fTtkLmRhdGE9KGYuRkNNX01TRz1iLGYpO2I9ZH1lbHNlIGI9dm9pZCAwO2lmKGIpcmV0dXJuIE4ucmVnaXN0cmF0aW9uLnNob3dOb3RpZmljYXRpb24oYi50aXRsZXx8XCJcIixiKTtpZihhLmIpcmV0dXJuIGEuYihjKX19KTtiLndhaXRVbnRpbChkKX0sUT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uKGIpe2lmKCFiKXRocm93IGEuYS5jcmVhdGUobC5JKTt2YXIgYz1hLmY7cmV0dXJuIEkoYyxiKS50aGVuKGZ1bmN0aW9uKGIpe2lmKCFiKXRocm93IGEuYS5jcmVhdGUobC5GKTtcbnJldHVybiBOLnJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUocikudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gSyhiLmVhLGEsYi5kYSl9KS5jYXRjaChmdW5jdGlvbihkKXtyZXR1cm4gYy5kZWxldGVUb2tlbihiLmZhKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgYS5hLmNyZWF0ZShsLlQse21lc3NhZ2U6ZH0pO30pfSl9KX0pO2Iud2FpdFVudGlsKGMpfSxSPWZ1bmN0aW9uKGEsYil7aWYoYi5ub3RpZmljYXRpb24mJmIubm90aWZpY2F0aW9uLmRhdGEmJmIubm90aWZpY2F0aW9uLmRhdGEuRkNNX01TRyl7Yi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtiLm5vdGlmaWNhdGlvbi5jbG9zZSgpO3ZhciBjPWIubm90aWZpY2F0aW9uLmRhdGEuRkNNX01TRyxkPWMubm90aWZpY2F0aW9uLmNsaWNrX2FjdGlvbjtpZihkKXt2YXIgZj1WKGQpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpOLmNsaWVudHMub3BlbldpbmRvdyhkKX0pLnRoZW4oZnVuY3Rpb24oYil7aWYoYilyZXR1cm4gZGVsZXRlIGMubm90aWZpY2F0aW9uLFxuVyhhLGIsdyh1LkgsYykpfSk7Yi53YWl0VW50aWwoZil9fX07Uy5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyPWZ1bmN0aW9uKGEpe2lmKGEmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhKXRocm93IHRoaXMuYS5jcmVhdGUobC5zKTt0aGlzLmI9YX07Uy5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyPVMucHJvdG90eXBlLnNldEJhY2tncm91bmRNZXNzYWdlSGFuZGxlcjtcbnZhciBWPWZ1bmN0aW9uKGEpe3ZhciBiPShuZXcgVVJMKGEpKS5ocmVmO3JldHVybiBOLmNsaWVudHMubWF0Y2hBbGwoe3R5cGU6XCJ3aW5kb3dcIixpbmNsdWRlVW5jb250cm9sbGVkOiEwfSkudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGM9bnVsbCxmPTA7ZjxhLmxlbmd0aDtmKyspaWYoKG5ldyBVUkwoYVtmXS51cmwpKS5ocmVmPT09Yil7Yz1hW2ZdO2JyZWFrfWlmKGMpcmV0dXJuIGMuZm9jdXMoKSxjfSl9LFc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGYpe2lmKCFiKXJldHVybiBmKGEuYS5jcmVhdGUobC5LKSk7Yi5wb3N0TWVzc2FnZShjKTtkKCl9KX0sVD1mdW5jdGlvbigpe3JldHVybiBOLmNsaWVudHMubWF0Y2hBbGwoe3R5cGU6XCJ3aW5kb3dcIixpbmNsdWRlVW5jb250cm9sbGVkOiEwfSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYS5zb21lKGZ1bmN0aW9uKGEpe3JldHVyblwidmlzaWJsZVwiPT09YS52aXNpYmlsaXR5U3RhdGV9KX0pfSxcblU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTi5jbGllbnRzLm1hdGNoQWxsKHt0eXBlOlwid2luZG93XCIsaW5jbHVkZVVuY29udHJvbGxlZDohMH0pLnRoZW4oZnVuY3Rpb24oYyl7dmFyIGQ9dyh1Lk4sYik7cmV0dXJuIFByb21pc2UuYWxsKGMubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBXKGEsYixkKX0pKX0pfTtTLnByb3RvdHlwZS5pPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShOLnJlZ2lzdHJhdGlvbil9O3ZhciBZPWZ1bmN0aW9uKGEpe00uY2FsbCh0aGlzLGEpO3ZhciBiPXRoaXM7dGhpcy5ZPW51bGw7dGhpcy4kPWZpcmViYXNlLklOVEVSTkFMLmNyZWF0ZVN1YnNjcmliZShmdW5jdGlvbihhKXtiLlk9YX0pO3RoaXMuYmE9bnVsbDt0aGlzLmFhPWZpcmViYXNlLklOVEVSTkFMLmNyZWF0ZVN1YnNjcmliZShmdW5jdGlvbihhKXtiLmJhPWF9KTtYKHRoaXMpfTtlKFksTSk7XG5ZLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuXCJzZXJ2aWNlV29ya2VyXCJpbiBuYXZpZ2F0b3ImJlwiUHVzaE1hbmFnZXJcImluIHdpbmRvdyYmXCJOb3RpZmljYXRpb25cImluIHdpbmRvdyYmU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJzaG93Tm90aWZpY2F0aW9uXCIpJiZQdXNoU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcImdldEtleVwiKT9hYSh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIE0ucHJvdG90eXBlLmdldFRva2VuLmNhbGwoYSl9KTpQcm9taXNlLnJlamVjdCh0aGlzLmEuY3JlYXRlKGwuVSkpfTtZLnByb3RvdHlwZS5nZXRUb2tlbj1ZLnByb3RvdHlwZS5nZXRUb2tlbjtcbnZhciBhYT1mdW5jdGlvbihhKXtpZihhLmopcmV0dXJuIGEuajt2YXIgYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD1cIm1hbmlmZXN0XCJdJyk7Yj9hLmo9ZmV0Y2goYi5ocmVmKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmpzb24oKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSkudGhlbihmdW5jdGlvbihiKXtpZihiJiZiLmdjbV9zZW5kZXJfaWQmJlwiMTAzOTUzODAwNTA3XCIhPT1iLmdjbV9zZW5kZXJfaWQpdGhyb3cgYS5hLmNyZWF0ZShsLkMpO30pOmEuaj1Qcm9taXNlLnJlc29sdmUoKTtyZXR1cm4gYS5qfTtcblkucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm5cImdyYW50ZWRcIj09PU5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uP1Byb21pc2UucmVzb2x2ZSgpOm5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9ZnVuY3Rpb24oZCl7cmV0dXJuXCJncmFudGVkXCI9PT1kP2IoKTpcImRlbmllZFwiPT09ZD9jKGEuYS5jcmVhdGUobC5MKSk6YyhhLmEuY3JlYXRlKGwuTSkpfSxmPU5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihmdW5jdGlvbihhKXtmfHxkKGEpfSk7ZiYmZi50aGVuKGQpfSl9O1kucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uPVkucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uO1xuWS5wcm90b3R5cGUudXNlU2VydmljZVdvcmtlcj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSl0aHJvdyB0aGlzLmEuY3JlYXRlKGwuaCk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB0aGlzLmIpdGhyb3cgdGhpcy5hLmNyZWF0ZShsLlYpO3RoaXMuYj1hfTtZLnByb3RvdHlwZS51c2VTZXJ2aWNlV29ya2VyPVkucHJvdG90eXBlLnVzZVNlcnZpY2VXb3JrZXI7WS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy4kKGEsYixjKX07WS5wcm90b3R5cGUub25NZXNzYWdlPVkucHJvdG90eXBlLm9uTWVzc2FnZTtZLnByb3RvdHlwZS5vblRva2VuUmVmcmVzaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWEoYSxiLGMpfTtZLnByb3RvdHlwZS5vblRva2VuUmVmcmVzaD1ZLnByb3RvdHlwZS5vblRva2VuUmVmcmVzaDtcbnZhciBaPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5pbnN0YWxsaW5nfHxiLndhaXRpbmd8fGIuYWN0aXZlO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGYpe2lmKGMpaWYoXCJhY3RpdmF0ZWRcIj09PWMuc3RhdGUpZChiKTtlbHNlIGlmKFwicmVkdW5kYW50XCI9PT1jLnN0YXRlKWYoYS5hLmNyZWF0ZShsLmwpKTtlbHNle3ZhciBwPWZ1bmN0aW9uKCl7aWYoXCJhY3RpdmF0ZWRcIj09PWMuc3RhdGUpZChiKTtlbHNlIGlmKFwicmVkdW5kYW50XCI9PT1jLnN0YXRlKWYoYS5hLmNyZWF0ZShsLmwpKTtlbHNlIHJldHVybjtjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLHApfTtjLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLHApfWVsc2UgZihhLmEuY3JlYXRlKGwuSikpfSl9O1xuWS5wcm90b3R5cGUuaT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYodGhpcy5iKXJldHVybiBaKHRoaXMsdGhpcy5iKTt0aGlzLmI9bnVsbDtyZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCIvZmlyZWJhc2UtbWVzc2FnaW5nLXN3LmpzXCIse3Njb3BlOlwiL2ZpcmViYXNlLWNsb3VkLW1lc3NhZ2luZy1wdXNoLXNjb3BlXCJ9KS5jYXRjaChmdW5jdGlvbihiKXt0aHJvdyBhLmEuY3JlYXRlKGwudyx7YnJvd3NlckVycm9yTWVzc2FnZTpiLm1lc3NhZ2V9KTt9KS50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBaKGEsYikudGhlbihmdW5jdGlvbigpe2EuYj1iO2IudXBkYXRlKCk7cmV0dXJuIGJ9KX0pfTtcbnZhciBYPWZ1bmN0aW9uKGEpe1wic2VydmljZVdvcmtlclwiaW4gbmF2aWdhdG9yJiZuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGIpe2lmKGIuZGF0YSYmYi5kYXRhW3QubV0pc3dpdGNoKGI9Yi5kYXRhLGJbdC5tXSl7Y2FzZSB1Lk46Y2FzZSB1Lkg6YS5ZLm5leHQoYlt0LnVdKX19LCExKX07aWYoIShmaXJlYmFzZSYmZmlyZWJhc2UuSU5URVJOQUwmJmZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyU2VydmljZSkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgaW5zdGFsbCBGaXJlYmFzZSBNZXNzYWdpbmcgLSBiZSBzdXJlIHRvIGxvYWQgZmlyZWJhc2UtYXBwLmpzIGZpcnN0LlwiKTtmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlclNlcnZpY2UoXCJtZXNzYWdpbmdcIixmdW5jdGlvbihhKXtyZXR1cm4gc2VsZiYmXCJTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGVcImluIHNlbGY/bmV3IFMoYSk6bmV3IFkoYSl9LHtNZXNzYWdpbmc6WX0pO30pLmNhbGwodGhpcyk7XG59KS5jYWxsKGdsb2JhbCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpcmViYXNlLm1lc3NhZ2luZztcbiIsInZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJy4vYXBwJyk7XG4oZnVuY3Rpb24oKXtcbi8qISBAbGljZW5zZSBGaXJlYmFzZSB2My42LjNcbiAgICBCdWlsZDogMy42LjMtcmMuNlxuICAgIFRlcm1zOiBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vdGVybXMvICovXG4oZnVuY3Rpb24oKXt2YXIgayxsPXRoaXMsbj1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT09YX0sYWE9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJlxuIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9LHA9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9LGJhPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLnNhPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucmE9ZnVuY3Rpb24oYSxjLGYpe2Zvcih2YXIgZD1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWRbZS0yXT1hcmd1bWVudHNbZV07cmV0dXJuIGIucHJvdG90eXBlW2NdLmFwcGx5KGEsZCl9fTt2YXIgY2E9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXt6fHwoej0hMCxiLmFwcGx5KG51bGwsYXJndW1lbnRzKSl9ZnVuY3Rpb24gZShiKXttPXNldFRpbWVvdXQoZnVuY3Rpb24oKXttPW51bGw7YShmLDI9PT1DKX0sYil9ZnVuY3Rpb24gZihhLGIpe2lmKCF6KWlmKGEpZC5hcHBseShudWxsLGFyZ3VtZW50cyk7ZWxzZSBpZigyPT09Q3x8QilkLmFwcGx5KG51bGwsYXJndW1lbnRzKTtlbHNlezY0PmgmJihoKj0yKTt2YXIgYzsxPT09Qz8oQz0yLGM9MCk6Yz0xRTMqKGgrTWF0aC5yYW5kb20oKSk7ZShjKX19ZnVuY3Rpb24gZyhhKXtOYXx8KE5hPSEwLHp8fChudWxsIT09bT8oYXx8KEM9MiksY2xlYXJUaW1lb3V0KG0pLGUoMCkpOmF8fChDPTEpKSl9dmFyIGg9MSxtPW51bGwsQj0hMSxDPTAsej0hMSxOYT0hMTtlKDApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtCPSEwO2coITApfSxjKTtyZXR1cm4gZ307dmFyIHE9XCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbVwiO3ZhciByPWZ1bmN0aW9uKGEsYil7dGhpcy5jb2RlPVwic3RvcmFnZS9cIithO3RoaXMubWVzc2FnZT1cIkZpcmViYXNlIFN0b3JhZ2U6IFwiK2I7dGhpcy5zZXJ2ZXJSZXNwb25zZT1udWxsO3RoaXMubmFtZT1cIkZpcmViYXNlRXJyb3JcIn07YmEocixFcnJvcik7XG52YXIgZGE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIoXCJ1bmtub3duXCIsXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgY2hlY2sgdGhlIGVycm9yIHBheWxvYWQgZm9yIHNlcnZlciByZXNwb25zZS5cIil9LGVhPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKFwiY2FuY2VsZWRcIixcIlVzZXIgY2FuY2VsZWQgdGhlIHVwbG9hZC9kb3dubG9hZC5cIil9LGZhPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKFwiY2Fubm90LXNsaWNlLWJsb2JcIixcIkNhbm5vdCBzbGljZSBibG9iIGZvciB1cGxvYWQuIFBsZWFzZSByZXRyeSB0aGUgdXBsb2FkLlwiKX0sZ2E9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgcihcImludmFsaWQtYXJndW1lbnRcIixcIkludmFsaWQgYXJndW1lbnQgaW4gYFwiK2IrXCJgIGF0IGluZGV4IFwiK2ErXCI6IFwiK2MpfSxoYT1mdW5jdGlvbigpe3JldHVybiBuZXcgcihcImFwcC1kZWxldGVkXCIsXCJUaGUgRmlyZWJhc2UgYXBwIHdhcyBkZWxldGVkLlwiKX0sdD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgcihcImludmFsaWQtZm9ybWF0XCIsXG5cIlN0cmluZyBkb2VzIG5vdCBtYXRjaCBmb3JtYXQgJ1wiK2ErXCInOiBcIitiKX0saWE9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IHIoXCJpbnRlcm5hbC1lcnJvclwiLFwiSW50ZXJuYWwgZXJyb3I6IFwiK2EpO307dmFyIGphPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJmIoYyxhW2NdKX0sa2E9ZnVuY3Rpb24oYSl7dmFyIGI9e307amEoYSxmdW5jdGlvbihhLGQpe2JbYV09ZH0pO3JldHVybiBifTt2YXIgbGE9ZnVuY3Rpb24oYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZSlyZXR1cm4gbmV3IGZpcmViYXNlLlByb21pc2UoYSk7dGhyb3cgRXJyb3IoXCJFcnJvciBpbiBGaXJlYmFzZSBTdG9yYWdlIC0gYmUgc3VyZSB0byBsb2FkIGZpcmViYXNlLWFwcC5qcyBmaXJzdC5cIik7fTt2YXIgdT1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmg9YTt0aGlzLmI9e307dGhpcy5tZXRob2Q9Yjt0aGlzLmhlYWRlcnM9e307dGhpcy5ib2R5PW51bGw7dGhpcy5qPWM7dGhpcy5sPXRoaXMuYT1udWxsO3RoaXMuYz1bMjAwXTt0aGlzLmc9W107dGhpcy50aW1lb3V0PWQ7dGhpcy5mPSEwfTt2YXIgbWE9e1NUQVRFX0NIQU5HRUQ6XCJzdGF0ZV9jaGFuZ2VkXCJ9LHY9e1JVTk5JTkc6XCJydW5uaW5nXCIsUEFVU0VEOlwicGF1c2VkXCIsU1VDQ0VTUzpcInN1Y2Nlc3NcIixDQU5DRUxFRDpcImNhbmNlbGVkXCIsRVJST1I6XCJlcnJvclwifSxuYT1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcInJ1bm5pbmdcIjpjYXNlIFwicGF1c2luZ1wiOmNhc2UgXCJjYW5jZWxpbmdcIjpyZXR1cm5cInJ1bm5pbmdcIjtjYXNlIFwicGF1c2VkXCI6cmV0dXJuXCJwYXVzZWRcIjtjYXNlIFwic3VjY2Vzc1wiOnJldHVyblwic3VjY2Vzc1wiO2Nhc2UgXCJjYW5jZWxlZFwiOnJldHVyblwiY2FuY2VsZWRcIjtjYXNlIFwiZXJyb3JcIjpyZXR1cm5cImVycm9yXCI7ZGVmYXVsdDpyZXR1cm5cImVycm9yXCJ9fTt2YXIgdz1mdW5jdGlvbihhKXtyZXR1cm4gbihhKSYmbnVsbCE9PWF9LG9hPWZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZ30scGE9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIEJsb2J9O3ZhciBxYT1mdW5jdGlvbihhKXtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHFhKTtlbHNle3ZhciBiPUVycm9yKCkuc3RhY2s7YiYmKHRoaXMuc3RhY2s9Yil9YSYmKHRoaXMubWVzc2FnZT1TdHJpbmcoYSkpfTtiYShxYSxFcnJvcik7dmFyIHNhPWZ1bmN0aW9uKGEsYil7dmFyIGM9cmE7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLGEpP2NbYV06Y1thXT1iKGEpfTt2YXIgdGE9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5zcGxpdChcIiVzXCIpLGQ9XCJcIixlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmxlbmd0aCYmMTxjLmxlbmd0aDspZCs9Yy5zaGlmdCgpK2Uuc2hpZnQoKTtyZXR1cm4gZCtjLmpvaW4oXCIlc1wiKX0sdWE9U3RyaW5nLnByb3RvdHlwZS50cmltP2Z1bmN0aW9uKGEpe3JldHVybiBhLnRyaW0oKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSx2YT1mdW5jdGlvbihhLGIpe3JldHVybiBhPGI/LTE6YT5iPzE6MH07dmFyIHg9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9W107QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYixhcmd1bWVudHMpO2ZpcmViYXNlLlByb21pc2UucmVzb2x2ZSghMCkudGhlbihmdW5jdGlvbigpe2EuYXBwbHkobnVsbCxiKX0pfX07dmFyIHk9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ1Y2tldD1hO3RoaXMucGF0aD1ifSx3YT1mdW5jdGlvbihhKXt2YXIgYj1lbmNvZGVVUklDb21wb25lbnQ7cmV0dXJuXCIvYi9cIitiKGEuYnVja2V0KStcIi9vL1wiK2IoYS5wYXRoKX0seGE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW51bGwsYz1be0s6L15nczpcXC9cXC8oW0EtWmEtejAtOS5cXC1dKykoXFwvKC4qKSk/JC9pLEc6e2J1Y2tldDoxLHBhdGg6M30sSjpmdW5jdGlvbihhKXtcIi9cIj09PWEucGF0aC5jaGFyQXQoYS5wYXRoLmxlbmd0aC0xKSYmKGEucGF0aD1hLnBhdGguc2xpY2UoMCwtMSkpfX0se0s6L15odHRwcz86XFwvXFwvZmlyZWJhc2VzdG9yYWdlXFwuZ29vZ2xlYXBpc1xcLmNvbVxcL3ZbQS1aYS16MC05X10rXFwvYlxcLyhbQS1aYS16MC05LlxcLV0rKVxcL28oXFwvKFtePyNdKikuKik/JC9pLEc6e2J1Y2tldDoxLHBhdGg6M30sSjpmdW5jdGlvbihhKXthLnBhdGg9ZGVjb2RlVVJJQ29tcG9uZW50KGEucGF0aCl9fV0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1cbmNbZF0sZj1lLksuZXhlYyhhKTtpZihmKXtiPWZbZS5HLmJ1Y2tldF07KGY9ZltlLkcucGF0aF0pfHwoZj1cIlwiKTtiPW5ldyB5KGIsZik7ZS5KKGIpO2JyZWFrfX1pZihudWxsPT1iKXRocm93IG5ldyByKFwiaW52YWxpZC11cmxcIixcIkludmFsaWQgVVJMICdcIithK1wiJy5cIik7cmV0dXJuIGJ9O3ZhciB5YT1mdW5jdGlvbihhLGIsYyl7XCJmdW5jdGlvblwiPT1hYShhKXx8dyhiKXx8dyhjKT8odGhpcy5jPWEsdGhpcy5hPWJ8fG51bGwsdGhpcy5iPWN8fG51bGwpOih0aGlzLmM9YS5uZXh0fHxudWxsLHRoaXMuYT1hLmVycm9yfHxudWxsLHRoaXMuYj1hLmNvbXBsZXRlfHxudWxsKX07dmFyIEE9e1JBVzpcInJhd1wiLEJBU0U2NDpcImJhc2U2NFwiLEJBU0U2NFVSTDpcImJhc2U2NHVybFwiLERBVEFfVVJMOlwiZGF0YV91cmxcIn0semE9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJyYXdcIjpjYXNlIFwiYmFzZTY0XCI6Y2FzZSBcImJhc2U2NHVybFwiOmNhc2UgXCJkYXRhX3VybFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3dcIkV4cGVjdGVkIG9uZSBvZiB0aGUgZXZlbnQgdHlwZXM6IFtyYXcsIGJhc2U2NCwgYmFzZTY0dXJsLCBkYXRhX3VybF0uXCI7fX0sQWE9ZnVuY3Rpb24oYSxiKXt0aGlzLmI9YTt0aGlzLmE9Ynx8bnVsbH0sRWE9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBcInJhd1wiOnJldHVybiBuZXcgQWEoQmEoYikpO2Nhc2UgXCJiYXNlNjRcIjpjYXNlIFwiYmFzZTY0dXJsXCI6cmV0dXJuIG5ldyBBYShDYShhLGIpKTtjYXNlIFwiZGF0YV91cmxcIjpyZXR1cm4gYT1uZXcgRGEoYiksYT1hLmE/Q2EoXCJiYXNlNjRcIixhLmMpOkJhKGEuYyksbmV3IEFhKGEsKG5ldyBEYShiKSkuYil9dGhyb3cgZGEoKTtcbn0sQmE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpO2lmKDEyNz49ZCliLnB1c2goZCk7ZWxzZSBpZigyMDQ3Pj1kKWIucHVzaCgxOTJ8ZD4+NiwxMjh8ZCY2Myk7ZWxzZSBpZig1NTI5Nj09KGQmNjQ1MTIpKWlmKGM8YS5sZW5ndGgtMSYmNTYzMjA9PShhLmNoYXJDb2RlQXQoYysxKSY2NDUxMikpe3ZhciBlPWEuY2hhckNvZGVBdCgrK2MpLGQ9NjU1MzZ8KGQmMTAyMyk8PDEwfGUmMTAyMztiLnB1c2goMjQwfGQ+PjE4LDEyOHxkPj4xMiY2MywxMjh8ZD4+NiY2MywxMjh8ZCY2Myl9ZWxzZSBiLnB1c2goMjM5LDE5MSwxODkpO2Vsc2UgNTYzMjA9PShkJjY0NTEyKT9iLnB1c2goMjM5LDE5MSwxODkpOmIucHVzaCgyMjR8ZD4+MTIsMTI4fGQ+PjYmNjMsMTI4fGQmNjMpfXJldHVybiBuZXcgVWludDhBcnJheShiKX0sQ2E9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImJhc2U2NFwiOnZhciBjPS0xIT09Yi5pbmRleE9mKFwiLVwiKSxcbmQ9LTEhPT1iLmluZGV4T2YoXCJfXCIpO2lmKGN8fGQpdGhyb3cgdChhLFwiSW52YWxpZCBjaGFyYWN0ZXIgJ1wiKyhjP1wiLVwiOlwiX1wiKStcIicgZm91bmQ6IGlzIGl0IGJhc2U2NHVybCBlbmNvZGVkP1wiKTticmVhaztjYXNlIFwiYmFzZTY0dXJsXCI6Yz0tMSE9PWIuaW5kZXhPZihcIitcIik7ZD0tMSE9PWIuaW5kZXhPZihcIi9cIik7aWYoY3x8ZCl0aHJvdyB0KGEsXCJJbnZhbGlkIGNoYXJhY3RlciAnXCIrKGM/XCIrXCI6XCIvXCIpK1wiJyBmb3VuZDogaXMgaXQgYmFzZTY0IGVuY29kZWQ/XCIpO2I9Yi5yZXBsYWNlKC8tL2csXCIrXCIpLnJlcGxhY2UoL18vZyxcIi9cIil9dmFyIGU7dHJ5e2U9YXRvYihiKX1jYXRjaChmKXt0aHJvdyB0KGEsXCJJbnZhbGlkIGNoYXJhY3RlciBmb3VuZFwiKTt9YT1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKylhW2JdPWUuY2hhckNvZGVBdChiKTtyZXR1cm4gYX0sRGE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCgvXmRhdGE6KFteLF0rKT8sLyk7aWYobnVsbD09PVxuYil0aHJvdyB0KFwiZGF0YV91cmxcIixcIk11c3QgYmUgZm9ybWF0dGVkICdkYXRhOls8bWVkaWF0eXBlPl1bO2Jhc2U2NF0sPGRhdGE+XCIpO2I9YlsxXXx8bnVsbDt0aGlzLmE9ITE7dGhpcy5iPW51bGw7aWYobnVsbCE9Yil7dmFyIGM9Yi5sZW5ndGgtNzt0aGlzLmI9KHRoaXMuYT0wPD1jJiZiLmluZGV4T2YoXCI7YmFzZTY0XCIsYyk9PWMpP2Iuc3Vic3RyaW5nKDAsYi5sZW5ndGgtNyk6Yn10aGlzLmM9YS5zdWJzdHJpbmcoYS5pbmRleE9mKFwiLFwiKSsxKX07dmFyIEZhPWZ1bmN0aW9uKGEpe3ZhciBiPWVuY29kZVVSSUNvbXBvbmVudCxjPVwiP1wiO2phKGEsZnVuY3Rpb24oYSxlKXthPWIoYSkrXCI9XCIrYihlKTtjPWMrYStcIiZcIn0pO3JldHVybiBjPWMuc2xpY2UoMCwtMSl9O3ZhciBHYT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5hPW5ldyBYTUxIdHRwUmVxdWVzdDt0aGlzLmM9MDt0aGlzLmY9bGEoZnVuY3Rpb24oYil7YS5hLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGZ1bmN0aW9uKCl7YS5jPTI7YihhKX0pO2EuYS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixmdW5jdGlvbigpe2EuYz0xO2IoYSl9KTthLmEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe2IoYSl9KX0pO3RoaXMuYj0hMX0sSGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhLmIpdGhyb3cgaWEoXCJjYW5ub3QgLnNlbmQoKSBtb3JlIHRoYW4gb25jZVwiKTthLmI9ITA7YS5hLm9wZW4oYyxiLCEwKTt3KGUpJiZqYShlLGZ1bmN0aW9uKGIsYyl7YS5hLnNldFJlcXVlc3RIZWFkZXIoYixjLnRvU3RyaW5nKCkpfSk7dyhkKT9hLmEuc2VuZChkKTphLmEuc2VuZCgpO3JldHVybiBhLmZ9LElhPWZ1bmN0aW9uKGEpe2lmKCFhLmIpdGhyb3cgaWEoXCJjYW5ub3QgLmdldEVycm9yQ29kZSgpIGJlZm9yZSBzZW5kaW5nXCIpO1xucmV0dXJuIGEuY30sRD1mdW5jdGlvbihhKXtpZighYS5iKXRocm93IGlhKFwiY2Fubm90IC5nZXRTdGF0dXMoKSBiZWZvcmUgc2VuZGluZ1wiKTt0cnl7cmV0dXJuIGEuYS5zdGF0dXN9Y2F0Y2goYil7cmV0dXJuLTF9fSxKYT1mdW5jdGlvbihhKXtpZighYS5iKXRocm93IGlhKFwiY2Fubm90IC5nZXRSZXNwb25zZVRleHQoKSBiZWZvcmUgc2VuZGluZ1wiKTtyZXR1cm4gYS5hLnJlc3BvbnNlVGV4dH07R2EucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5hLmFib3J0KCl9O3ZhciBFPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmI9YTt0aGlzLmg9Yjt0aGlzLmY9Yzt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmM9Zn07az1FLnByb3RvdHlwZTtrLlY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtrLnFhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07ay5uYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O2suaWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtrLlc9ZnVuY3Rpb24oKXtpZih3KHRoaXMuYSkpe3ZhciBhPXRoaXMuYS5kb3dubG9hZFVSTHM7cmV0dXJuIHcoYSkmJncoYVswXSk/YVswXTpudWxsfXJldHVybiBudWxsfTtrLnBhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307ay5sYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O3ZhciBLYT1mdW5jdGlvbihhLGIpe2IudW5zaGlmdChhKTtxYS5jYWxsKHRoaXMsdGEuYXBwbHkobnVsbCxiKSk7Yi5zaGlmdCgpfTtiYShLYSxxYSk7dmFyIEY9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMiksZT1cIkFzc2VydGlvbiBmYWlsZWRcIjtpZihiKXZhciBlPWUrKFwiOiBcIitiKSxmPWQ7dGhyb3cgbmV3IEthKFwiXCIrZSxmfHxbXSk7fX07dmFyIEc7YTp7dmFyIExhPWwubmF2aWdhdG9yO2lmKExhKXt2YXIgTWE9TGEudXNlckFnZW50O2lmKE1hKXtHPU1hO2JyZWFrIGF9fUc9XCJcIn07dmFyIE9hPWZ1bmN0aW9uKCl7fTt2YXIgSD1BcnJheS5wcm90b3R5cGUuaW5kZXhPZj9mdW5jdGlvbihhLGIsYyl7RihudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihwKGEpKXJldHVybiBwKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LFBhPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoP2Z1bmN0aW9uKGEsYixjKXtGKG51bGwhPWEubGVuZ3RoKTtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXAoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWYgaW4gZSYmYi5jYWxsKGMsZVtmXSxmLGEpfSxRYT1BcnJheS5wcm90b3R5cGUuZmlsdGVyP2Z1bmN0aW9uKGEsXG5iLGMpe0YobnVsbCE9YS5sZW5ndGgpO3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9W10sZj0wLGc9cChhKT9hLnNwbGl0KFwiXCIpOmEsaD0wO2g8ZDtoKyspaWYoaCBpbiBnKXt2YXIgbT1nW2hdO2IuY2FsbChjLG0saCxhKSYmKGVbZisrXT1tKX1yZXR1cm4gZX0sUmE9QXJyYXkucHJvdG90eXBlLm1hcD9mdW5jdGlvbihhLGIsYyl7RihudWxsIT1hLmxlbmd0aCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPXAoYSk/YS5zcGxpdChcIlwiKTphLGc9MDtnPGQ7ZysrKWcgaW4gZiYmKGVbZ109Yi5jYWxsKGMsZltnXSxnLGEpKTtyZXR1cm4gZX0sU2E9ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGg7aWYoMDxiKXtmb3IodmFyIGM9QXJyYXkoYiksZD0wO2Q8YjtkKyspY1tkXT1hW2RdO1xucmV0dXJuIGN9cmV0dXJuW119O3ZhciBUYT1mdW5jdGlvbihhLGIpe2I9UWEoYi5zcGxpdChcIi9cIiksZnVuY3Rpb24oYSl7cmV0dXJuIDA8YS5sZW5ndGh9KS5qb2luKFwiL1wiKTtyZXR1cm4gMD09PWEubGVuZ3RoP2I6YStcIi9cIitifSxVYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxhc3RJbmRleE9mKFwiL1wiLGEubGVuZ3RoLTIpO3JldHVybi0xPT09Yj9hOmEuc2xpY2UoYisxKX07dmFyIFdhPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxtLEIsQyl7dGhpcy5DPWE7dGhpcy5BPWI7dGhpcy52PWM7dGhpcy5vPWQ7dGhpcy5CPWUuc2xpY2UoKTt0aGlzLm09Zi5zbGljZSgpO3RoaXMuaj10aGlzLmw9dGhpcy5jPXRoaXMuYj1udWxsO3RoaXMuZj10aGlzLmc9ITE7dGhpcy5zPWc7dGhpcy5oPWg7dGhpcy5EPUM7dGhpcy53PW07dmFyIHo9dGhpczt0aGlzLnU9bGEoZnVuY3Rpb24oYSxiKXt6Lmw9YTt6Lmo9YjtWYSh6KX0pfSxYYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5iPWE7dGhpcy5jPWI7dGhpcy5hPSEhY30sVmE9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2I/YSghMSxuZXcgWGEoITEsbnVsbCwhMCkpOihiPW5ldyBHYSxiLmEud2l0aENyZWRlbnRpYWxzPWQuRCxkLmI9YixIYShiLGQuQyxkLkEsZC5vLGQudikudGhlbihmdW5jdGlvbihiKXtkLmI9bnVsbDt2YXIgYz0wPT09SWEoYiksZT1EKGIpO2lmKCEoYz0hYykpe3ZhciBmPWQsYz01MDA8PWUmJjYwMD5cbmUsZztnPTA8PUgoWzQwOCw0MjldLGUpO2Y9MDw9SChmLm0sZSk7Yz1jfHxnfHxmfWM/KGI9Mj09PUlhKGIpLGEoITEsbmV3IFhhKCExLG51bGwsYikpKTooZT0wPD1IKGQuQixlKSxhKCEwLG5ldyBYYShlLGIpKSl9KSl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPWQubDthPWQuajt2YXIgZT1iLmM7aWYoYi5iKXRyeXt2YXIgZj1kLnMoZSxKYShlKSk7bihmKT9jKGYpOmMoKX1jYXRjaChCKXthKEIpfWVsc2UgbnVsbCE9PWU/KGI9ZGEoKSxmPUphKGUpLGIuc2VydmVyUmVzcG9uc2U9ZixkLmg/YShkLmgoZSxiKSk6YShiKSk6KGI9Yi5hP2QuZj9oYSgpOmVhKCk6bmV3IHIoXCJyZXRyeS1saW1pdC1leGNlZWRlZFwiLFwiTWF4IHJldHJ5IHRpbWUgZm9yIG9wZXJhdGlvbiBleGNlZWRlZCwgcGxlYXNlIHRyeSBhZ2Fpbi5cIiksYShiKSl9dmFyIGQ9YTthLmc/YygwLG5ldyBYYSghMSxudWxsLCEwKSk6YS5jPWNhKGIsYyxhLncpfTtXYS5wcm90b3R5cGUuYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O1xuV2EucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXt0aGlzLmc9ITA7dGhpcy5mPWF8fCExO251bGwhPT10aGlzLmMmJigwLHRoaXMuYykoITEpO251bGwhPT10aGlzLmImJnRoaXMuYi5hYm9ydCgpfTt2YXIgWWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUZhKGEuYiksZD1hLmgrZCxlPWEuaGVhZGVycz9rYShhLmhlYWRlcnMpOnt9O251bGwhPT1iJiYwPGIubGVuZ3RoJiYoZS5BdXRob3JpemF0aW9uPVwiRmlyZWJhc2UgXCIrYik7ZVtcIlgtRmlyZWJhc2UtU3RvcmFnZS1WZXJzaW9uXCJdPVwid2VianMvXCIrKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZmlyZWJhc2U/ZmlyZWJhc2UuU0RLX1ZFUlNJT046XCJBcHBNYW5hZ2VyXCIpO3JldHVybiBuZXcgV2EoZCxhLm1ldGhvZCxlLGEuYm9keSxhLmMsYS5nLGEuaixhLmEsYS50aW1lb3V0LDAsYyl9O3ZhciBaYT1mdW5jdGlvbihhKXt0aGlzLmI9ZmlyZWJhc2UuUHJvbWlzZS5yZWplY3QoYSl9O1phLnByb3RvdHlwZS5hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07WmEucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe307dmFyICRhPWZ1bmN0aW9uKCl7dGhpcy5hPXt9O3RoaXMuYj1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUn0sYWI9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7ZGVsZXRlIGUuYVtkXX12YXIgZD1hLmI7YS5iKys7YS5hW2RdPWI7dmFyIGU9YTtiLmEoKS50aGVuKGMsYyl9LGJiPWZ1bmN0aW9uKGEpe2phKGEuYSxmdW5jdGlvbihhLGMpe2MmJmMuY2FuY2VsKCEwKX0pO2EuYT17fX07dmFyIGNiPS0xIT1HLmluZGV4T2YoXCJPcGVyYVwiKSxkYj0tMSE9Ry5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPUcuaW5kZXhPZihcIk1TSUVcIiksZWI9LTEhPUcuaW5kZXhPZihcIkVkZ2VcIiksZmI9LTEhPUcuaW5kZXhPZihcIkdlY2tvXCIpJiYhKC0xIT1HLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmLTE9PUcuaW5kZXhPZihcIkVkZ2VcIikpJiYhKC0xIT1HLmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9Ry5pbmRleE9mKFwiTVNJRVwiKSkmJi0xPT1HLmluZGV4T2YoXCJFZGdlXCIpLGdiPS0xIT1HLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmLTE9PUcuaW5kZXhPZihcIkVkZ2VcIiksaGI7XG5hOnt2YXIgaWI9XCJcIixqYj1mdW5jdGlvbigpe3ZhciBhPUc7aWYoZmIpcmV0dXJuL3J2XFw6KFteXFwpO10rKShcXCl8OykvLmV4ZWMoYSk7aWYoZWIpcmV0dXJuL0VkZ2VcXC8oW1xcZFxcLl0rKS8uZXhlYyhhKTtpZihkYilyZXR1cm4vXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvLmV4ZWMoYSk7aWYoZ2IpcmV0dXJuL1dlYktpdFxcLyhcXFMrKS8uZXhlYyhhKTtpZihjYilyZXR1cm4vKD86VmVyc2lvbilbIFxcL10/KFxcUyspLy5leGVjKGEpfSgpO2piJiYoaWI9amI/amJbMV06XCJcIik7aWYoZGIpe3ZhciBrYixsYj1sLmRvY3VtZW50O2tiPWxiP2xiLmRvY3VtZW50TW9kZTp2b2lkIDA7aWYobnVsbCE9a2ImJmtiPnBhcnNlRmxvYXQoaWIpKXtoYj1TdHJpbmcoa2IpO2JyZWFrIGF9fWhiPWlifVxudmFyIG1iPWhiLHJhPXt9LG5iPWZ1bmN0aW9uKGEpe3JldHVybiBzYShhLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYz11YShTdHJpbmcobWIpKS5zcGxpdChcIi5cIiksZD11YShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSxlPU1hdGgubWF4KGMubGVuZ3RoLGQubGVuZ3RoKSxmPTA7MD09YiYmZjxlO2YrKyl7dmFyIGc9Y1tmXXx8XCJcIixoPWRbZl18fFwiXCI7ZG97Zz0vKFxcZCopKFxcRCopKC4qKS8uZXhlYyhnKXx8W1wiXCIsXCJcIixcIlwiLFwiXCJdO2g9LyhcXGQqKShcXEQqKSguKikvLmV4ZWMoaCl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXTtpZigwPT1nWzBdLmxlbmd0aCYmMD09aFswXS5sZW5ndGgpYnJlYWs7Yj12YSgwPT1nWzFdLmxlbmd0aD8wOnBhcnNlSW50KGdbMV0sMTApLDA9PWhbMV0ubGVuZ3RoPzA6cGFyc2VJbnQoaFsxXSwxMCkpfHx2YSgwPT1nWzJdLmxlbmd0aCwwPT1oWzJdLmxlbmd0aCl8fHZhKGdbMl0saFsyXSk7Zz1nWzNdO2g9aFszXX13aGlsZSgwPT1iKX1yZXR1cm4gMDw9Yn0pfTt2YXIgb2I9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmE9YTt0aGlzLmc9bnVsbDtpZihudWxsIT09dGhpcy5hJiYoYT10aGlzLmEub3B0aW9ucyx3KGEpKSl7YT1hLnN0b3JhZ2VCdWNrZXR8fG51bGw7aWYobnVsbD09YSlhPW51bGw7ZWxzZXt2YXIgZj1udWxsO3RyeXtmPXhhKGEpfWNhdGNoKGcpe31pZihudWxsIT09Zil7aWYoXCJcIiE9PWYucGF0aCl0aHJvdyBuZXcgcihcImludmFsaWQtZGVmYXVsdC1idWNrZXRcIixcIkludmFsaWQgZGVmYXVsdCBidWNrZXQgJ1wiK2ErXCInLlwiKTthPWYuYnVja2V0fX10aGlzLmc9YX10aGlzLm89Yjt0aGlzLm09Yzt0aGlzLmo9ZTt0aGlzLmw9ZDt0aGlzLmM9MTJFNDt0aGlzLmI9NkU0O3RoaXMuaD1uZXcgJGE7dGhpcy5mPSExfSxwYj1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEuYSYmdyhhLmEuSU5URVJOQUwpJiZ3KGEuYS5JTlRFUk5BTC5nZXRUb2tlbik/YS5hLklOVEVSTkFMLmdldFRva2VuKCkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdyhhKT9cbmEuYWNjZXNzVG9rZW46bnVsbH0sZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pOmZpcmViYXNlLlByb21pc2UucmVzb2x2ZShudWxsKX07b2IucHJvdG90eXBlLmJ1Y2tldD1mdW5jdGlvbigpe2lmKHRoaXMuZil0aHJvdyBoYSgpO3JldHVybiB0aGlzLmd9O3ZhciBJPWZ1bmN0aW9uKGEsYixjKXtpZihhLmYpcmV0dXJuIG5ldyBaYShoYSgpKTtiPWEubShiLGMsbnVsbD09PWEuYSxhLmopO2FiKGEuaCxiKTtyZXR1cm4gYn07dmFyIHFiPWZ1bmN0aW9uKGEpe3ZhciBiPWwuQmxvYkJ1aWxkZXJ8fGwuV2ViS2l0QmxvYkJ1aWxkZXI7aWYobihiKSl7Zm9yKHZhciBiPW5ldyBiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWIuYXBwZW5kKGFyZ3VtZW50c1tjXSk7cmV0dXJuIGIuZ2V0QmxvYigpfWI9U2EoYXJndW1lbnRzKTtjPWwuQmxvYkJ1aWxkZXJ8fGwuV2ViS2l0QmxvYkJ1aWxkZXI7aWYobihjKSl7Zm9yKHZhciBjPW5ldyBjLGQ9MDtkPGIubGVuZ3RoO2QrKyljLmFwcGVuZChiW2RdLHZvaWQgMCk7Yj1jLmdldEJsb2Iodm9pZCAwKX1lbHNlIGlmKG4obC5CbG9iKSliPW5ldyBCbG9iKGIse30pO2Vsc2UgdGhyb3cgRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgY3JlYXRpbmcgQmxvYnNcIik7cmV0dXJuIGJ9LHJiPWZ1bmN0aW9uKGEsYixjKXtuKGMpfHwoYz1hLnNpemUpO3JldHVybiBhLndlYmtpdFNsaWNlP2Eud2Via2l0U2xpY2UoYixjKTphLm1velNsaWNlP2EubW96U2xpY2UoYixcbmMpOmEuc2xpY2U/ZmImJiFuYihcIjEzLjBcIil8fGdiJiYhbmIoXCI1MzcuMVwiKT8oMD5iJiYoYis9YS5zaXplKSwwPmImJihiPTApLDA+YyYmKGMrPWEuc2l6ZSksYzxiJiYoYz1iKSxhLnNsaWNlKGIsYy1iKSk6YS5zbGljZShiLGMpOm51bGx9O3ZhciBKPWZ1bmN0aW9uKGEsYil7cGEoKSYmYSBpbnN0YW5jZW9mIEJsb2I/KHRoaXMuaT1hLGI9YS5zaXplLGE9YS50eXBlKTooYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyPyhiP3RoaXMuaT1uZXcgVWludDhBcnJheShhKToodGhpcy5pPW5ldyBVaW50OEFycmF5KGEuYnl0ZUxlbmd0aCksdGhpcy5pLnNldChuZXcgVWludDhBcnJheShhKSkpLGI9dGhpcy5pLmxlbmd0aCk6KGI/dGhpcy5pPWE6KHRoaXMuaT1uZXcgVWludDhBcnJheShhLmxlbmd0aCksdGhpcy5pLnNldChhKSksYj1hLmxlbmd0aCksYT1cIlwiKTt0aGlzLmE9Yjt0aGlzLmI9YX07Si5wcm90b3R5cGUudHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O1xuSi5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oYSxiKXtpZihwYSgpJiZ0aGlzLmkgaW5zdGFuY2VvZiBCbG9iKXJldHVybiBhPXJiKHRoaXMuaSxhLGIpLG51bGw9PT1hP251bGw6bmV3IEooYSk7YT1uZXcgVWludDhBcnJheSh0aGlzLmkuYnVmZmVyLGEsYi1hKTtyZXR1cm4gbmV3IEooYSwhMCl9O1xudmFyIHNiPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYXJndW1lbnRzKTtpZihwYSgpKXJldHVybiBiPVJhKGIsZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBKP2EuaTphfSksbmV3IEoocWIuYXBwbHkobnVsbCxiKSk7dmFyIGI9UmEoYixmdW5jdGlvbihhKXtyZXR1cm4gb2EoYSk/RWEoXCJyYXdcIixhKS5iLmJ1ZmZlcjphLmkuYnVmZmVyfSksYz0wO1BhKGIsZnVuY3Rpb24oYSl7Yys9YS5ieXRlTGVuZ3RofSk7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyksZT0wO1BhKGIsZnVuY3Rpb24oYSl7YT1uZXcgVWludDhBcnJheShhKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylkW2UrK109YVtiXX0pO3JldHVybiBuZXcgSihkLCEwKX07dmFyIHRiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9LEs9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5jPWE7dGhpcy5iPWJ8fGE7dGhpcy53cml0YWJsZT0hIWM7dGhpcy5hPWR8fHRifSx1Yj1udWxsLHZiPWZ1bmN0aW9uKCl7aWYodWIpcmV0dXJuIHViO3ZhciBhPVtdO2EucHVzaChuZXcgSyhcImJ1Y2tldFwiKSk7YS5wdXNoKG5ldyBLKFwiZ2VuZXJhdGlvblwiKSk7YS5wdXNoKG5ldyBLKFwibWV0YWdlbmVyYXRpb25cIikpO2EucHVzaChuZXcgSyhcIm5hbWVcIixcImZ1bGxQYXRoXCIsITApKTt2YXIgYj1uZXcgSyhcIm5hbWVcIik7Yi5hPWZ1bmN0aW9uKGEsYil7cmV0dXJuIW9hKGIpfHwyPmIubGVuZ3RoP2I6VWEoYil9O2EucHVzaChiKTtiPW5ldyBLKFwic2l6ZVwiKTtiLmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdyhiKT8rYjpifTthLnB1c2goYik7YS5wdXNoKG5ldyBLKFwidGltZUNyZWF0ZWRcIikpO2EucHVzaChuZXcgSyhcInVwZGF0ZWRcIikpO2EucHVzaChuZXcgSyhcIm1kNUhhc2hcIixudWxsLCEwKSk7XG5hLnB1c2gobmV3IEsoXCJjYWNoZUNvbnRyb2xcIixudWxsLCEwKSk7YS5wdXNoKG5ldyBLKFwiY29udGVudERpc3Bvc2l0aW9uXCIsbnVsbCwhMCkpO2EucHVzaChuZXcgSyhcImNvbnRlbnRFbmNvZGluZ1wiLG51bGwsITApKTthLnB1c2gobmV3IEsoXCJjb250ZW50TGFuZ3VhZ2VcIixudWxsLCEwKSk7YS5wdXNoKG5ldyBLKFwiY29udGVudFR5cGVcIixudWxsLCEwKSk7YS5wdXNoKG5ldyBLKFwibWV0YWRhdGFcIixcImN1c3RvbU1ldGFkYXRhXCIsITApKTthLnB1c2gobmV3IEsoXCJkb3dubG9hZFRva2Vuc1wiLFwiZG93bmxvYWRVUkxzXCIsITEsZnVuY3Rpb24oYSxiKXtpZighKG9hKGIpJiYwPGIubGVuZ3RoKSlyZXR1cm5bXTt2YXIgYz1lbmNvZGVVUklDb21wb25lbnQ7cmV0dXJuIFJhKGIuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKGIpe3ZhciBkPWEuZnVsbFBhdGgsZD1cImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3YwXCIrKFwiL2IvXCIrYyhhLmJ1Y2tldCkrXCIvby9cIitjKGQpKTtiPUZhKHthbHQ6XCJtZWRpYVwiLFxudG9rZW46Yn0pO3JldHVybiBkK2J9KX0pKTtyZXR1cm4gdWI9YX0sd2I9ZnVuY3Rpb24oYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcInJlZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5vKGIsbmV3IHkoYS5idWNrZXQsYS5mdWxsUGF0aCkpfX0pfSx4Yj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz17fSxkPWIubGVuZ3RoLGU9MDtlPGQ7ZSsrKXt2YXIgZj1iW2VdO2Yud3JpdGFibGUmJihjW2YuY109YVtmLmJdKX1yZXR1cm4gSlNPTi5zdHJpbmdpZnkoYyl9LHliPWZ1bmN0aW9uKGEpe2lmKCFhfHxcIm9iamVjdFwiIT09dHlwZW9mIGEpdGhyb3dcIkV4cGVjdGVkIE1ldGFkYXRhIG9iamVjdC5cIjtmb3IodmFyIGIgaW4gYSl7dmFyIGM9YVtiXTtpZihcImN1c3RvbU1ldGFkYXRhXCI9PT1iJiZcIm9iamVjdFwiIT09dHlwZW9mIGMpdGhyb3dcIkV4cGVjdGVkIG9iamVjdCBmb3IgJ2N1c3RvbU1ldGFkYXRhJyBtYXBwaW5nLlwiO319O3ZhciBMPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9Yi5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7ZjxiLmxlbmd0aDtmKyspaWYoYltmXS5iKXtkPWY7YnJlYWt9aWYoIShkPD1jLmxlbmd0aCYmYy5sZW5ndGg8PWUpKXRocm93IGQ9PT1lPyhiPWQsZD0xPT09ZD9cImFyZ3VtZW50XCI6XCJhcmd1bWVudHNcIik6KGI9XCJiZXR3ZWVuIFwiK2QrXCIgYW5kIFwiK2UsZD1cImFyZ3VtZW50c1wiKSxuZXcgcihcImludmFsaWQtYXJndW1lbnQtY291bnRcIixcIkludmFsaWQgYXJndW1lbnQgY291bnQgaW4gYFwiK2ErXCJgOiBFeHBlY3RlZCBcIitiK1wiIFwiK2QrXCIsIHJlY2VpdmVkIFwiK2MubGVuZ3RoK1wiLlwiKTtmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKXRyeXtiW2ZdLmEoY1tmXSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIEVycm9yKXRocm93IGdhKGYsYSxnLm1lc3NhZ2UpO3Rocm93IGdhKGYsYSxnKTt9fSxNPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmE9ZnVuY3Rpb24oYil7Yy5iJiYhbihiKXx8YShiKX07XG50aGlzLmI9ISFifSx6Yj1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXthKGMpO2IoYyl9fSxOPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtpZighKFwic3RyaW5nXCI9PT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZykpdGhyb3dcIkV4cGVjdGVkIHN0cmluZy5cIjt9dmFyIGQ7YT9kPXpiKGMsYSk6ZD1jO3JldHVybiBuZXcgTShkLGIpfSxBYj1mdW5jdGlvbigpe3JldHVybiBuZXcgTShmdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHBhKCkmJmEgaW5zdGFuY2VvZiBCbG9iKSl0aHJvd1wiRXhwZWN0ZWQgQmxvYiBvciBGaWxlLlwiO30pfSxCYj1mdW5jdGlvbigpe3JldHVybiBuZXcgTShmdW5jdGlvbihhKXtpZighKChcIm51bWJlclwiPT09dHlwZW9mIGF8fGEgaW5zdGFuY2VvZiBOdW1iZXIpJiYwPD1hKSl0aHJvd1wiRXhwZWN0ZWQgYSBudW1iZXIgMCBvciBncmVhdGVyLlwiO30pfSxDYj1mdW5jdGlvbihhLFxuYil7cmV0dXJuIG5ldyBNKGZ1bmN0aW9uKGIpe2lmKCEobnVsbD09PWJ8fHcoYikmJmIgaW5zdGFuY2VvZiBPYmplY3QpKXRocm93XCJFeHBlY3RlZCBhbiBPYmplY3QuXCI7dyhhKSYmYShiKX0sYil9LE89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE0oZnVuY3Rpb24oYSl7aWYobnVsbCE9PWEmJlwiZnVuY3Rpb25cIiE9YWEoYSkpdGhyb3dcIkV4cGVjdGVkIGEgRnVuY3Rpb24uXCI7fSwhMCl9O3ZhciBQPWZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IGRhKCk7fSxEYj1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlO2E6e3RyeXtlPUpTT04ucGFyc2UoZCl9Y2F0Y2goaCl7ZT1udWxsO2JyZWFrIGF9Yz10eXBlb2YgZTtlPVwib2JqZWN0XCI9PWMmJm51bGwhPWV8fFwiZnVuY3Rpb25cIj09Yz9lOm51bGx9aWYobnVsbD09PWUpZT1udWxsO2Vsc2V7Yz17dHlwZTpcImZpbGVcIn07ZD1iLmxlbmd0aDtmb3IodmFyIGY9MDtmPGQ7ZisrKXt2YXIgZz1iW2ZdO2NbZy5iXT1nLmEoYyxlW2cuY10pfXdiKGMsYSk7ZT1jfVAobnVsbCE9PWUpO3JldHVybiBlfX0sUT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtiPTQwMT09PUQoYik/bmV3IHIoXCJ1bmF1dGhlbnRpY2F0ZWRcIixcIlVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQsIHBsZWFzZSBhdXRoZW50aWNhdGUgdXNpbmcgRmlyZWJhc2UgQXV0aGVudGljYXRpb24gYW5kIHRyeSBhZ2Fpbi5cIik6NDAyPT09RChiKT9cbm5ldyByKFwicXVvdGEtZXhjZWVkZWRcIixcIlF1b3RhIGZvciBidWNrZXQgJ1wiK2EuYnVja2V0K1wiJyBleGNlZWRlZCwgcGxlYXNlIHZpZXcgcXVvdGEgb24gaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL3ByaWNpbmcvLlwiKTo0MDM9PT1EKGIpP25ldyByKFwidW5hdXRob3JpemVkXCIsXCJVc2VyIGRvZXMgbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgJ1wiK2EucGF0aCtcIicuXCIpOmM7Yi5zZXJ2ZXJSZXNwb25zZT1jLnNlcnZlclJlc3BvbnNlO3JldHVybiBifX0sRWI9ZnVuY3Rpb24oYSl7dmFyIGI9UShhKTtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZT1iKGMsZCk7NDA0PT09RChjKSYmKGU9bmV3IHIoXCJvYmplY3Qtbm90LWZvdW5kXCIsXCJPYmplY3QgJ1wiK2EucGF0aCtcIicgZG9lcyBub3QgZXhpc3QuXCIpKTtlLnNlcnZlclJlc3BvbnNlPWQuc2VydmVyUmVzcG9uc2U7cmV0dXJuIGV9fSxGYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9d2EoYik7YT1uZXcgdShxK1wiL3YwXCIrZCxcIkdFVFwiLFxuRGIoYSxjKSxhLmMpO2EuYT1FYihiKTtyZXR1cm4gYX0sR2I9ZnVuY3Rpb24oYSxiKXt2YXIgYz13YShiKTthPW5ldyB1KHErXCIvdjBcIitjLFwiREVMRVRFXCIsZnVuY3Rpb24oKXt9LGEuYyk7YS5jPVsyMDAsMjA0XTthLmE9RWIoYik7cmV0dXJuIGF9LEhiPWZ1bmN0aW9uKGEsYixjKXtjPWM/a2EoYyk6e307Yy5mdWxsUGF0aD1hLnBhdGg7Yy5zaXplPWIuYTtjLmNvbnRlbnRUeXBlfHwoYT1iJiZiLnR5cGUoKXx8XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixjLmNvbnRlbnRUeXBlPWEpO3JldHVybiBjfSxJYj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPVwiL2IvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGIuYnVja2V0KStcIi9vXCIsZz17XCJYLUdvb2ctVXBsb2FkLVByb3RvY29sXCI6XCJtdWx0aXBhcnRcIn0saDtoPVwiXCI7Zm9yKHZhciBtPTA7Mj5tO20rKyloKz1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc2xpY2UoMik7Z1tcIkNvbnRlbnQtVHlwZVwiXT1cIm11bHRpcGFydC9yZWxhdGVkOyBib3VuZGFyeT1cIitcbmg7ZT1IYihiLGQsZSk7bT14YihlLGMpO2Q9c2IoXCItLVwiK2grXCJcXHJcXG5Db250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcXHJcXG5cXHJcXG5cIittK1wiXFxyXFxuLS1cIitoK1wiXFxyXFxuQ29udGVudC1UeXBlOiBcIitlLmNvbnRlbnRUeXBlK1wiXFxyXFxuXFxyXFxuXCIsZCxcIlxcclxcbi0tXCIraCtcIi0tXCIpO2lmKG51bGw9PT1kKXRocm93IGZhKCk7YT1uZXcgdShxK1wiL3YwXCIrZixcIlBPU1RcIixEYihhLGMpLGEuYik7YS5iPXtuYW1lOmUuZnVsbFBhdGh9O2EuaGVhZGVycz1nO2EuYm9keT1kLmk7YS5hPVEoYik7cmV0dXJuIGF9LEpiPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYT1hO3RoaXMuYj1iO3RoaXMuYz0hIWM7dGhpcy5mPWR8fG51bGx9LEtiPWZ1bmN0aW9uKGEsYil7dmFyIGM7dHJ5e2M9YS5hLmdldFJlc3BvbnNlSGVhZGVyKFwiWC1Hb29nLVVwbG9hZC1TdGF0dXNcIil9Y2F0Y2goZCl7UCghMSl9YT0wPD1IKGJ8fFtcImFjdGl2ZVwiXSxjKTtQKGEpO3JldHVybiBjfSxMYj1mdW5jdGlvbihhLFxuYixjLGQsZSl7dmFyIGY9XCIvYi9cIitlbmNvZGVVUklDb21wb25lbnQoYi5idWNrZXQpK1wiL29cIixnPUhiKGIsZCxlKTtlPXtuYW1lOmcuZnVsbFBhdGh9O2Y9cStcIi92MFwiK2Y7ZD17XCJYLUdvb2ctVXBsb2FkLVByb3RvY29sXCI6XCJyZXN1bWFibGVcIixcIlgtR29vZy1VcGxvYWQtQ29tbWFuZFwiOlwic3RhcnRcIixcIlgtR29vZy1VcGxvYWQtSGVhZGVyLUNvbnRlbnQtTGVuZ3RoXCI6ZC5hLFwiWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1UeXBlXCI6Zy5jb250ZW50VHlwZSxcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwifTtjPXhiKGcsYyk7YT1uZXcgdShmLFwiUE9TVFwiLGZ1bmN0aW9uKGEpe0tiKGEpO3ZhciBiO3RyeXtiPWEuYS5nZXRSZXNwb25zZUhlYWRlcihcIlgtR29vZy1VcGxvYWQtVVJMXCIpfWNhdGNoKEIpe1AoITEpfVAob2EoYikpO3JldHVybiBifSxhLmIpO2EuYj1lO2EuaGVhZGVycz1kO2EuYm9keT1jO2EuYT1RKGIpO3JldHVybiBhfSxNYj1cbmZ1bmN0aW9uKGEsYixjLGQpe2E9bmV3IHUoYyxcIlBPU1RcIixmdW5jdGlvbihhKXt2YXIgYj1LYihhLFtcImFjdGl2ZVwiLFwiZmluYWxcIl0pLGM7dHJ5e2M9YS5hLmdldFJlc3BvbnNlSGVhZGVyKFwiWC1Hb29nLVVwbG9hZC1TaXplLVJlY2VpdmVkXCIpfWNhdGNoKGgpe1AoITEpfWE9Yztpc0Zpbml0ZShhKSYmKGE9U3RyaW5nKGEpKTthPXAoYSk/L15cXHMqLT8weC9pLnRlc3QoYSk/cGFyc2VJbnQoYSwxNik6cGFyc2VJbnQoYSwxMCk6TmFOO1AoIWlzTmFOKGEpKTtyZXR1cm4gbmV3IEpiKGEsZC5hLFwiZmluYWxcIj09PWIpfSxhLmIpO2EuaGVhZGVycz17XCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjpcInF1ZXJ5XCJ9O2EuYT1RKGIpO2EuZj0hMTtyZXR1cm4gYX0sTmI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9bmV3IEpiKDAsMCk7Zz8oaC5hPWcuYSxoLmI9Zy5iKTooaC5hPTAsaC5iPWQuYSk7aWYoZC5hIT09aC5iKXRocm93IG5ldyByKFwic2VydmVyLWZpbGUtd3Jvbmctc2l6ZVwiLFwiU2VydmVyIHJlY29yZGVkIGluY29ycmVjdCB1cGxvYWQgZmlsZSBzaXplLCBwbGVhc2UgcmV0cnkgdGhlIHVwbG9hZC5cIik7XG52YXIgbT1nPWguYi1oLmE7MDxlJiYobT1NYXRoLm1pbihtLGUpKTt2YXIgQj1oLmE7ZT17XCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjptPT09Zz9cInVwbG9hZCwgZmluYWxpemVcIjpcInVwbG9hZFwiLFwiWC1Hb29nLVVwbG9hZC1PZmZzZXRcIjpoLmF9O2c9ZC5zbGljZShCLEIrbSk7aWYobnVsbD09PWcpdGhyb3cgZmEoKTtjPW5ldyB1KGMsXCJQT1NUXCIsZnVuY3Rpb24oYSxjKXt2YXIgZT1LYihhLFtcImFjdGl2ZVwiLFwiZmluYWxcIl0pLGc9aC5hK20sQz1kLmEsejtcImZpbmFsXCI9PT1lP3o9RGIoYixmKShhLGMpOno9bnVsbDtyZXR1cm4gbmV3IEpiKGcsQyxcImZpbmFsXCI9PT1lLHopfSxiLmIpO2MuaGVhZGVycz1lO2MuYm9keT1nLmk7Yy5sPW51bGw7Yy5hPVEoYSk7Yy5mPSExO3JldHVybiBjfTt2YXIgVD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5MPWE7dGhpcy5jPWI7dGhpcy5sPWM7dGhpcy5mPWU7dGhpcy5oPWZ8fG51bGw7dGhpcy5zPWQ7dGhpcy5tPTA7dGhpcy5EPXRoaXMudT0hMTt0aGlzLkI9W107dGhpcy5TPTI2MjE0NDx0aGlzLmYuYTt0aGlzLmI9XCJydW5uaW5nXCI7dGhpcy5hPXRoaXMudj10aGlzLmc9bnVsbDt0aGlzLmo9MTt2YXIgZz10aGlzO3RoaXMuRj1mdW5jdGlvbihhKXtnLmE9bnVsbDtnLmo9MTtcInN0b3JhZ2UvY2FuY2VsZWRcIj09PWEuY29kZT8oZy51PSEwLFIoZykpOihnLmc9YSxTKGcsXCJlcnJvclwiKSl9O3RoaXMuUD1mdW5jdGlvbihhKXtnLmE9bnVsbDtcInN0b3JhZ2UvY2FuY2VsZWRcIj09PWEuY29kZT9SKGcpOihnLmc9YSxTKGcsXCJlcnJvclwiKSl9O3RoaXMuQT10aGlzLm89bnVsbDt0aGlzLkM9bGEoZnVuY3Rpb24oYSxiKXtnLm89YTtnLkE9YjtPYihnKX0pO3RoaXMuQy50aGVuKG51bGwsZnVuY3Rpb24oKXt9KX0sT2I9ZnVuY3Rpb24oYSl7XCJydW5uaW5nXCI9PT1cbmEuYiYmbnVsbD09PWEuYSYmKGEuUz9udWxsPT09YS52P1BiKGEpOmEudT9RYihhKTphLkQ/UmIoYSk6U2IoYSk6VGIoYSkpfSxVPWZ1bmN0aW9uKGEsYil7cGIoYS5jKS50aGVuKGZ1bmN0aW9uKGMpe3N3aXRjaChhLmIpe2Nhc2UgXCJydW5uaW5nXCI6YihjKTticmVhaztjYXNlIFwiY2FuY2VsaW5nXCI6UyhhLFwiY2FuY2VsZWRcIik7YnJlYWs7Y2FzZSBcInBhdXNpbmdcIjpTKGEsXCJwYXVzZWRcIil9fSl9LFBiPWZ1bmN0aW9uKGEpe1UoYSxmdW5jdGlvbihiKXt2YXIgYz1MYihhLmMsYS5sLGEucyxhLmYsYS5oKTthLmE9SShhLmMsYyxiKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7YS5hPW51bGw7YS52PWI7YS51PSExO1IoYSl9LHRoaXMuRil9KX0sUWI9ZnVuY3Rpb24oYSl7dmFyIGI9YS52O1UoYSxmdW5jdGlvbihjKXt2YXIgZD1NYihhLmMsYS5sLGIsYS5mKTthLmE9SShhLmMsZCxjKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7YS5hPW51bGw7VWIoYSxiLmEpO2EudT0hMTtiLmMmJihhLkQ9XG4hMCk7UihhKX0sYS5GKX0pfSxTYj1mdW5jdGlvbihhKXt2YXIgYj0yNjIxNDQqYS5qLGM9bmV3IEpiKGEubSxhLmYuYSksZD1hLnY7VShhLGZ1bmN0aW9uKGUpe3ZhciBmO3RyeXtmPU5iKGEubCxhLmMsZCxhLmYsYixhLnMsYyl9Y2F0Y2goZyl7YS5nPWc7UyhhLFwiZXJyb3JcIik7cmV0dXJufWEuYT1JKGEuYyxmLGUpO2EuYS5hKCkudGhlbihmdW5jdGlvbihiKXszMzU1NDQzMj4yNjIxNDQqYS5qJiYoYS5qKj0yKTthLmE9bnVsbDtVYihhLGIuYSk7Yi5jPyhhLmg9Yi5mLFMoYSxcInN1Y2Nlc3NcIikpOlIoYSl9LGEuRil9KX0sUmI9ZnVuY3Rpb24oYSl7VShhLGZ1bmN0aW9uKGIpe3ZhciBjPUZiKGEuYyxhLmwsYS5zKTthLmE9SShhLmMsYyxiKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7YS5hPW51bGw7YS5oPWI7UyhhLFwic3VjY2Vzc1wiKX0sYS5QKX0pfSxUYj1mdW5jdGlvbihhKXtVKGEsZnVuY3Rpb24oYil7dmFyIGM9SWIoYS5jLGEubCxhLnMsYS5mLGEuaCk7YS5hPUkoYS5jLGMsXG5iKTthLmEuYSgpLnRoZW4oZnVuY3Rpb24oYil7YS5hPW51bGw7YS5oPWI7VWIoYSxhLmYuYSk7UyhhLFwic3VjY2Vzc1wiKX0sYS5GKX0pfSxVYj1mdW5jdGlvbihhLGIpe3ZhciBjPWEubTthLm09YjthLm0+YyYmVihhKX0sUz1mdW5jdGlvbihhLGIpe2lmKGEuYiE9PWIpc3dpdGNoKGIpe2Nhc2UgXCJjYW5jZWxpbmdcIjphLmI9YjtudWxsIT09YS5hJiZhLmEuY2FuY2VsKCk7YnJlYWs7Y2FzZSBcInBhdXNpbmdcIjphLmI9YjtudWxsIT09YS5hJiZhLmEuY2FuY2VsKCk7YnJlYWs7Y2FzZSBcInJ1bm5pbmdcIjp2YXIgYz1cInBhdXNlZFwiPT09YS5iO2EuYj1iO2MmJihWKGEpLE9iKGEpKTticmVhaztjYXNlIFwicGF1c2VkXCI6YS5iPWI7VihhKTticmVhaztjYXNlIFwiY2FuY2VsZWRcIjphLmc9ZWEoKTthLmI9YjtWKGEpO2JyZWFrO2Nhc2UgXCJlcnJvclwiOmEuYj1iO1YoYSk7YnJlYWs7Y2FzZSBcInN1Y2Nlc3NcIjphLmI9YixWKGEpfX0sUj1mdW5jdGlvbihhKXtzd2l0Y2goYS5iKXtjYXNlIFwicGF1c2luZ1wiOlMoYSxcblwicGF1c2VkXCIpO2JyZWFrO2Nhc2UgXCJjYW5jZWxpbmdcIjpTKGEsXCJjYW5jZWxlZFwiKTticmVhaztjYXNlIFwicnVubmluZ1wiOk9iKGEpfX07VC5wcm90b3R5cGUudz1mdW5jdGlvbigpe3JldHVybiBuZXcgRSh0aGlzLm0sdGhpcy5mLmEsbmEodGhpcy5iKSx0aGlzLmgsdGhpcyx0aGlzLkwpfTtcblQucHJvdG90eXBlLk09ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt0cnl7ZyhhKTtyZXR1cm59Y2F0Y2goeil7fXRyeXtpZihoKGEpLCEobihhLm5leHQpfHxuKGEuZXJyb3IpfHxuKGEuY29tcGxldGUpKSl0aHJvd1wiXCI7fWNhdGNoKHope3Rocm93XCJFeHBlY3RlZCBhIGZ1bmN0aW9uIG9yIGFuIE9iamVjdCB3aXRoIG9uZSBvZiBgbmV4dGAsIGBlcnJvcmAsIGBjb21wbGV0ZWAgcHJvcGVydGllcy5cIjt9fWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtudWxsIT09YSYmTChcIm9uXCIsYSxhcmd1bWVudHMpO3ZhciBlPW5ldyB5YShiLGMsZCk7VmIobSxlKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT1tLkIsYj1IKGEsZSk7MDw9YiYmKEYobnVsbCE9YS5sZW5ndGgpLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhLGIsMSkpfX19dmFyIGc9TygpLmEsaD1DYihudWxsLCEwKS5hO0woXCJvblwiLFtOKGZ1bmN0aW9uKCl7aWYoXCJzdGF0ZV9jaGFuZ2VkXCIhPT1cbmEpdGhyb3dcIkV4cGVjdGVkIG9uZSBvZiB0aGUgZXZlbnQgdHlwZXM6IFtzdGF0ZV9jaGFuZ2VkXS5cIjt9KSxDYihlLCEwKSxPKCksTygpXSxhcmd1bWVudHMpO3ZhciBtPXRoaXMsQj1bQ2IoZnVuY3Rpb24oYSl7aWYobnVsbD09PWEpdGhyb3dcIkV4cGVjdGVkIGEgZnVuY3Rpb24gb3IgYW4gT2JqZWN0IHdpdGggb25lIG9mIGBuZXh0YCwgYGVycm9yYCwgYGNvbXBsZXRlYCBwcm9wZXJ0aWVzLlwiO2UoYSl9KSxPKCksTygpXTtyZXR1cm4gbihiKXx8bihjKXx8bihkKT9mKG51bGwpKGIsYyxkKTpmKEIpfTtULnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuQy50aGVuKGEsYil9O1xudmFyIFZiPWZ1bmN0aW9uKGEsYil7YS5CLnB1c2goYik7V2IoYSxiKX0sVj1mdW5jdGlvbihhKXtYYihhKTt2YXIgYj1TYShhLkIpO1BhKGIsZnVuY3Rpb24oYil7V2IoYSxiKX0pfSxYYj1mdW5jdGlvbihhKXtpZihudWxsIT09YS5vKXt2YXIgYj0hMDtzd2l0Y2gobmEoYS5iKSl7Y2FzZSBcInN1Y2Nlc3NcIjp4KGEuby5iaW5kKG51bGwsYS53KCkpKSgpO2JyZWFrO2Nhc2UgXCJjYW5jZWxlZFwiOmNhc2UgXCJlcnJvclwiOngoYS5BLmJpbmQobnVsbCxhLmcpKSgpO2JyZWFrO2RlZmF1bHQ6Yj0hMX1iJiYoYS5vPW51bGwsYS5BPW51bGwpfX0sV2I9ZnVuY3Rpb24oYSxiKXtzd2l0Y2gobmEoYS5iKSl7Y2FzZSBcInJ1bm5pbmdcIjpjYXNlIFwicGF1c2VkXCI6bnVsbCE9PWIuYyYmeChiLmMuYmluZChiLGEudygpKSkoKTticmVhaztjYXNlIFwic3VjY2Vzc1wiOm51bGwhPT1iLmImJngoYi5iLmJpbmQoYikpKCk7YnJlYWs7Y2FzZSBcImNhbmNlbGVkXCI6Y2FzZSBcImVycm9yXCI6bnVsbCE9PWIuYSYmeChiLmEuYmluZChiLFxuYS5nKSkoKTticmVhaztkZWZhdWx0Om51bGwhPT1iLmEmJngoYi5hLmJpbmQoYixhLmcpKSgpfX07VC5wcm90b3R5cGUuTz1mdW5jdGlvbigpe0woXCJyZXN1bWVcIixbXSxhcmd1bWVudHMpO3ZhciBhPVwicGF1c2VkXCI9PT10aGlzLmJ8fFwicGF1c2luZ1wiPT09dGhpcy5iO2EmJlModGhpcyxcInJ1bm5pbmdcIik7cmV0dXJuIGF9O1QucHJvdG90eXBlLk49ZnVuY3Rpb24oKXtMKFwicGF1c2VcIixbXSxhcmd1bWVudHMpO3ZhciBhPVwicnVubmluZ1wiPT09dGhpcy5iO2EmJlModGhpcyxcInBhdXNpbmdcIik7cmV0dXJuIGF9O1QucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe0woXCJjYW5jZWxcIixbXSxhcmd1bWVudHMpO3ZhciBhPVwicnVubmluZ1wiPT09dGhpcy5ifHxcInBhdXNpbmdcIj09PXRoaXMuYjthJiZTKHRoaXMsXCJjYW5jZWxpbmdcIik7cmV0dXJuIGF9O3ZhciBXPWZ1bmN0aW9uKGEsYil7dGhpcy5iPWE7aWYoYil0aGlzLmE9YiBpbnN0YW5jZW9mIHk/Yjp4YShiKTtlbHNlIGlmKGE9YS5idWNrZXQoKSxudWxsIT09YSl0aGlzLmE9bmV3IHkoYSxcIlwiKTtlbHNlIHRocm93IG5ldyByKFwibm8tZGVmYXVsdC1idWNrZXRcIixcIk5vIGRlZmF1bHQgYnVja2V0IGZvdW5kLiBEaWQgeW91IHNldCB0aGUgJ3N0b3JhZ2VCdWNrZXQnIHByb3BlcnR5IHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBhcHA/XCIpO307Vy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtMKFwidG9TdHJpbmdcIixbXSxhcmd1bWVudHMpO3JldHVyblwiZ3M6Ly9cIit0aGlzLmEuYnVja2V0K1wiL1wiK3RoaXMuYS5wYXRofTt2YXIgWWI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFcoYSxiKX07az1XLnByb3RvdHlwZTtcbmsuSD1mdW5jdGlvbihhKXtMKFwiY2hpbGRcIixbTigpXSxhcmd1bWVudHMpO3ZhciBiPVRhKHRoaXMuYS5wYXRoLGEpO3JldHVybiBZYih0aGlzLmIsbmV3IHkodGhpcy5hLmJ1Y2tldCxiKSl9O2sua2E9ZnVuY3Rpb24oKXt2YXIgYTthPXRoaXMuYS5wYXRoO2lmKDA9PWEubGVuZ3RoKWE9bnVsbDtlbHNle3ZhciBiPWEubGFzdEluZGV4T2YoXCIvXCIpO2E9LTE9PT1iP1wiXCI6YS5zbGljZSgwLGIpfXJldHVybiBudWxsPT09YT9udWxsOlliKHRoaXMuYixuZXcgeSh0aGlzLmEuYnVja2V0LGEpKX07ay5tYT1mdW5jdGlvbigpe3JldHVybiBZYih0aGlzLmIsbmV3IHkodGhpcy5hLmJ1Y2tldCxcIlwiKSl9O2suVT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuYnVja2V0fTtrLmZhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5wYXRofTtrLmphPWZ1bmN0aW9uKCl7cmV0dXJuIFVhKHRoaXMuYS5wYXRoKX07ay5vYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIubH07XG5rLlo9ZnVuY3Rpb24oYSxiKXtMKFwicHV0XCIsW0FiKCksbmV3IE0oeWIsITApXSxhcmd1bWVudHMpO1godGhpcyxcInB1dFwiKTtyZXR1cm4gbmV3IFQodGhpcyx0aGlzLmIsdGhpcy5hLHZiKCksbmV3IEooYSksYil9O2suJD1mdW5jdGlvbihhLGIsYyl7TChcInB1dFN0cmluZ1wiLFtOKCksTih6YSwhMCksbmV3IE0oeWIsITApXSxhcmd1bWVudHMpO1godGhpcyxcInB1dFN0cmluZ1wiKTt2YXIgZD1FYSh3KGIpP2I6XCJyYXdcIixhKSxlPWM/a2EoYyk6e307IXcoZS5jb250ZW50VHlwZSkmJncoZC5hKSYmKGUuY29udGVudFR5cGU9ZC5hKTtyZXR1cm4gbmV3IFQodGhpcyx0aGlzLmIsdGhpcy5hLHZiKCksbmV3IEooZC5iLCEwKSxlKX07ay5YPWZ1bmN0aW9uKCl7TChcImRlbGV0ZVwiLFtdLGFyZ3VtZW50cyk7WCh0aGlzLFwiZGVsZXRlXCIpO3ZhciBhPXRoaXM7cmV0dXJuIHBiKHRoaXMuYikudGhlbihmdW5jdGlvbihiKXt2YXIgYz1HYihhLmIsYS5hKTtyZXR1cm4gSShhLmIsYyxiKS5hKCl9KX07XG5rLkk9ZnVuY3Rpb24oKXtMKFwiZ2V0TWV0YWRhdGFcIixbXSxhcmd1bWVudHMpO1godGhpcyxcImdldE1ldGFkYXRhXCIpO3ZhciBhPXRoaXM7cmV0dXJuIHBiKHRoaXMuYikudGhlbihmdW5jdGlvbihiKXt2YXIgYz1GYihhLmIsYS5hLHZiKCkpO3JldHVybiBJKGEuYixjLGIpLmEoKX0pfTtrLmFhPWZ1bmN0aW9uKGEpe0woXCJ1cGRhdGVNZXRhZGF0YVwiLFtuZXcgTSh5Yix2b2lkIDApXSxhcmd1bWVudHMpO1godGhpcyxcInVwZGF0ZU1ldGFkYXRhXCIpO3ZhciBiPXRoaXM7cmV0dXJuIHBiKHRoaXMuYikudGhlbihmdW5jdGlvbihjKXt2YXIgZD1iLmIsZT1iLmEsZj1hLGc9dmIoKSxoPXdhKGUpLGg9cStcIi92MFwiK2gsZj14YihmLGcpLGQ9bmV3IHUoaCxcIlBBVENIXCIsRGIoZCxnKSxkLmMpO2QuaGVhZGVycz17XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIn07ZC5ib2R5PWY7ZC5hPUViKGUpO3JldHVybiBJKGIuYixkLGMpLmEoKX0pfTtcbmsuWT1mdW5jdGlvbigpe0woXCJnZXREb3dubG9hZFVSTFwiLFtdLGFyZ3VtZW50cyk7WCh0aGlzLFwiZ2V0RG93bmxvYWRVUkxcIik7cmV0dXJuIHRoaXMuSSgpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmRvd25sb2FkVVJMc1swXTtpZih3KGEpKXJldHVybiBhO3Rocm93IG5ldyByKFwibm8tZG93bmxvYWQtdXJsXCIsXCJUaGUgZ2l2ZW4gZmlsZSBkb2VzIG5vdCBoYXZlIGFueSBkb3dubG9hZCBVUkxzLlwiKTt9KX07dmFyIFg9ZnVuY3Rpb24oYSxiKXtpZihcIlwiPT09YS5hLnBhdGgpdGhyb3cgbmV3IHIoXCJpbnZhbGlkLXJvb3Qtb3BlcmF0aW9uXCIsXCJUaGUgb3BlcmF0aW9uICdcIitiK1wiJyBjYW5ub3QgYmUgcGVyZm9ybWVkIG9uIGEgcm9vdCByZWZlcmVuY2UsIGNyZWF0ZSBhIG5vbi1yb290IHJlZmVyZW5jZSB1c2luZyBjaGlsZCwgc3VjaCBhcyAuY2hpbGQoJ2ZpbGUucG5nJykuXCIpO307dmFyIFk9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9bmV3IG9iKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFcoYSxiKX0sWWEsdGhpcyx3KGIpP2I6bmV3IE9hKTt0aGlzLmI9YTt0aGlzLmM9bmV3IFpiKHRoaXMpfTtrPVkucHJvdG90eXBlO2suYmE9ZnVuY3Rpb24oYSl7TChcInJlZlwiLFtOKGZ1bmN0aW9uKGEpe2lmKC9eW0EtWmEtel0rOlxcL1xcLy8udGVzdChhKSl0aHJvd1wiRXhwZWN0ZWQgY2hpbGQgcGF0aCBidXQgZ290IGEgVVJMLCB1c2UgcmVmRnJvbVVSTCBpbnN0ZWFkLlwiO30sITApXSxhcmd1bWVudHMpO3ZhciBiPW5ldyBXKHRoaXMuYSk7cmV0dXJuIG4oYSk/Yi5IKGEpOmJ9O1xuay5jYT1mdW5jdGlvbihhKXtMKFwicmVmRnJvbVVSTFwiLFtOKGZ1bmN0aW9uKGEpe2lmKCEvXltBLVphLXpdKzpcXC9cXC8vLnRlc3QoYSkpdGhyb3dcIkV4cGVjdGVkIGZ1bGwgVVJMIGJ1dCBnb3QgYSBjaGlsZCBwYXRoLCB1c2UgcmVmIGluc3RlYWQuXCI7dHJ5e3hhKGEpfWNhdGNoKGMpe3Rocm93XCJFeHBlY3RlZCB2YWxpZCBmdWxsIFVSTCBidXQgZ290IGFuIGludmFsaWQgb25lLlwiO319LCExKV0sYXJndW1lbnRzKTtyZXR1cm4gbmV3IFcodGhpcy5hLGEpfTtrLmhhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5ifTtrLmVhPWZ1bmN0aW9uKGEpe0woXCJzZXRNYXhVcGxvYWRSZXRyeVRpbWVcIixbQmIoKV0sYXJndW1lbnRzKTt0aGlzLmEuYj1hfTtrLmdhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5jfTtrLmRhPWZ1bmN0aW9uKGEpe0woXCJzZXRNYXhPcGVyYXRpb25SZXRyeVRpbWVcIixbQmIoKV0sYXJndW1lbnRzKTt0aGlzLmEuYz1hfTtrLlQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtcbmsuUj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O3ZhciBaYj1mdW5jdGlvbihhKXt0aGlzLmE9YX07WmIucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEuYTthLmY9ITA7YS5hPW51bGw7YmIoYS5oKX07dmFyIFo9ZnVuY3Rpb24oYSxiLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpjfSl9O1cucHJvdG90eXBlLnRvU3RyaW5nPVcucHJvdG90eXBlLnRvU3RyaW5nO1cucHJvdG90eXBlLmNoaWxkPVcucHJvdG90eXBlLkg7Vy5wcm90b3R5cGUucHV0PVcucHJvdG90eXBlLlo7Vy5wcm90b3R5cGUucHV0U3RyaW5nPVcucHJvdG90eXBlLiQ7Vy5wcm90b3R5cGVbXCJkZWxldGVcIl09Vy5wcm90b3R5cGUuWDtXLnByb3RvdHlwZS5nZXRNZXRhZGF0YT1XLnByb3RvdHlwZS5JO1cucHJvdG90eXBlLnVwZGF0ZU1ldGFkYXRhPVcucHJvdG90eXBlLmFhO1cucHJvdG90eXBlLmdldERvd25sb2FkVVJMPVcucHJvdG90eXBlLlk7WihXLnByb3RvdHlwZSxcInBhcmVudFwiLFcucHJvdG90eXBlLmthKTtaKFcucHJvdG90eXBlLFwicm9vdFwiLFcucHJvdG90eXBlLm1hKTtaKFcucHJvdG90eXBlLFwiYnVja2V0XCIsVy5wcm90b3R5cGUuVSk7WihXLnByb3RvdHlwZSxcImZ1bGxQYXRoXCIsVy5wcm90b3R5cGUuZmEpO1xuWihXLnByb3RvdHlwZSxcIm5hbWVcIixXLnByb3RvdHlwZS5qYSk7WihXLnByb3RvdHlwZSxcInN0b3JhZ2VcIixXLnByb3RvdHlwZS5vYSk7WS5wcm90b3R5cGUucmVmPVkucHJvdG90eXBlLmJhO1kucHJvdG90eXBlLnJlZkZyb21VUkw9WS5wcm90b3R5cGUuY2E7WihZLnByb3RvdHlwZSxcIm1heE9wZXJhdGlvblJldHJ5VGltZVwiLFkucHJvdG90eXBlLmdhKTtZLnByb3RvdHlwZS5zZXRNYXhPcGVyYXRpb25SZXRyeVRpbWU9WS5wcm90b3R5cGUuZGE7WihZLnByb3RvdHlwZSxcIm1heFVwbG9hZFJldHJ5VGltZVwiLFkucHJvdG90eXBlLmhhKTtZLnByb3RvdHlwZS5zZXRNYXhVcGxvYWRSZXRyeVRpbWU9WS5wcm90b3R5cGUuZWE7WihZLnByb3RvdHlwZSxcImFwcFwiLFkucHJvdG90eXBlLlQpO1ooWS5wcm90b3R5cGUsXCJJTlRFUk5BTFwiLFkucHJvdG90eXBlLlIpO1piLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1aYi5wcm90b3R5cGUuYjtZLnByb3RvdHlwZS5jYXBpXz1mdW5jdGlvbihhKXtxPWF9O1xuVC5wcm90b3R5cGUub249VC5wcm90b3R5cGUuTTtULnByb3RvdHlwZS5yZXN1bWU9VC5wcm90b3R5cGUuTztULnByb3RvdHlwZS5wYXVzZT1ULnByb3RvdHlwZS5OO1QucHJvdG90eXBlLmNhbmNlbD1ULnByb3RvdHlwZS5jYW5jZWw7WihULnByb3RvdHlwZSxcInNuYXBzaG90XCIsVC5wcm90b3R5cGUudyk7WihFLnByb3RvdHlwZSxcImJ5dGVzVHJhbnNmZXJyZWRcIixFLnByb3RvdHlwZS5WKTtaKEUucHJvdG90eXBlLFwidG90YWxCeXRlc1wiLEUucHJvdG90eXBlLnFhKTtaKEUucHJvdG90eXBlLFwic3RhdGVcIixFLnByb3RvdHlwZS5uYSk7WihFLnByb3RvdHlwZSxcIm1ldGFkYXRhXCIsRS5wcm90b3R5cGUuaWEpO1ooRS5wcm90b3R5cGUsXCJkb3dubG9hZFVSTFwiLEUucHJvdG90eXBlLlcpO1ooRS5wcm90b3R5cGUsXCJ0YXNrXCIsRS5wcm90b3R5cGUucGEpO1ooRS5wcm90b3R5cGUsXCJyZWZcIixFLnByb3RvdHlwZS5sYSk7bWEuU1RBVEVfQ0hBTkdFRD1cInN0YXRlX2NoYW5nZWRcIjtcbnYuUlVOTklORz1cInJ1bm5pbmdcIjt2LlBBVVNFRD1cInBhdXNlZFwiO3YuU1VDQ0VTUz1cInN1Y2Nlc3NcIjt2LkNBTkNFTEVEPVwiY2FuY2VsZWRcIjt2LkVSUk9SPVwiZXJyb3JcIjtBLlJBVz1cInJhd1wiO0EuQkFTRTY0PVwiYmFzZTY0XCI7QS5CQVNFNjRVUkw9XCJiYXNlNjR1cmxcIjtBLkRBVEFfVVJMPVwiZGF0YV91cmxcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBuZXcgWShhKX12YXIgYj17VGFza1N0YXRlOnYsVGFza0V2ZW50Om1hLFN0cmluZ0Zvcm1hdDpBLFN0b3JhZ2U6WSxSZWZlcmVuY2U6V307aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBmaXJlYmFzZSlmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlclNlcnZpY2UoXCJzdG9yYWdlXCIsYSxiKTtlbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IGluc3RhbGwgRmlyZWJhc2UgU3RvcmFnZSAtIGJlIHN1cmUgdG8gbG9hZCBmaXJlYmFzZS1hcHAuanMgZmlyc3QuXCIpO30pKCk7fSkuY2FsbCh0aGlzKTtcbn0pLmNhbGwoZ2xvYmFsKTtcbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2Uuc3RvcmFnZTtcbiIsIi8vIGdldCBzdWNjZXNzZnVsIGNvbnRyb2wgZnJvbSBmb3JtIGFuZCBhc3NlbWJsZSBpbnRvIG9iamVjdFxuLy8gaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDQwMS9pbnRlcmFjdC9mb3Jtcy5odG1sI2gtMTcuMTMuMlxuXG4vLyB0eXBlcyB3aGljaCBpbmRpY2F0ZSBhIHN1Ym1pdCBhY3Rpb24gYW5kIGFyZSBub3Qgc3VjY2Vzc2Z1bCBjb250cm9sc1xuLy8gdGhlc2Ugd2lsbCBiZSBpZ25vcmVkXG52YXIga19yX3N1Ym1pdHRlciA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaTtcblxuLy8gbm9kZSBuYW1lcyB3aGljaCBjb3VsZCBiZSBzdWNjZXNzZnVsIGNvbnRyb2xzXG52YXIga19yX3N1Y2Nlc3NfY29udHJscyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuLy8gTWF0Y2hlcyBicmFja2V0IG5vdGF0aW9uLlxudmFyIGJyYWNrZXRzID0gLyhcXFtbXlxcW1xcXV0qXFxdKS9nO1xuXG4vLyBzZXJpYWxpemVzIGZvcm0gZmllbGRzXG4vLyBAcGFyYW0gZm9ybSBNVVNUIGJlIGFuIEhUTUxGb3JtIGVsZW1lbnRcbi8vIEBwYXJhbSBvcHRpb25zIGlzIGFuIG9wdGlvbmFsIGFyZ3VtZW50IHRvIGNvbmZpZ3VyZSB0aGUgc2VyaWFsaXphdGlvbi4gRGVmYXVsdCBvdXRwdXRcbi8vIHdpdGggbm8gb3B0aW9ucyBzcGVjaWZpZWQgaXMgYSB1cmwgZW5jb2RlZCBzdHJpbmdcbi8vICAgIC0gaGFzaDogW3RydWUgfCBmYWxzZV0gQ29uZmlndXJlIHRoZSBvdXRwdXQgdHlwZS4gSWYgdHJ1ZSwgdGhlIG91dHB1dCB3aWxsXG4vLyAgICBiZSBhIGpzIG9iamVjdC5cbi8vICAgIC0gc2VyaWFsaXplcjogW2Z1bmN0aW9uXSBPcHRpb25hbCBzZXJpYWxpemVyIGZ1bmN0aW9uIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9uZS5cbi8vICAgIFRoZSBmdW5jdGlvbiB0YWtlcyAzIGFyZ3VtZW50cyAocmVzdWx0LCBrZXksIHZhbHVlKSBhbmQgc2hvdWxkIHJldHVybiBuZXcgcmVzdWx0XG4vLyAgICBoYXNoIGFuZCB1cmwgZW5jb2RlZCBzdHIgc2VyaWFsaXplcnMgYXJlIHByb3ZpZGVkIHdpdGggdGhpcyBtb2R1bGVcbi8vICAgIC0gZGlzYWJsZWQ6IFt0cnVlIHwgZmFsc2VdLiBJZiB0cnVlIHNlcmlhbGl6ZSBkaXNhYmxlZCBmaWVsZHMuXG4vLyAgICAtIGVtcHR5OiBbdHJ1ZSB8IGZhbHNlXS4gSWYgdHJ1ZSBzZXJpYWxpemUgZW1wdHkgZmllbGRzXG5mdW5jdGlvbiBzZXJpYWxpemUoZm9ybSwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0geyBoYXNoOiAhIW9wdGlvbnMgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5oYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3B0aW9ucy5oYXNoID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gKG9wdGlvbnMuaGFzaCkgPyB7fSA6ICcnO1xuICAgIHZhciBzZXJpYWxpemVyID0gb3B0aW9ucy5zZXJpYWxpemVyIHx8ICgob3B0aW9ucy5oYXNoKSA/IGhhc2hfc2VyaWFsaXplciA6IHN0cl9zZXJpYWxpemUpO1xuXG4gICAgdmFyIGVsZW1lbnRzID0gZm9ybSAmJiBmb3JtLmVsZW1lbnRzID8gZm9ybS5lbGVtZW50cyA6IFtdO1xuXG4gICAgLy9PYmplY3Qgc3RvcmUgZWFjaCByYWRpbyBhbmQgc2V0IGlmIGl0J3MgZW1wdHkgb3Igbm90XG4gICAgdmFyIHJhZGlvX3N0b3JlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGZvciAodmFyIGk9MCA7IGk8ZWxlbWVudHMubGVuZ3RoIDsgKytpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaV07XG5cbiAgICAgICAgLy8gaW5nb3JlIGRpc2FibGVkIGZpZWxkc1xuICAgICAgICBpZiAoKCFvcHRpb25zLmRpc2FibGVkICYmIGVsZW1lbnQuZGlzYWJsZWQpIHx8ICFlbGVtZW50Lm5hbWUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlnbm9yZSBhbnlodGluZyB0aGF0IGlzIG5vdCBjb25zaWRlcmVkIGEgc3VjY2VzcyBmaWVsZFxuICAgICAgICBpZiAoIWtfcl9zdWNjZXNzX2NvbnRybHMudGVzdChlbGVtZW50Lm5vZGVOYW1lKSB8fFxuICAgICAgICAgICAga19yX3N1Ym1pdHRlci50ZXN0KGVsZW1lbnQudHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleSA9IGVsZW1lbnQubmFtZTtcbiAgICAgICAgdmFyIHZhbCA9IGVsZW1lbnQudmFsdWU7XG5cbiAgICAgICAgLy8gd2UgY2FuJ3QganVzdCB1c2UgZWxlbWVudC52YWx1ZSBmb3IgY2hlY2tib3hlcyBjYXVzZSBzb21lIGJyb3dzZXJzIGxpZSB0byB1c1xuICAgICAgICAvLyB0aGV5IHNheSBcIm9uXCIgZm9yIHZhbHVlIHdoZW4gdGhlIGJveCBpc24ndCBjaGVja2VkXG4gICAgICAgIGlmICgoZWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnIHx8IGVsZW1lbnQudHlwZSA9PT0gJ3JhZGlvJykgJiYgIWVsZW1lbnQuY2hlY2tlZCkge1xuICAgICAgICAgICAgdmFsID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgd2Ugd2FudCBlbXB0eSBlbGVtZW50c1xuICAgICAgICBpZiAob3B0aW9ucy5lbXB0eSkge1xuICAgICAgICAgICAgLy8gZm9yIGNoZWNrYm94XG4gICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnICYmICFlbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZm9yIHJhZGlvXG4gICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyYWRpb19zdG9yZVtlbGVtZW50Lm5hbWVdICYmICFlbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaW9fc3RvcmVbZWxlbWVudC5uYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaW9fc3RvcmVbZWxlbWVudC5uYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBvcHRpb25zIGVtcHR5IGlzIHRydWUsIGNvbnRpbnVlIG9ubHkgaWYgaXRzIHJhZGlvXG4gICAgICAgICAgICBpZiAoIXZhbCAmJiBlbGVtZW50LnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdmFsdWUtbGVzcyBmaWVsZHMgYXJlIGlnbm9yZWQgdW5sZXNzIG9wdGlvbnMuZW1wdHkgaXMgdHJ1ZVxuICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG11bHRpIHNlbGVjdCBib3hlc1xuICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSAnc2VsZWN0LW11bHRpcGxlJykge1xuICAgICAgICAgICAgdmFsID0gW107XG5cbiAgICAgICAgICAgIHZhciBzZWxlY3RPcHRpb25zID0gZWxlbWVudC5vcHRpb25zO1xuICAgICAgICAgICAgdmFyIGlzU2VsZWN0ZWRPcHRpb25zID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBqPTAgOyBqPHNlbGVjdE9wdGlvbnMubGVuZ3RoIDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHNlbGVjdE9wdGlvbnNbal07XG4gICAgICAgICAgICAgICAgdmFyIGFsbG93ZWRFbXB0eSA9IG9wdGlvbnMuZW1wdHkgJiYgIW9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzVmFsdWUgPSAob3B0aW9uLnZhbHVlIHx8IGFsbG93ZWRFbXB0eSk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCAmJiBoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkT3B0aW9ucyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdXNpbmcgYSBoYXNoIHNlcmlhbGl6ZXIgYmUgc3VyZSB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvcnJlY3Qgbm90YXRpb24gZm9yIGFuIGFycmF5IGluIHRoZSBtdWx0aS1zZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udGV4dC4gSGVyZSB0aGUgbmFtZSBhdHRyaWJ1dGUgb24gdGhlIHNlbGVjdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIG1pZ2h0IGJlIG1pc3NpbmcgdGhlIHRyYWlsaW5nIGJyYWNrZXQgcGFpci4gQm90aCBuYW1lc1xuICAgICAgICAgICAgICAgICAgICAvLyBcImZvb1wiIGFuZCBcImZvb1tdXCIgc2hvdWxkIGJlIGFycmF5cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzaCAmJiBrZXkuc2xpY2Uoa2V5Lmxlbmd0aCAtIDIpICE9PSAnW10nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzZXJpYWxpemVyKHJlc3VsdCwga2V5ICsgJ1tdJywgb3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNlcmlhbGl6ZXIocmVzdWx0LCBrZXksIG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSBpZiBubyBzZWxlY3RlZCBvcHRpb25zIGFuZCBvcHRpb25zLmVtcHR5IGlzIHRydWVcbiAgICAgICAgICAgIGlmICghaXNTZWxlY3RlZE9wdGlvbnMgJiYgb3B0aW9ucy5lbXB0eSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNlcmlhbGl6ZXIocmVzdWx0LCBrZXksICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQgPSBzZXJpYWxpemVyKHJlc3VsdCwga2V5LCB2YWwpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBhbGwgZW1wdHkgcmFkaW8gYnV0dG9ucyBhbmQgc2VyaWFsaXplIHRoZW0gd2l0aCBrZXk9XCJcIlxuICAgIGlmIChvcHRpb25zLmVtcHR5KSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiByYWRpb19zdG9yZSkge1xuICAgICAgICAgICAgaWYgKCFyYWRpb19zdG9yZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VyaWFsaXplcihyZXN1bHQsIGtleSwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2Vfa2V5cyhzdHJpbmcpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIHZhciBwcmVmaXggPSAvXihbXlxcW1xcXV0qKS87XG4gICAgdmFyIGNoaWxkcmVuID0gbmV3IFJlZ0V4cChicmFja2V0cyk7XG4gICAgdmFyIG1hdGNoID0gcHJlZml4LmV4ZWMoc3RyaW5nKTtcblxuICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICBrZXlzLnB1c2gobWF0Y2hbMV0pO1xuICAgIH1cblxuICAgIHdoaWxlICgobWF0Y2ggPSBjaGlsZHJlbi5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICAgIGtleXMucHVzaChtYXRjaFsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIGhhc2hfYXNzaWduKHJlc3VsdCwga2V5cywgdmFsdWUpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IGtleXMuc2hpZnQoKTtcbiAgICB2YXIgYmV0d2VlbiA9IGtleS5tYXRjaCgvXlxcWyguKz8pXFxdJC8pO1xuXG4gICAgaWYgKGtleSA9PT0gJ1tdJykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgfHwgW107XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaGFzaF9hc3NpZ24obnVsbCwga2V5cywgdmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgbWlnaHQgYmUgdGhlIHJlc3VsdCBvZiBiYWQgbmFtZSBhdHRyaWJ1dGVzIGxpa2UgXCJbXVtmb29dXCIsXG4gICAgICAgICAgICAvLyBpbiB0aGlzIGNhc2UgdGhlIG9yaWdpbmFsIGByZXN1bHRgIG9iamVjdCB3aWxsIGFscmVhZHkgYmVcbiAgICAgICAgICAgIC8vIGFzc2lnbmVkIHRvIGFuIG9iamVjdCBsaXRlcmFsLiBSYXRoZXIgdGhhbiBjb2VyY2UgdGhlIG9iamVjdCB0b1xuICAgICAgICAgICAgLy8gYW4gYXJyYXksIG9yIGNhdXNlIGFuIGV4Y2VwdGlvbiB0aGUgYXR0cmlidXRlIFwiX3ZhbHVlc1wiIGlzXG4gICAgICAgICAgICAvLyBhc3NpZ25lZCBhcyBhbiBhcnJheS5cbiAgICAgICAgICAgIHJlc3VsdC5fdmFsdWVzID0gcmVzdWx0Ll92YWx1ZXMgfHwgW107XG4gICAgICAgICAgICByZXN1bHQuX3ZhbHVlcy5wdXNoKGhhc2hfYXNzaWduKG51bGwsIGtleXMsIHZhbHVlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEtleSBpcyBhbiBhdHRyaWJ1dGUgbmFtZSBhbmQgY2FuIGJlIGFzc2lnbmVkIGRpcmVjdGx5LlxuICAgIGlmICghYmV0d2Vlbikge1xuICAgICAgICByZXN1bHRba2V5XSA9IGhhc2hfYXNzaWduKHJlc3VsdFtrZXldLCBrZXlzLCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgc3RyaW5nID0gYmV0d2VlblsxXTtcbiAgICAgICAgLy8gK3ZhciBjb252ZXJ0cyB0aGUgdmFyaWFibGUgaW50byBhIG51bWJlclxuICAgICAgICAvLyBiZXR0ZXIgdGhhbiBwYXJzZUludCBiZWNhdXNlIGl0IGRvZXNuJ3QgdHJ1bmNhdGUgYXdheSB0cmFpbGluZ1xuICAgICAgICAvLyBsZXR0ZXJzIGFuZCBhY3R1YWxseSBmYWlscyBpZiB3aG9sZSB0aGluZyBpcyBub3QgYSBudW1iZXJcbiAgICAgICAgdmFyIGluZGV4ID0gK3N0cmluZztcblxuICAgICAgICAvLyBJZiB0aGUgY2hhcmFjdGVycyBiZXR3ZWVuIHRoZSBicmFja2V0cyBpcyBub3QgYSBudW1iZXIgaXQgaXMgYW5cbiAgICAgICAgLy8gYXR0cmlidXRlIG5hbWUgYW5kIGNhbiBiZSBhc3NpZ25lZCBkaXJlY3RseS5cbiAgICAgICAgaWYgKGlzTmFOKGluZGV4KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IHt9O1xuICAgICAgICAgICAgcmVzdWx0W3N0cmluZ10gPSBoYXNoX2Fzc2lnbihyZXN1bHRbc3RyaW5nXSwga2V5cywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IFtdO1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGhhc2hfYXNzaWduKHJlc3VsdFtpbmRleF0sIGtleXMsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIE9iamVjdC9oYXNoIGVuY29kaW5nIHNlcmlhbGl6ZXIuXG5mdW5jdGlvbiBoYXNoX3NlcmlhbGl6ZXIocmVzdWx0LCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBrZXkubWF0Y2goYnJhY2tldHMpO1xuXG4gICAgLy8gSGFzIGJyYWNrZXRzPyBVc2UgdGhlIHJlY3Vyc2l2ZSBhc3NpZ25tZW50IGZ1bmN0aW9uIHRvIHdhbGsgdGhlIGtleXMsXG4gICAgLy8gY29uc3RydWN0IGFueSBtaXNzaW5nIG9iamVjdHMgaW4gdGhlIHJlc3VsdCB0cmVlIGFuZCBtYWtlIHRoZSBhc3NpZ25tZW50XG4gICAgLy8gYXQgdGhlIGVuZCBvZiB0aGUgY2hhaW4uXG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgdmFyIGtleXMgPSBwYXJzZV9rZXlzKGtleSk7XG4gICAgICAgIGhhc2hfYXNzaWduKHJlc3VsdCwga2V5cywgdmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gTm9uIGJyYWNrZXQgbm90YXRpb24gY2FuIG1ha2UgYXNzaWdubWVudHMgZGlyZWN0bHkuXG4gICAgICAgIHZhciBleGlzdGluZyA9IHJlc3VsdFtrZXldO1xuXG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBoYXMgYmVlbiBhc3NpZ25lZCBhbHJlYWR5IChmb3IgaW5zdGFuY2Ugd2hlbiBhIHJhZGlvIGFuZFxuICAgICAgICAvLyBhIGNoZWNrYm94IGhhdmUgdGhlIHNhbWUgbmFtZSBhdHRyaWJ1dGUpIGNvbnZlcnQgdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgIC8vIGludG8gYW4gYXJyYXkgYmVmb3JlIHB1c2hpbmcgaW50byBpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gTk9URTogSWYgdGhpcyByZXF1aXJlbWVudCB3ZXJlIHJlbW92ZWQgYWxsIGhhc2ggY3JlYXRpb24gYW5kXG4gICAgICAgIC8vIGFzc2lnbm1lbnQgY291bGQgZ28gdGhyb3VnaCBgaGFzaF9hc3NpZ25gLlxuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IFsgZXhpc3RpbmcgXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gdXJsZm9ybSBlbmNvZGluZyBzZXJpYWxpemVyXG5mdW5jdGlvbiBzdHJfc2VyaWFsaXplKHJlc3VsdCwga2V5LCB2YWx1ZSkge1xuICAgIC8vIGVuY29kZSBuZXdsaW5lcyBhcyBcXHJcXG4gY2F1c2UgdGhlIGh0bWwgc3BlYyBzYXlzIHNvXG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8oXFxyKT9cXG4vZywgJ1xcclxcbicpO1xuICAgIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblxuICAgIC8vIHNwYWNlcyBzaG91bGQgYmUgJysnIHJhdGhlciB0aGFuICclMjAnLlxuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvJTIwL2csICcrJyk7XG4gICAgcmV0dXJuIHJlc3VsdCArIChyZXN1bHQgPyAnJicgOiAnJykgKyBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlcmlhbGl6ZTtcbiIsIihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLnZleERpYWxvZyA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblxuLyoqXG4gKiBFeHBvc2UgYHBhcnNlYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlO1xuXG4vKipcbiAqIFRlc3RzIGZvciBicm93c2VyIHN1cHBvcnQuXG4gKi9cblxudmFyIGlubmVySFRNTEJ1ZyA9IGZhbHNlO1xudmFyIGJ1Z1Rlc3REaXY7XG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICBidWdUZXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIC8vIFNldHVwXG4gIGJ1Z1Rlc3REaXYuaW5uZXJIVE1MID0gJyAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9XCIvYVwiPmE8L2E+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiLz4nO1xuICAvLyBNYWtlIHN1cmUgdGhhdCBsaW5rIGVsZW1lbnRzIGdldCBzZXJpYWxpemVkIGNvcnJlY3RseSBieSBpbm5lckhUTUxcbiAgLy8gVGhpcyByZXF1aXJlcyBhIHdyYXBwZXIgZWxlbWVudCBpbiBJRVxuICBpbm5lckhUTUxCdWcgPSAhYnVnVGVzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpLmxlbmd0aDtcbiAgYnVnVGVzdERpdiA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBXcmFwIG1hcCBmcm9tIGpxdWVyeS5cbiAqL1xuXG52YXIgbWFwID0ge1xuICBsZWdlbmQ6IFsxLCAnPGZpZWxkc2V0PicsICc8L2ZpZWxkc2V0PiddLFxuICB0cjogWzIsICc8dGFibGU+PHRib2R5PicsICc8L3Rib2R5PjwvdGFibGU+J10sXG4gIGNvbDogWzIsICc8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gIC8vIGZvciBzY3JpcHQvbGluay9zdHlsZSB0YWdzIHRvIHdvcmsgaW4gSUU2LTgsIHlvdSBoYXZlIHRvIHdyYXBcbiAgLy8gaW4gYSBkaXYgd2l0aCBhIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciBpbiBmcm9udCwgaGEhXG4gIF9kZWZhdWx0OiBpbm5lckhUTUxCdWcgPyBbMSwgJ1g8ZGl2PicsICc8L2Rpdj4nXSA6IFswLCAnJywgJyddXG59O1xuXG5tYXAudGQgPVxubWFwLnRoID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG5cbm1hcC5vcHRpb24gPVxubWFwLm9wdGdyb3VwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLCAnPC9zZWxlY3Q+J107XG5cbm1hcC50aGVhZCA9XG5tYXAudGJvZHkgPVxubWFwLmNvbGdyb3VwID1cbm1hcC5jYXB0aW9uID1cbm1hcC50Zm9vdCA9IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddO1xuXG5tYXAucG9seWxpbmUgPVxubWFwLmVsbGlwc2UgPVxubWFwLnBvbHlnb24gPVxubWFwLmNpcmNsZSA9XG5tYXAudGV4dCA9XG5tYXAubGluZSA9XG5tYXAucGF0aCA9XG5tYXAucmVjdCA9XG5tYXAuZyA9IFsxLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiPicsJzwvc3ZnPiddO1xuXG4vKipcbiAqIFBhcnNlIGBodG1sYCBhbmQgcmV0dXJuIGEgRE9NIE5vZGUgaW5zdGFuY2UsIHdoaWNoIGNvdWxkIGJlIGEgVGV4dE5vZGUsXG4gKiBIVE1MIERPTSBOb2RlIG9mIHNvbWUga2luZCAoPGRpdj4gZm9yIGV4YW1wbGUpLCBvciBhIERvY3VtZW50RnJhZ21lbnRcbiAqIGluc3RhbmNlLCBkZXBlbmRpbmcgb24gdGhlIGNvbnRlbnRzIG9mIHRoZSBgaHRtbGAgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCBzdHJpbmcgdG8gXCJkb21pZnlcIlxuICogQHBhcmFtIHtEb2N1bWVudH0gZG9jIC0gVGhlIGBkb2N1bWVudGAgaW5zdGFuY2UgdG8gY3JlYXRlIHRoZSBOb2RlIGZvclxuICogQHJldHVybiB7RE9NTm9kZX0gdGhlIFRleHROb2RlLCBET00gTm9kZSwgb3IgRG9jdW1lbnRGcmFnbWVudCBpbnN0YW5jZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2UoaHRtbCwgZG9jKSB7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgaHRtbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkJyk7XG5cbiAgLy8gZGVmYXVsdCB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAgb2JqZWN0XG4gIGlmICghZG9jKSBkb2MgPSBkb2N1bWVudDtcblxuICAvLyB0YWcgbmFtZVxuICB2YXIgbSA9IC88KFtcXHc6XSspLy5leGVjKGh0bWwpO1xuICBpZiAoIW0pIHJldHVybiBkb2MuY3JlYXRlVGV4dE5vZGUoaHRtbCk7XG5cbiAgaHRtbCA9IGh0bWwucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpOyAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlXG5cbiAgdmFyIHRhZyA9IG1bMV07XG5cbiAgLy8gYm9keSBzdXBwb3J0XG4gIGlmICh0YWcgPT0gJ2JvZHknKSB7XG4gICAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZChlbC5sYXN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gd3JhcCBtYXBcbiAgdmFyIHdyYXAgPSBtYXBbdGFnXSB8fCBtYXAuX2RlZmF1bHQ7XG4gIHZhciBkZXB0aCA9IHdyYXBbMF07XG4gIHZhciBwcmVmaXggPSB3cmFwWzFdO1xuICB2YXIgc3VmZml4ID0gd3JhcFsyXTtcbiAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbC5pbm5lckhUTUwgPSBwcmVmaXggKyBodG1sICsgc3VmZml4O1xuICB3aGlsZSAoZGVwdGgtLSkgZWwgPSBlbC5sYXN0Q2hpbGQ7XG5cbiAgLy8gb25lIGVsZW1lbnRcbiAgaWYgKGVsLmZpcnN0Q2hpbGQgPT0gZWwubGFzdENoaWxkKSB7XG4gICAgcmV0dXJuIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gc2V2ZXJhbCBlbGVtZW50c1xuICB2YXIgZnJhZ21lbnQgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpKTtcbiAgfVxuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxufSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBnZXQgc3VjY2Vzc2Z1bCBjb250cm9sIGZyb20gZm9ybSBhbmQgYXNzZW1ibGUgaW50byBvYmplY3Rcbi8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0MDEvaW50ZXJhY3QvZm9ybXMuaHRtbCNoLTE3LjEzLjJcblxuLy8gdHlwZXMgd2hpY2ggaW5kaWNhdGUgYSBzdWJtaXQgYWN0aW9uIGFuZCBhcmUgbm90IHN1Y2Nlc3NmdWwgY29udHJvbHNcbi8vIHRoZXNlIHdpbGwgYmUgaWdub3JlZFxudmFyIGtfcl9zdWJtaXR0ZXIgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2k7XG5cbi8vIG5vZGUgbmFtZXMgd2hpY2ggY291bGQgYmUgc3VjY2Vzc2Z1bCBjb250cm9sc1xudmFyIGtfcl9zdWNjZXNzX2NvbnRybHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG5cbi8vIE1hdGNoZXMgYnJhY2tldCBub3RhdGlvbi5cbnZhciBicmFja2V0cyA9IC8oXFxbW15cXFtcXF1dKlxcXSkvZztcblxuLy8gc2VyaWFsaXplcyBmb3JtIGZpZWxkc1xuLy8gQHBhcmFtIGZvcm0gTVVTVCBiZSBhbiBIVE1MRm9ybSBlbGVtZW50XG4vLyBAcGFyYW0gb3B0aW9ucyBpcyBhbiBvcHRpb25hbCBhcmd1bWVudCB0byBjb25maWd1cmUgdGhlIHNlcmlhbGl6YXRpb24uIERlZmF1bHQgb3V0cHV0XG4vLyB3aXRoIG5vIG9wdGlvbnMgc3BlY2lmaWVkIGlzIGEgdXJsIGVuY29kZWQgc3RyaW5nXG4vLyAgICAtIGhhc2g6IFt0cnVlIHwgZmFsc2VdIENvbmZpZ3VyZSB0aGUgb3V0cHV0IHR5cGUuIElmIHRydWUsIHRoZSBvdXRwdXQgd2lsbFxuLy8gICAgYmUgYSBqcyBvYmplY3QuXG4vLyAgICAtIHNlcmlhbGl6ZXI6IFtmdW5jdGlvbl0gT3B0aW9uYWwgc2VyaWFsaXplciBmdW5jdGlvbiB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBvbmUuXG4vLyAgICBUaGUgZnVuY3Rpb24gdGFrZXMgMyBhcmd1bWVudHMgKHJlc3VsdCwga2V5LCB2YWx1ZSkgYW5kIHNob3VsZCByZXR1cm4gbmV3IHJlc3VsdFxuLy8gICAgaGFzaCBhbmQgdXJsIGVuY29kZWQgc3RyIHNlcmlhbGl6ZXJzIGFyZSBwcm92aWRlZCB3aXRoIHRoaXMgbW9kdWxlXG4vLyAgICAtIGRpc2FibGVkOiBbdHJ1ZSB8IGZhbHNlXS4gSWYgdHJ1ZSBzZXJpYWxpemUgZGlzYWJsZWQgZmllbGRzLlxuLy8gICAgLSBlbXB0eTogW3RydWUgfCBmYWxzZV0uIElmIHRydWUgc2VyaWFsaXplIGVtcHR5IGZpZWxkc1xuZnVuY3Rpb24gc2VyaWFsaXplKGZvcm0sIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3B0aW9ucyA9IHsgaGFzaDogISFvcHRpb25zIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuaGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMuaGFzaCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IChvcHRpb25zLmhhc2gpID8ge30gOiAnJztcbiAgICB2YXIgc2VyaWFsaXplciA9IG9wdGlvbnMuc2VyaWFsaXplciB8fCAoKG9wdGlvbnMuaGFzaCkgPyBoYXNoX3NlcmlhbGl6ZXIgOiBzdHJfc2VyaWFsaXplKTtcblxuICAgIHZhciBlbGVtZW50cyA9IGZvcm0gJiYgZm9ybS5lbGVtZW50cyA/IGZvcm0uZWxlbWVudHMgOiBbXTtcblxuICAgIC8vT2JqZWN0IHN0b3JlIGVhY2ggcmFkaW8gYW5kIHNldCBpZiBpdCdzIGVtcHR5IG9yIG5vdFxuICAgIHZhciByYWRpb19zdG9yZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICBmb3IgKHZhciBpPTAgOyBpPGVsZW1lbnRzLmxlbmd0aCA7ICsraSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuXG4gICAgICAgIC8vIGluZ29yZSBkaXNhYmxlZCBmaWVsZHNcbiAgICAgICAgaWYgKCghb3B0aW9ucy5kaXNhYmxlZCAmJiBlbGVtZW50LmRpc2FibGVkKSB8fCAhZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZ25vcmUgYW55aHRpbmcgdGhhdCBpcyBub3QgY29uc2lkZXJlZCBhIHN1Y2Nlc3MgZmllbGRcbiAgICAgICAgaWYgKCFrX3Jfc3VjY2Vzc19jb250cmxzLnRlc3QoZWxlbWVudC5ub2RlTmFtZSkgfHxcbiAgICAgICAgICAgIGtfcl9zdWJtaXR0ZXIudGVzdChlbGVtZW50LnR5cGUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXkgPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgIHZhciB2YWwgPSBlbGVtZW50LnZhbHVlO1xuXG4gICAgICAgIC8vIHdlIGNhbid0IGp1c3QgdXNlIGVsZW1lbnQudmFsdWUgZm9yIGNoZWNrYm94ZXMgY2F1c2Ugc29tZSBicm93c2VycyBsaWUgdG8gdXNcbiAgICAgICAgLy8gdGhleSBzYXkgXCJvblwiIGZvciB2YWx1ZSB3aGVuIHRoZSBib3ggaXNuJ3QgY2hlY2tlZFxuICAgICAgICBpZiAoKGVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbGVtZW50LnR5cGUgPT09ICdyYWRpbycpICYmICFlbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIHdhbnQgZW1wdHkgZWxlbWVudHNcbiAgICAgICAgaWYgKG9wdGlvbnMuZW1wdHkpIHtcbiAgICAgICAgICAgIC8vIGZvciBjaGVja2JveFxuICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94JyAmJiAhZWxlbWVudC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZvciByYWRpb1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIGlmICghcmFkaW9fc3RvcmVbZWxlbWVudC5uYW1lXSAmJiAhZWxlbWVudC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhZGlvX3N0b3JlW2VsZW1lbnQubmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbWVudC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhZGlvX3N0b3JlW2VsZW1lbnQubmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgb3B0aW9ucyBlbXB0eSBpcyB0cnVlLCBjb250aW51ZSBvbmx5IGlmIGl0cyByYWRpb1xuICAgICAgICAgICAgaWYgKCF2YWwgJiYgZWxlbWVudC50eXBlID09ICdyYWRpbycpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHZhbHVlLWxlc3MgZmllbGRzIGFyZSBpZ25vcmVkIHVubGVzcyBvcHRpb25zLmVtcHR5IGlzIHRydWVcbiAgICAgICAgICAgIGlmICghdmFsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtdWx0aSBzZWxlY3QgYm94ZXNcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ3NlbGVjdC1tdWx0aXBsZScpIHtcbiAgICAgICAgICAgIHZhbCA9IFtdO1xuXG4gICAgICAgICAgICB2YXIgc2VsZWN0T3B0aW9ucyA9IGVsZW1lbnQub3B0aW9ucztcbiAgICAgICAgICAgIHZhciBpc1NlbGVjdGVkT3B0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaj0wIDsgajxzZWxlY3RPcHRpb25zLmxlbmd0aCA7ICsraikge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBzZWxlY3RPcHRpb25zW2pdO1xuICAgICAgICAgICAgICAgIHZhciBhbGxvd2VkRW1wdHkgPSBvcHRpb25zLmVtcHR5ICYmICFvcHRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGhhc1ZhbHVlID0gKG9wdGlvbi52YWx1ZSB8fCBhbGxvd2VkRW1wdHkpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgJiYgaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZE9wdGlvbnMgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHVzaW5nIGEgaGFzaCBzZXJpYWxpemVyIGJlIHN1cmUgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZWN0IG5vdGF0aW9uIGZvciBhbiBhcnJheSBpbiB0aGUgbXVsdGktc2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRleHQuIEhlcmUgdGhlIG5hbWUgYXR0cmlidXRlIG9uIHRoZSBzZWxlY3QgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBtaWdodCBiZSBtaXNzaW5nIHRoZSB0cmFpbGluZyBicmFja2V0IHBhaXIuIEJvdGggbmFtZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gXCJmb29cIiBhbmQgXCJmb29bXVwiIHNob3VsZCBiZSBhcnJheXMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc2ggJiYga2V5LnNsaWNlKGtleS5sZW5ndGggLSAyKSAhPT0gJ1tdJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VyaWFsaXplcihyZXN1bHQsIGtleSArICdbXScsIG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzZXJpYWxpemVyKHJlc3VsdCwga2V5LCBvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXJpYWxpemUgaWYgbm8gc2VsZWN0ZWQgb3B0aW9ucyBhbmQgb3B0aW9ucy5lbXB0eSBpcyB0cnVlXG4gICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWRPcHRpb25zICYmIG9wdGlvbnMuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzZXJpYWxpemVyKHJlc3VsdCwga2V5LCAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ID0gc2VyaWFsaXplcihyZXN1bHQsIGtleSwgdmFsKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgYWxsIGVtcHR5IHJhZGlvIGJ1dHRvbnMgYW5kIHNlcmlhbGl6ZSB0aGVtIHdpdGgga2V5PVwiXCJcbiAgICBpZiAob3B0aW9ucy5lbXB0eSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcmFkaW9fc3RvcmUpIHtcbiAgICAgICAgICAgIGlmICghcmFkaW9fc3RvcmVba2V5XSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNlcmlhbGl6ZXIocmVzdWx0LCBrZXksICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlX2tleXMoc3RyaW5nKSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICB2YXIgcHJlZml4ID0gL14oW15cXFtcXF1dKikvO1xuICAgIHZhciBjaGlsZHJlbiA9IG5ldyBSZWdFeHAoYnJhY2tldHMpO1xuICAgIHZhciBtYXRjaCA9IHByZWZpeC5leGVjKHN0cmluZyk7XG5cbiAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAga2V5cy5wdXNoKG1hdGNoWzFdKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoKG1hdGNoID0gY2hpbGRyZW4uZXhlYyhzdHJpbmcpKSAhPT0gbnVsbCkge1xuICAgICAgICBrZXlzLnB1c2gobWF0Y2hbMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xufVxuXG5mdW5jdGlvbiBoYXNoX2Fzc2lnbihyZXN1bHQsIGtleXMsIHZhbHVlKSB7XG4gICAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHZhciBrZXkgPSBrZXlzLnNoaWZ0KCk7XG4gICAgdmFyIGJldHdlZW4gPSBrZXkubWF0Y2goL15cXFsoLis/KVxcXSQvKTtcblxuICAgIGlmIChrZXkgPT09ICdbXScpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IFtdO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGhhc2hfYXNzaWduKG51bGwsIGtleXMsIHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGlzIG1pZ2h0IGJlIHRoZSByZXN1bHQgb2YgYmFkIG5hbWUgYXR0cmlidXRlcyBsaWtlIFwiW11bZm9vXVwiLFxuICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlIHRoZSBvcmlnaW5hbCBgcmVzdWx0YCBvYmplY3Qgd2lsbCBhbHJlYWR5IGJlXG4gICAgICAgICAgICAvLyBhc3NpZ25lZCB0byBhbiBvYmplY3QgbGl0ZXJhbC4gUmF0aGVyIHRoYW4gY29lcmNlIHRoZSBvYmplY3QgdG9cbiAgICAgICAgICAgIC8vIGFuIGFycmF5LCBvciBjYXVzZSBhbiBleGNlcHRpb24gdGhlIGF0dHJpYnV0ZSBcIl92YWx1ZXNcIiBpc1xuICAgICAgICAgICAgLy8gYXNzaWduZWQgYXMgYW4gYXJyYXkuXG4gICAgICAgICAgICByZXN1bHQuX3ZhbHVlcyA9IHJlc3VsdC5fdmFsdWVzIHx8IFtdO1xuICAgICAgICAgICAgcmVzdWx0Ll92YWx1ZXMucHVzaChoYXNoX2Fzc2lnbihudWxsLCBrZXlzLCB2YWx1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBLZXkgaXMgYW4gYXR0cmlidXRlIG5hbWUgYW5kIGNhbiBiZSBhc3NpZ25lZCBkaXJlY3RseS5cbiAgICBpZiAoIWJldHdlZW4pIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBoYXNoX2Fzc2lnbihyZXN1bHRba2V5XSwga2V5cywgdmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHN0cmluZyA9IGJldHdlZW5bMV07XG4gICAgICAgIC8vICt2YXIgY29udmVydHMgdGhlIHZhcmlhYmxlIGludG8gYSBudW1iZXJcbiAgICAgICAgLy8gYmV0dGVyIHRoYW4gcGFyc2VJbnQgYmVjYXVzZSBpdCBkb2Vzbid0IHRydW5jYXRlIGF3YXkgdHJhaWxpbmdcbiAgICAgICAgLy8gbGV0dGVycyBhbmQgYWN0dWFsbHkgZmFpbHMgaWYgd2hvbGUgdGhpbmcgaXMgbm90IGEgbnVtYmVyXG4gICAgICAgIHZhciBpbmRleCA9ICtzdHJpbmc7XG5cbiAgICAgICAgLy8gSWYgdGhlIGNoYXJhY3RlcnMgYmV0d2VlbiB0aGUgYnJhY2tldHMgaXMgbm90IGEgbnVtYmVyIGl0IGlzIGFuXG4gICAgICAgIC8vIGF0dHJpYnV0ZSBuYW1lIGFuZCBjYW4gYmUgYXNzaWduZWQgZGlyZWN0bHkuXG4gICAgICAgIGlmIChpc05hTihpbmRleCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB7fTtcbiAgICAgICAgICAgIHJlc3VsdFtzdHJpbmddID0gaGFzaF9hc3NpZ24ocmVzdWx0W3N0cmluZ10sIGtleXMsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCB8fCBbXTtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBoYXNoX2Fzc2lnbihyZXN1bHRbaW5kZXhdLCBrZXlzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBPYmplY3QvaGFzaCBlbmNvZGluZyBzZXJpYWxpemVyLlxuZnVuY3Rpb24gaGFzaF9zZXJpYWxpemVyKHJlc3VsdCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBtYXRjaGVzID0ga2V5Lm1hdGNoKGJyYWNrZXRzKTtcblxuICAgIC8vIEhhcyBicmFja2V0cz8gVXNlIHRoZSByZWN1cnNpdmUgYXNzaWdubWVudCBmdW5jdGlvbiB0byB3YWxrIHRoZSBrZXlzLFxuICAgIC8vIGNvbnN0cnVjdCBhbnkgbWlzc2luZyBvYmplY3RzIGluIHRoZSByZXN1bHQgdHJlZSBhbmQgbWFrZSB0aGUgYXNzaWdubWVudFxuICAgIC8vIGF0IHRoZSBlbmQgb2YgdGhlIGNoYWluLlxuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHZhciBrZXlzID0gcGFyc2Vfa2V5cyhrZXkpO1xuICAgICAgICBoYXNoX2Fzc2lnbihyZXN1bHQsIGtleXMsIHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE5vbiBicmFja2V0IG5vdGF0aW9uIGNhbiBtYWtlIGFzc2lnbm1lbnRzIGRpcmVjdGx5LlxuICAgICAgICB2YXIgZXhpc3RpbmcgPSByZXN1bHRba2V5XTtcblxuICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaGFzIGJlZW4gYXNzaWduZWQgYWxyZWFkeSAoZm9yIGluc3RhbmNlIHdoZW4gYSByYWRpbyBhbmRcbiAgICAgICAgLy8gYSBjaGVja2JveCBoYXZlIHRoZSBzYW1lIG5hbWUgYXR0cmlidXRlKSBjb252ZXJ0IHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAvLyBpbnRvIGFuIGFycmF5IGJlZm9yZSBwdXNoaW5nIGludG8gaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIE5PVEU6IElmIHRoaXMgcmVxdWlyZW1lbnQgd2VyZSByZW1vdmVkIGFsbCBoYXNoIGNyZWF0aW9uIGFuZFxuICAgICAgICAvLyBhc3NpZ25tZW50IGNvdWxkIGdvIHRocm91Z2ggYGhhc2hfYXNzaWduYC5cbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhpc3RpbmcpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBbIGV4aXN0aW5nIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIHVybGZvcm0gZW5jb2Rpbmcgc2VyaWFsaXplclxuZnVuY3Rpb24gc3RyX3NlcmlhbGl6ZShyZXN1bHQsIGtleSwgdmFsdWUpIHtcbiAgICAvLyBlbmNvZGUgbmV3bGluZXMgYXMgXFxyXFxuIGNhdXNlIHRoZSBodG1sIHNwZWMgc2F5cyBzb1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvKFxccik/XFxuL2csICdcXHJcXG4nKTtcbiAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG5cbiAgICAvLyBzcGFjZXMgc2hvdWxkIGJlICcrJyByYXRoZXIgdGhhbiAnJTIwJy5cbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoLyUyMC9nLCAnKycpO1xuICAgIHJldHVybiByZXN1bHQgKyAocmVzdWx0ID8gJyYnIDogJycpICsgZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyB2YWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXJpYWxpemU7XG5cbn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGRvbWlmeSA9IHJlcXVpcmUoJ2RvbWlmeScpXHJcbnZhciBzZXJpYWxpemUgPSByZXF1aXJlKCdmb3JtLXNlcmlhbGl6ZScpXHJcblxyXG4vLyBCdWlsZCBET00gZWxlbWVudHMgZm9yIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGRpYWxvZ1xyXG52YXIgYnVpbGREaWFsb2dGb3JtID0gZnVuY3Rpb24gYnVpbGREaWFsb2dGb3JtIChvcHRpb25zKSB7XHJcbiAgdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcclxuICBmb3JtLmNsYXNzTGlzdC5hZGQoJ3ZleC1kaWFsb2ctZm9ybScpXHJcblxyXG4gIHZhciBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBtZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ3ZleC1kaWFsb2ctbWVzc2FnZScpXHJcbiAgbWVzc2FnZS5hcHBlbmRDaGlsZChvcHRpb25zLm1lc3NhZ2UgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSA/IG9wdGlvbnMubWVzc2FnZSA6IGRvbWlmeShvcHRpb25zLm1lc3NhZ2UpKVxyXG5cclxuICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gIGlucHV0LmNsYXNzTGlzdC5hZGQoJ3ZleC1kaWFsb2ctaW5wdXQnKVxyXG4gIGlucHV0LmFwcGVuZENoaWxkKG9wdGlvbnMuaW5wdXQgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSA/IG9wdGlvbnMuaW5wdXQgOiBkb21pZnkob3B0aW9ucy5pbnB1dCkpXHJcblxyXG4gIGZvcm0uYXBwZW5kQ2hpbGQobWVzc2FnZSlcclxuICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KVxyXG5cclxuICByZXR1cm4gZm9ybVxyXG59XHJcblxyXG4vLyBUYWtlIGFuIGFycmF5IG9mIGJ1dHRvbnMgKHNlZSB0aGUgZGVmYXVsdCBidXR0b25zIGJlbG93KSBhbmQgdHVybiB0aGVtIGludG8gRE9NIGVsZW1lbnRzXHJcbnZhciBidXR0b25zVG9ET00gPSBmdW5jdGlvbiBidXR0b25zVG9ET00gKGJ1dHRvbnMpIHtcclxuICB2YXIgZG9tQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgZG9tQnV0dG9ucy5jbGFzc0xpc3QuYWRkKCd2ZXgtZGlhbG9nLWJ1dHRvbnMnKVxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciBidXR0b24gPSBidXR0b25zW2ldXHJcbiAgICB2YXIgZG9tQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuICAgIGRvbUJ1dHRvbi50eXBlID0gYnV0dG9uLnR5cGVcclxuICAgIGRvbUJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1dHRvbi50ZXh0XHJcbiAgICBkb21CdXR0b24uY2xhc3NMaXN0LmFkZChidXR0b24uY2xhc3NOYW1lKVxyXG4gICAgZG9tQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3ZleC1kaWFsb2ctYnV0dG9uJylcclxuICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgIGRvbUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd2ZXgtZmlyc3QnKVxyXG4gICAgfSBlbHNlIGlmIChpID09PSBidXR0b25zLmxlbmd0aCAtIDEpIHtcclxuICAgICAgZG9tQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3ZleC1sYXN0JylcclxuICAgIH1cclxuICAgIC8vIEF0dGFjaCBjbGljayBsaXN0ZW5lciB0byBidXR0b24gd2l0aCBjbG9zdXJlXHJcbiAgICAoZnVuY3Rpb24gKGJ1dHRvbikge1xyXG4gICAgICBkb21CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChidXR0b24uY2xpY2spIHtcclxuICAgICAgICAgIGJ1dHRvbi5jbGljay5jYWxsKHRoaXMsIGUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LmJpbmQodGhpcykpXHJcbiAgICB9LmJpbmQodGhpcykoYnV0dG9uKSlcclxuXHJcbiAgICBkb21CdXR0b25zLmFwcGVuZENoaWxkKGRvbUJ1dHRvbilcclxuICB9XHJcblxyXG4gIHJldHVybiBkb21CdXR0b25zXHJcbn1cclxuXHJcbnZhciBwbHVnaW4gPSBmdW5jdGlvbiBwbHVnaW4gKHZleCkge1xyXG4gIC8vIERlZmluZSB0aGUgQVBJIGZpcnN0XHJcbiAgdmFyIGRpYWxvZyA9IHtcclxuICAgIC8vIFBsdWdpbiBuYW1lXHJcbiAgICBuYW1lOiAnZGlhbG9nJyxcclxuXHJcbiAgICAvLyBPcGVuXHJcbiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuIChvcHRzKSB7XHJcbiAgICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgb3B0cylcclxuXHJcbiAgICAgIC8vIGBtZXNzYWdlYCBpcyB1bnNhZmUgaW50ZXJuYWxseSwgc28gdHJhbnNsYXRlXHJcbiAgICAgIC8vIHNhZmUgZGVmYXVsdDogSFRNTC1lc2NhcGUgdGhlIG1lc3NhZ2UgYmVmb3JlIHBhc3NpbmcgaXQgdGhyb3VnaFxyXG4gICAgICBpZiAob3B0aW9ucy51bnNhZmVNZXNzYWdlICYmICFvcHRpb25zLm1lc3NhZ2UpIHtcclxuICAgICAgICBvcHRpb25zLm1lc3NhZ2UgPSBvcHRpb25zLnVuc2FmZU1lc3NhZ2VcclxuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm1lc3NhZ2UpIHtcclxuICAgICAgICBvcHRpb25zLm1lc3NhZ2UgPSB2ZXguX2VzY2FwZUh0bWwob3B0aW9ucy5tZXNzYWdlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBCdWlsZCB0aGUgZm9ybSBmcm9tIHRoZSBvcHRpb25zXHJcbiAgICAgIHZhciBmb3JtID0gb3B0aW9ucy51bnNhZmVDb250ZW50ID0gYnVpbGREaWFsb2dGb3JtKG9wdGlvbnMpXHJcblxyXG4gICAgICAvLyBPcGVuIHRoZSBkaWFsb2dcclxuICAgICAgdmFyIGRpYWxvZ0luc3RhbmNlID0gdmV4Lm9wZW4ob3B0aW9ucylcclxuXHJcbiAgICAgIC8vIFF1aWNrIGNvbW1lbnQgLSB0aGVzZSBvcHRpb25zIGFuZCBhcHBlbmRpbmcgYnV0dG9ucyBhbmQgZXZlcnl0aGluZ1xyXG4gICAgICAvLyB3b3VsZCBwcmVmZXJhYmx5IGJlIGRvbmUgX2JlZm9yZV8gb3BlbmluZyB0aGUgZGlhbG9nLiBIb3dldmVyLCBzaW5jZVxyXG4gICAgICAvLyB0aGV5IHJlbHkgb24gdGhlIGNvbnRleHQgb2YgdGhlIHZleCBpbnN0YW5jZSwgd2UgaGF2ZSB0byBkbyB0aGVtXHJcbiAgICAgIC8vIGFmdGVyLiBBIHBvdGVudGlhbCBmdXR1cmUgZml4IHdvdWxkIGJlIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlblxyXG4gICAgICAvLyBhIFwiY3JlYXRlZFwiIHZleCBpbnN0YW5jZSBhbmQgYW4gXCJvcGVuZWRcIiB2ZXggaW5zdGFuY2UsIHNvIGFueSBhY3Rpb25zXHJcbiAgICAgIC8vIHRoYXQgcmVseSBvbiB0aGUgc3BlY2lmaWMgY29udGV4dCBvZiB0aGUgaW5zdGFuY2UgY2FuIGRvIHRoZWlyIHN0dWZmXHJcbiAgICAgIC8vIGJlZm9yZSBvcGVuaW5nIHRoZSBkaWFsb2cgb24gdGhlIHBhZ2UuXHJcblxyXG4gICAgICAvLyBPdmVycmlkZSB0aGUgYmVmb3JlIGNsb3NlIGNhbGxiYWNrIHRvIGFsc28gcGFzcyB0aGUgdmFsdWUgb2YgdGhlIGZvcm1cclxuICAgICAgdmFyIGJlZm9yZUNsb3NlID0gb3B0aW9ucy5iZWZvcmVDbG9zZSAmJiBvcHRpb25zLmJlZm9yZUNsb3NlLmJpbmQoZGlhbG9nSW5zdGFuY2UpXHJcbiAgICAgIGRpYWxvZ0luc3RhbmNlLm9wdGlvbnMuYmVmb3JlQ2xvc2UgPSBmdW5jdGlvbiBkaWFsb2dCZWZvcmVDbG9zZSAoKSB7XHJcbiAgICAgICAgLy8gT25seSBjYWxsIHRoZSBjYWxsYmFjayBvbmNlIC0gd2hlbiB0aGUgdmFsaWRhdGlvbiBpbiBiZWZvcmVDbG9zZSwgaWYgcHJlc2VudCwgaXMgdHJ1ZVxyXG4gICAgICAgIHZhciBzaG91bGRDbG9zZSA9IGJlZm9yZUNsb3NlID8gYmVmb3JlQ2xvc2UoKSA6IHRydWVcclxuICAgICAgICBpZiAoc2hvdWxkQ2xvc2UpIHtcclxuICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2sodGhpcy52YWx1ZSB8fCBmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSByZXN1bHQgb2YgYmVmb3JlQ2xvc2UoKSB0byB2ZXhcclxuICAgICAgICByZXR1cm4gc2hvdWxkQ2xvc2VcclxuICAgICAgfS5iaW5kKGRpYWxvZ0luc3RhbmNlKVxyXG5cclxuICAgICAgLy8gQXBwZW5kIGJ1dHRvbnMgdG8gZm9ybSB3aXRoIGNvcnJlY3QgY29udGV4dFxyXG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbnNUb0RPTS5jYWxsKGRpYWxvZ0luc3RhbmNlLCBvcHRpb25zLmJ1dHRvbnMpKVxyXG5cclxuICAgICAgLy8gQXR0YWNoIGZvcm0gdG8gaW5zdGFuY2VcclxuICAgICAgZGlhbG9nSW5zdGFuY2UuZm9ybSA9IGZvcm1cclxuXHJcbiAgICAgIC8vIEFkZCBzdWJtaXQgbGlzdGVuZXIgdG8gZm9ybVxyXG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIG9wdGlvbnMub25TdWJtaXQuYmluZChkaWFsb2dJbnN0YW5jZSkpXHJcblxyXG4gICAgICAvLyBPcHRpb25hbGx5IGZvY3VzIHRoZSBmaXJzdCBpbnB1dCBpbiB0aGUgZm9ybVxyXG4gICAgICBpZiAob3B0aW9ucy5mb2N1c0ZpcnN0SW5wdXQpIHtcclxuICAgICAgICB2YXIgZWwgPSBkaWFsb2dJbnN0YW5jZS5jb250ZW50RWwucXVlcnlTZWxlY3RvcignYnV0dG9uLCBpbnB1dCwgdGV4dGFyZWEnKVxyXG4gICAgICAgIGlmIChlbCkge1xyXG4gICAgICAgICAgZWwuZm9jdXMoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRm9yIGNoYWluaW5nXHJcbiAgICAgIHJldHVybiBkaWFsb2dJbnN0YW5jZVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBBbGVydFxyXG4gICAgYWxlcnQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgIC8vIEFsbG93IHN0cmluZyBhcyBtZXNzYWdlXHJcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBvcHRpb25zID0ge1xyXG4gICAgICAgICAgbWVzc2FnZTogb3B0aW9uc1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgdGhpcy5kZWZhdWx0QWxlcnRPcHRpb25zLCBvcHRpb25zKVxyXG4gICAgICByZXR1cm4gdGhpcy5vcGVuKG9wdGlvbnMpXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIENvbmZpcm1cclxuICAgIGNvbmZpcm06IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RpYWxvZy5jb25maXJtKG9wdGlvbnMpIHJlcXVpcmVzIG9wdGlvbnMuY2FsbGJhY2suJylcclxuICAgICAgfVxyXG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgdGhpcy5kZWZhdWx0Q29uZmlybU9wdGlvbnMsIG9wdGlvbnMpXHJcbiAgICAgIHJldHVybiB0aGlzLm9wZW4ob3B0aW9ucylcclxuICAgIH0sXHJcblxyXG4gICAgLy8gUHJvbXB0XHJcbiAgICBwcm9tcHQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RpYWxvZy5wcm9tcHQob3B0aW9ucykgcmVxdWlyZXMgb3B0aW9ucy5jYWxsYmFjay4nKVxyXG4gICAgICB9XHJcbiAgICAgIHZhciBkZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdE9wdGlvbnMsIHRoaXMuZGVmYXVsdFByb21wdE9wdGlvbnMpXHJcbiAgICAgIHZhciBkeW5hbWljRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgdW5zYWZlTWVzc2FnZTogJzxsYWJlbCBmb3I9XCJ2ZXhcIj4nICsgdmV4Ll9lc2NhcGVIdG1sKG9wdGlvbnMubGFiZWwgfHwgZGVmYXVsdHMubGFiZWwpICsgJzwvbGFiZWw+JyxcclxuICAgICAgICBpbnB1dDogJzxpbnB1dCBuYW1lPVwidmV4XCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInZleC1kaWFsb2ctcHJvbXB0LWlucHV0XCIgcGxhY2Vob2xkZXI9XCInICsgdmV4Ll9lc2NhcGVIdG1sKG9wdGlvbnMucGxhY2Vob2xkZXIgfHwgZGVmYXVsdHMucGxhY2Vob2xkZXIpICsgJ1wiIHZhbHVlPVwiJyArIHZleC5fZXNjYXBlSHRtbChvcHRpb25zLnZhbHVlIHx8IGRlZmF1bHRzLnZhbHVlKSArICdcIiAvPidcclxuICAgICAgfVxyXG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgZHluYW1pY0RlZmF1bHRzLCBvcHRpb25zKVxyXG4gICAgICAvLyBQbHVjayB0aGUgdmFsdWUgb2YgdGhlIFwidmV4XCIgaW5wdXQgZmllbGQgYXMgdGhlIHJldHVybiB2YWx1ZSBmb3IgcHJvbXB0J3MgY2FsbGJhY2tcclxuICAgICAgLy8gTW9yZSBjbG9zZWx5IG1pbWljcyBcIndpbmRvdy5wcm9tcHRcIiBpbiB0aGF0IGEgc2luZ2xlIHN0cmluZyBpcyByZXR1cm5lZFxyXG4gICAgICB2YXIgY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrXHJcbiAgICAgIG9wdGlvbnMuY2FsbGJhY2sgPSBmdW5jdGlvbiBwcm9tcHRDYWxsYmFjayAodmFsdWUpIHtcclxuICAgICAgICB2YWx1ZSA9IHZhbHVlW09iamVjdC5rZXlzKHZhbHVlKVswXV1cclxuICAgICAgICBjYWxsYmFjayh2YWx1ZSlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5vcGVuKG9wdGlvbnMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBOb3cgZGVmaW5lIGFueSBhZGRpdGlvbmFsIGRhdGEgdGhhdCdzIG5vdCB0aGUgZGlyZWN0IGRpYWxvZyBBUElcclxuICBkaWFsb2cuYnV0dG9ucyA9IHtcclxuICAgIFlFUzoge1xyXG4gICAgICB0ZXh0OiAnT0snLFxyXG4gICAgICB0eXBlOiAnc3VibWl0JyxcclxuICAgICAgY2xhc3NOYW1lOiAndmV4LWRpYWxvZy1idXR0b24tcHJpbWFyeScsXHJcbiAgICAgIGNsaWNrOiBmdW5jdGlvbiB5ZXNDbGljayAoKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBOTzoge1xyXG4gICAgICB0ZXh0OiAnQ2FuY2VsJyxcclxuICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgIGNsYXNzTmFtZTogJ3ZleC1kaWFsb2ctYnV0dG9uLXNlY29uZGFyeScsXHJcbiAgICAgIGNsaWNrOiBmdW5jdGlvbiBub0NsaWNrICgpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gZmFsc2VcclxuICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlhbG9nLmRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgaW5wdXQ6ICcnLFxyXG4gICAgYnV0dG9uczogW1xyXG4gICAgICBkaWFsb2cuYnV0dG9ucy5ZRVMsXHJcbiAgICAgIGRpYWxvZy5idXR0b25zLk5PXHJcbiAgICBdLFxyXG4gICAgc2hvd0Nsb3NlQnV0dG9uOiBmYWxzZSxcclxuICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvbkRpYWxvZ1N1Ym1pdCAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnB1dCkge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBzZXJpYWxpemUodGhpcy5mb3JtLCB7IGhhc2g6IHRydWUgfSlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5jbG9zZSgpXHJcbiAgICB9LFxyXG4gICAgZm9jdXNGaXJzdElucHV0OiB0cnVlXHJcbiAgfVxyXG5cclxuICBkaWFsb2cuZGVmYXVsdEFsZXJ0T3B0aW9ucyA9IHtcclxuICAgIGJ1dHRvbnM6IFtcclxuICAgICAgZGlhbG9nLmJ1dHRvbnMuWUVTXHJcbiAgICBdXHJcbiAgfVxyXG5cclxuICBkaWFsb2cuZGVmYXVsdFByb21wdE9wdGlvbnMgPSB7XHJcbiAgICBsYWJlbDogJ1Byb21wdDonLFxyXG4gICAgcGxhY2Vob2xkZXI6ICcnLFxyXG4gICAgdmFsdWU6ICcnXHJcbiAgfVxyXG5cclxuICBkaWFsb2cuZGVmYXVsdENvbmZpcm1PcHRpb25zID0ge31cclxuXHJcbiAgcmV0dXJuIGRpYWxvZ1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpblxyXG5cbn0se1wiZG9taWZ5XCI6MSxcImZvcm0tc2VyaWFsaXplXCI6Mn1dfSx7fSxbM10pKDMpXG59KTsiLCIoZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy52ZXggPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKlxuICogY2xhc3NMaXN0LmpzOiBDcm9zcy1icm93c2VyIGZ1bGwgZWxlbWVudC5jbGFzc0xpc3QgaW1wbGVtZW50YXRpb24uXG4gKiAyMDE0LTA3LTIzXG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogUHVibGljIERvbWFpbi5cbiAqIE5PIFdBUlJBTlRZIEVYUFJFU1NFRCBPUiBJTVBMSUVELiBVU0UgQVQgWU9VUiBPV04gUklTSy5cbiAqL1xuXG4vKmdsb2JhbCBzZWxmLCBkb2N1bWVudCwgRE9NRXhjZXB0aW9uICovXG5cbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvY2xhc3NMaXN0LmpzKi9cblxuLyogQ29waWVkIGZyb20gTUROOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xhc3NMaXN0XG4gKi9cblxuaWYgKFwiZG9jdW1lbnRcIiBpbiB3aW5kb3cuc2VsZikge1xuXG4gIC8vIEZ1bGwgcG9seWZpbGwgZm9yIGJyb3dzZXJzIHdpdGggbm8gY2xhc3NMaXN0IHN1cHBvcnRcbiAgLy8gSW5jbHVkaW5nIElFIDwgRWRnZSBtaXNzaW5nIFNWR0VsZW1lbnQuY2xhc3NMaXN0XG4gIGlmICghKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikpXG4gICAgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmICEoXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiZ1wiKSkpIHtcblxuICAoZnVuY3Rpb24gKHZpZXcpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKCEoJ0VsZW1lbnQnIGluIHZpZXcpKSByZXR1cm47XG5cbiAgICB2YXJcbiAgICAgICAgY2xhc3NMaXN0UHJvcCA9IFwiY2xhc3NMaXN0XCJcbiAgICAgICwgcHJvdG9Qcm9wID0gXCJwcm90b3R5cGVcIlxuICAgICAgLCBlbGVtQ3RyUHJvdG8gPSB2aWV3LkVsZW1lbnRbcHJvdG9Qcm9wXVxuICAgICAgLCBvYmpDdHIgPSBPYmplY3RcbiAgICAgICwgc3RyVHJpbSA9IFN0cmluZ1twcm90b1Byb3BdLnRyaW0gfHwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbiAgICAgIH1cbiAgICAgICwgYXJySW5kZXhPZiA9IEFycmF5W3Byb3RvUHJvcF0uaW5kZXhPZiB8fCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGkgPSAwXG4gICAgICAgICAgLCBsZW4gPSB0aGlzLmxlbmd0aFxuICAgICAgICA7XG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICAvLyBWZW5kb3JzOiBwbGVhc2UgYWxsb3cgY29udGVudCBjb2RlIHRvIGluc3RhbnRpYXRlIERPTUV4Y2VwdGlvbnNcbiAgICAgICwgRE9NRXggPSBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSB0eXBlO1xuICAgICAgICB0aGlzLmNvZGUgPSBET01FeGNlcHRpb25bdHlwZV07XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICB9XG4gICAgICAsIGNoZWNrVG9rZW5BbmRHZXRJbmRleCA9IGZ1bmN0aW9uIChjbGFzc0xpc3QsIHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJcIikge1xuICAgICAgICAgIHRocm93IG5ldyBET01FeChcbiAgICAgICAgICAgICAgXCJTWU5UQVhfRVJSXCJcbiAgICAgICAgICAgICwgXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9cXHMvLnRlc3QodG9rZW4pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IERPTUV4KFxuICAgICAgICAgICAgICBcIklOVkFMSURfQ0hBUkFDVEVSX0VSUlwiXG4gICAgICAgICAgICAsIFwiU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJJbmRleE9mLmNhbGwoY2xhc3NMaXN0LCB0b2tlbik7XG4gICAgICB9XG4gICAgICAsIENsYXNzTGlzdCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdHJpbW1lZENsYXNzZXMgPSBzdHJUcmltLmNhbGwoZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKVxuICAgICAgICAgICwgY2xhc3NlcyA9IHRyaW1tZWRDbGFzc2VzID8gdHJpbW1lZENsYXNzZXMuc3BsaXQoL1xccysvKSA6IFtdXG4gICAgICAgICAgLCBpID0gMFxuICAgICAgICAgICwgbGVuID0gY2xhc3Nlcy5sZW5ndGhcbiAgICAgICAgO1xuICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5wdXNoKGNsYXNzZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMudG9TdHJpbmcoKSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAsIGNsYXNzTGlzdFByb3RvID0gQ2xhc3NMaXN0W3Byb3RvUHJvcF0gPSBbXVxuICAgICAgLCBjbGFzc0xpc3RHZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2xhc3NMaXN0KHRoaXMpO1xuICAgICAgfVxuICAgIDtcbiAgICAvLyBNb3N0IERPTUV4Y2VwdGlvbiBpbXBsZW1lbnRhdGlvbnMgZG9uJ3QgYWxsb3cgY2FsbGluZyBET01FeGNlcHRpb24ncyB0b1N0cmluZygpXG4gICAgLy8gb24gbm9uLURPTUV4Y2VwdGlvbnMuIEVycm9yJ3MgdG9TdHJpbmcoKSBpcyBzdWZmaWNpZW50IGhlcmUuXG4gICAgRE9NRXhbcHJvdG9Qcm9wXSA9IEVycm9yW3Byb3RvUHJvcF07XG4gICAgY2xhc3NMaXN0UHJvdG8uaXRlbSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gdGhpc1tpXSB8fCBudWxsO1xuICAgIH07XG4gICAgY2xhc3NMaXN0UHJvdG8uY29udGFpbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgIHRva2VuICs9IFwiXCI7XG4gICAgICByZXR1cm4gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSAhPT0gLTE7XG4gICAgfTtcbiAgICBjbGFzc0xpc3RQcm90by5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXJcbiAgICAgICAgICB0b2tlbnMgPSBhcmd1bWVudHNcbiAgICAgICAgLCBpID0gMFxuICAgICAgICAsIGwgPSB0b2tlbnMubGVuZ3RoXG4gICAgICAgICwgdG9rZW5cbiAgICAgICAgLCB1cGRhdGVkID0gZmFsc2VcbiAgICAgIDtcbiAgICAgIGRvIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuICAgICAgICBpZiAoY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnB1c2godG9rZW4pO1xuICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpIDwgbCk7XG5cbiAgICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY2xhc3NMaXN0UHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyXG4gICAgICAgICAgdG9rZW5zID0gYXJndW1lbnRzXG4gICAgICAgICwgaSA9IDBcbiAgICAgICAgLCBsID0gdG9rZW5zLmxlbmd0aFxuICAgICAgICAsIHRva2VuXG4gICAgICAgICwgdXBkYXRlZCA9IGZhbHNlXG4gICAgICAgICwgaW5kZXhcbiAgICAgIDtcbiAgICAgIGRvIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuICAgICAgICBpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7XG4gICAgICAgIHdoaWxlIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgdXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgaW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpIDwgbCk7XG5cbiAgICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY2xhc3NMaXN0UHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gKHRva2VuLCBmb3JjZSkge1xuICAgICAgdG9rZW4gKz0gXCJcIjtcblxuICAgICAgdmFyXG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy5jb250YWlucyh0b2tlbilcbiAgICAgICAgLCBtZXRob2QgPSByZXN1bHQgP1xuICAgICAgICAgIGZvcmNlICE9PSB0cnVlICYmIFwicmVtb3ZlXCJcbiAgICAgICAgOlxuICAgICAgICAgIGZvcmNlICE9PSBmYWxzZSAmJiBcImFkZFwiXG4gICAgICA7XG5cbiAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgdGhpc1ttZXRob2RdKHRva2VuKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcmNlID09PSB0cnVlIHx8IGZvcmNlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZm9yY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNsYXNzTGlzdFByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuam9pbihcIiBcIik7XG4gICAgfTtcblxuICAgIGlmIChvYmpDdHIuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgIHZhciBjbGFzc0xpc3RQcm9wRGVzYyA9IHtcbiAgICAgICAgICBnZXQ6IGNsYXNzTGlzdEdldHRlclxuICAgICAgICAsIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgLCBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG4gICAgICB9IGNhdGNoIChleCkgeyAvLyBJRSA4IGRvZXNuJ3Qgc3VwcG9ydCBlbnVtZXJhYmxlOnRydWVcbiAgICAgICAgaWYgKGV4Lm51bWJlciA9PT0gLTB4N0ZGNUVDNTQpIHtcbiAgICAgICAgICBjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgb2JqQ3RyLmRlZmluZVByb3BlcnR5KGVsZW1DdHJQcm90bywgY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0UHJvcERlc2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmpDdHJbcHJvdG9Qcm9wXS5fX2RlZmluZUdldHRlcl9fKSB7XG4gICAgICBlbGVtQ3RyUHJvdG8uX19kZWZpbmVHZXR0ZXJfXyhjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RHZXR0ZXIpO1xuICAgIH1cblxuICAgIH0od2luZG93LnNlbGYpKTtcblxuICAgIH0gZWxzZSB7XG4gICAgLy8gVGhlcmUgaXMgZnVsbCBvciBwYXJ0aWFsIG5hdGl2ZSBjbGFzc0xpc3Qgc3VwcG9ydCwgc28ganVzdCBjaGVjayBpZiB3ZSBuZWVkXG4gICAgLy8gdG8gbm9ybWFsaXplIHRoZSBhZGQvcmVtb3ZlIGFuZCB0b2dnbGUgQVBJcy5cblxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgdmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIik7XG5cbiAgICAgIHRlc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjMVwiLCBcImMyXCIpO1xuXG4gICAgICAvLyBQb2x5ZmlsbCBmb3IgSUUgMTAvMTEgYW5kIEZpcmVmb3ggPDI2LCB3aGVyZSBjbGFzc0xpc3QuYWRkIGFuZFxuICAgICAgLy8gY2xhc3NMaXN0LnJlbW92ZSBleGlzdCBidXQgc3VwcG9ydCBvbmx5IG9uZSBhcmd1bWVudCBhdCBhIHRpbWUuXG4gICAgICBpZiAoIXRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMyXCIpKSB7XG4gICAgICAgIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgICB2YXIgb3JpZ2luYWwgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF07XG5cbiAgICAgICAgICBET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICAgICAgdmFyIGksIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICB0b2tlbiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgb3JpZ2luYWwuY2FsbCh0aGlzLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY3JlYXRlTWV0aG9kKCdhZGQnKTtcbiAgICAgICAgY3JlYXRlTWV0aG9kKCdyZW1vdmUnKTtcbiAgICAgIH1cblxuICAgICAgdGVzdEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImMzXCIsIGZhbHNlKTtcblxuICAgICAgLy8gUG9seWZpbGwgZm9yIElFIDEwIGFuZCBGaXJlZm94IDwyNCwgd2hlcmUgY2xhc3NMaXN0LnRvZ2dsZSBkb2VzIG5vdFxuICAgICAgLy8gc3VwcG9ydCB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgICAgaWYgKHRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMzXCIpKSB7XG4gICAgICAgIHZhciBfdG9nZ2xlID0gRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU7XG5cbiAgICAgICAgRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbih0b2tlbiwgZm9yY2UpIHtcbiAgICAgICAgICBpZiAoMSBpbiBhcmd1bWVudHMgJiYgIXRoaXMuY29udGFpbnModG9rZW4pID09PSAhZm9yY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JjZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF90b2dnbGUuY2FsbCh0aGlzLCB0b2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICB9XG5cbiAgICAgIHRlc3RFbGVtZW50ID0gbnVsbDtcbiAgICB9KCkpO1xuICB9XG59XG5cbn0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXG4vKipcbiAqIEV4cG9zZSBgcGFyc2VgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2U7XG5cbi8qKlxuICogVGVzdHMgZm9yIGJyb3dzZXIgc3VwcG9ydC5cbiAqL1xuXG52YXIgaW5uZXJIVE1MQnVnID0gZmFsc2U7XG52YXIgYnVnVGVzdERpdjtcbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gIGJ1Z1Rlc3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgLy8gU2V0dXBcbiAgYnVnVGVzdERpdi5pbm5lckhUTUwgPSAnICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj1cIi9hXCI+YTwvYT48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIvPic7XG4gIC8vIE1ha2Ugc3VyZSB0aGF0IGxpbmsgZWxlbWVudHMgZ2V0IHNlcmlhbGl6ZWQgY29ycmVjdGx5IGJ5IGlubmVySFRNTFxuICAvLyBUaGlzIHJlcXVpcmVzIGEgd3JhcHBlciBlbGVtZW50IGluIElFXG4gIGlubmVySFRNTEJ1ZyA9ICFidWdUZXN0RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJykubGVuZ3RoO1xuICBidWdUZXN0RGl2ID0gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFdyYXAgbWFwIGZyb20ganF1ZXJ5LlxuICovXG5cbnZhciBtYXAgPSB7XG4gIGxlZ2VuZDogWzEsICc8ZmllbGRzZXQ+JywgJzwvZmllbGRzZXQ+J10sXG4gIHRyOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcbiAgY29sOiBbMiwgJzx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcbiAgLy8gZm9yIHNjcmlwdC9saW5rL3N0eWxlIHRhZ3MgdG8gd29yayBpbiBJRTYtOCwgeW91IGhhdmUgdG8gd3JhcFxuICAvLyBpbiBhIGRpdiB3aXRoIGEgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyIGluIGZyb250LCBoYSFcbiAgX2RlZmF1bHQ6IGlubmVySFRNTEJ1ZyA/IFsxLCAnWDxkaXY+JywgJzwvZGl2PiddIDogWzAsICcnLCAnJ11cbn07XG5cbm1hcC50ZCA9XG5tYXAudGggPSBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXTtcblxubWFwLm9wdGlvbiA9XG5tYXAub3B0Z3JvdXAgPSBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsICc8L3NlbGVjdD4nXTtcblxubWFwLnRoZWFkID1cbm1hcC50Ym9keSA9XG5tYXAuY29sZ3JvdXAgPVxubWFwLmNhcHRpb24gPVxubWFwLnRmb290ID0gWzEsICc8dGFibGU+JywgJzwvdGFibGU+J107XG5cbm1hcC5wb2x5bGluZSA9XG5tYXAuZWxsaXBzZSA9XG5tYXAucG9seWdvbiA9XG5tYXAuY2lyY2xlID1cbm1hcC50ZXh0ID1cbm1hcC5saW5lID1cbm1hcC5wYXRoID1cbm1hcC5yZWN0ID1cbm1hcC5nID0gWzEsICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2ZXJzaW9uPVwiMS4xXCI+JywnPC9zdmc+J107XG5cbi8qKlxuICogUGFyc2UgYGh0bWxgIGFuZCByZXR1cm4gYSBET00gTm9kZSBpbnN0YW5jZSwgd2hpY2ggY291bGQgYmUgYSBUZXh0Tm9kZSxcbiAqIEhUTUwgRE9NIE5vZGUgb2Ygc29tZSBraW5kICg8ZGl2PiBmb3IgZXhhbXBsZSksIG9yIGEgRG9jdW1lbnRGcmFnbWVudFxuICogaW5zdGFuY2UsIGRlcGVuZGluZyBvbiB0aGUgY29udGVudHMgb2YgdGhlIGBodG1sYCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGh0bWwgLSBIVE1MIHN0cmluZyB0byBcImRvbWlmeVwiXG4gKiBAcGFyYW0ge0RvY3VtZW50fSBkb2MgLSBUaGUgYGRvY3VtZW50YCBpbnN0YW5jZSB0byBjcmVhdGUgdGhlIE5vZGUgZm9yXG4gKiBAcmV0dXJuIHtET01Ob2RlfSB0aGUgVGV4dE5vZGUsIERPTSBOb2RlLCBvciBEb2N1bWVudEZyYWdtZW50IGluc3RhbmNlXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShodG1sLCBkb2MpIHtcbiAgaWYgKCdzdHJpbmcnICE9IHR5cGVvZiBodG1sKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQnKTtcblxuICAvLyBkZWZhdWx0IHRvIHRoZSBnbG9iYWwgYGRvY3VtZW50YCBvYmplY3RcbiAgaWYgKCFkb2MpIGRvYyA9IGRvY3VtZW50O1xuXG4gIC8vIHRhZyBuYW1lXG4gIHZhciBtID0gLzwoW1xcdzpdKykvLmV4ZWMoaHRtbCk7XG4gIGlmICghbSkgcmV0dXJuIGRvYy5jcmVhdGVUZXh0Tm9kZShodG1sKTtcblxuICBodG1sID0gaHRtbC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7IC8vIFJlbW92ZSBsZWFkaW5nL3RyYWlsaW5nIHdoaXRlc3BhY2VcblxuICB2YXIgdGFnID0gbVsxXTtcblxuICAvLyBib2R5IHN1cHBvcnRcbiAgaWYgKHRhZyA9PSAnYm9keScpIHtcbiAgICB2YXIgZWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIGVsLnJlbW92ZUNoaWxkKGVsLmxhc3RDaGlsZCk7XG4gIH1cblxuICAvLyB3cmFwIG1hcFxuICB2YXIgd3JhcCA9IG1hcFt0YWddIHx8IG1hcC5fZGVmYXVsdDtcbiAgdmFyIGRlcHRoID0gd3JhcFswXTtcbiAgdmFyIHByZWZpeCA9IHdyYXBbMV07XG4gIHZhciBzdWZmaXggPSB3cmFwWzJdO1xuICB2YXIgZWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVsLmlubmVySFRNTCA9IHByZWZpeCArIGh0bWwgKyBzdWZmaXg7XG4gIHdoaWxlIChkZXB0aC0tKSBlbCA9IGVsLmxhc3RDaGlsZDtcblxuICAvLyBvbmUgZWxlbWVudFxuICBpZiAoZWwuZmlyc3RDaGlsZCA9PSBlbC5sYXN0Q2hpbGQpIHtcbiAgICByZXR1cm4gZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XG4gIH1cblxuICAvLyBzZXZlcmFsIGVsZW1lbnRzXG4gIHZhciBmcmFnbWVudCA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIHdoaWxlIChlbC5maXJzdENoaWxkKSB7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCkpO1xuICB9XG5cbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG59LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogQ29kZSByZWZhY3RvcmVkIGZyb20gTW96aWxsYSBEZXZlbG9wZXIgTmV0d29yazpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIGZpcnN0U291cmNlKSB7XG4gIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBmaXJzdCBhcmd1bWVudCB0byBvYmplY3QnKTtcbiAgfVxuXG4gIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGlmIChuZXh0U291cmNlID09PSB1bmRlZmluZWQgfHwgbmV4dFNvdXJjZSA9PT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGtleXNBcnJheSA9IE9iamVjdC5rZXlzKE9iamVjdChuZXh0U291cmNlKSk7XG4gICAgZm9yICh2YXIgbmV4dEluZGV4ID0gMCwgbGVuID0ga2V5c0FycmF5Lmxlbmd0aDsgbmV4dEluZGV4IDwgbGVuOyBuZXh0SW5kZXgrKykge1xuICAgICAgdmFyIG5leHRLZXkgPSBrZXlzQXJyYXlbbmV4dEluZGV4XTtcbiAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuZXh0U291cmNlLCBuZXh0S2V5KTtcbiAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuXG5mdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwgJ2Fzc2lnbicsIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogYXNzaWduXG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFzc2lnbjogYXNzaWduLFxuICBwb2x5ZmlsbDogcG9seWZpbGxcbn07XG5cbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gY2xhc3NMaXN0IHBvbHlmaWxsIGZvciBvbGQgYnJvd3NlcnNcbnJlcXVpcmUoJ2NsYXNzbGlzdC1wb2x5ZmlsbCcpXG4vLyBPYmplY3QuYXNzaWduIHBvbHlmaWxsXG5yZXF1aXJlKCdlczYtb2JqZWN0LWFzc2lnbicpLnBvbHlmaWxsKClcblxuLy8gU3RyaW5nIHRvIERPTSBmdW5jdGlvblxudmFyIGRvbWlmeSA9IHJlcXVpcmUoJ2RvbWlmeScpXG5cbi8vIFVzZSB0aGUgRE9NJ3MgSFRNTCBwYXJzaW5nIHRvIGVzY2FwZSBhbnkgZGFuZ2Vyb3VzIHN0cmluZ3NcbnZhciBlc2NhcGVIdG1sID0gZnVuY3Rpb24gZXNjYXBlSHRtbCAoc3RyKSB7XG4gIGlmICh0eXBlb2Ygc3RyICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpKVxuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnXG4gIH1cbn1cblxuLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBhZGQgc3BhY2UtZGVsaW1pdGVkIGNsYXNzIHN0cmluZ3MgdG8gYSBET00gZWxlbWVudCdzIGNsYXNzTGlzdFxudmFyIGFkZENsYXNzZXMgPSBmdW5jdGlvbiBhZGRDbGFzc2VzIChlbCwgY2xhc3NTdHIpIHtcbiAgaWYgKHR5cGVvZiBjbGFzc1N0ciAhPT0gJ3N0cmluZycgfHwgY2xhc3NTdHIubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGNsYXNzZXMgPSBjbGFzc1N0ci5zcGxpdCgnICcpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc2VzW2ldXG4gICAgaWYgKGNsYXNzTmFtZS5sZW5ndGgpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKVxuICAgIH1cbiAgfVxufVxuXG4vLyBEZXRlY3QgQ1NTIEFuaW1hdGlvbiBFbmQgU3VwcG9ydFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpbW9udGUvc3dlZXRhbGVydDIvYmxvYi85OWJkNTM5Zjg1ZTE1YWMxNzBmNjlkMzUwMDFkMTJlMDkyZWYwMDU0L3NyYy91dGlscy9kb20uanMjTDE5NFxudmFyIGFuaW1hdGlvbkVuZEV2ZW50ID0gKGZ1bmN0aW9uIGRldGVjdEFuaW1hdGlvbkVuZEV2ZW50ICgpIHtcbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgdmFyIGV2ZW50TmFtZXMgPSB7XG4gICAgJ1dlYmtpdEFuaW1hdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pBbmltYXRpb24nOiAnYW5pbWF0aW9uZW5kJyxcbiAgICAnT0FuaW1hdGlvbic6ICdvYW5pbWF0aW9uZW5kJyxcbiAgICAnbXNBbmltYXRpb24nOiAnTVNBbmltYXRpb25FbmQnLFxuICAgICdhbmltYXRpb24nOiAnYW5pbWF0aW9uZW5kJ1xuICB9XG4gIGZvciAodmFyIGkgaW4gZXZlbnROYW1lcykge1xuICAgIGlmIChlbC5zdHlsZVtpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZlbnROYW1lc1tpXVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn0pKClcblxuLy8gdmV4IGJhc2UgQ1NTIGNsYXNzZXNcbnZhciBiYXNlQ2xhc3NOYW1lcyA9IHtcbiAgdmV4OiAndmV4JyxcbiAgY29udGVudDogJ3ZleC1jb250ZW50JyxcbiAgb3ZlcmxheTogJ3ZleC1vdmVybGF5JyxcbiAgY2xvc2U6ICd2ZXgtY2xvc2UnLFxuICBjbG9zaW5nOiAndmV4LWNsb3NpbmcnLFxuICBvcGVuOiAndmV4LW9wZW4nXG59XG5cbi8vIFByaXZhdGUgbG9va3VwIHRhYmxlIG9mIGFsbCBvcGVuIHZleCBvYmplY3RzLCBrZXllZCBieSBpZFxudmFyIHZleGVzID0ge31cbnZhciBnbG9iYWxJZCA9IDFcblxuLy8gUHJpdmF0ZSBib29sZWFuIHRvIGFzc2lzdCB0aGUgZXNjYXBlQnV0dG9uQ2xvc2VzIG9wdGlvblxudmFyIGlzRXNjYXBlQWN0aXZlID0gZmFsc2VcblxuLy8gdmV4IGl0c2VsZiBpcyBhbiBvYmplY3QgdGhhdCBleHBvc2VzIGEgc2ltcGxlIEFQSSB0byBvcGVuIGFuZCBjbG9zZSB2ZXggb2JqZWN0cyBpbiB2YXJpb3VzIHdheXNcbnZhciB2ZXggPSB7XG4gIG9wZW46IGZ1bmN0aW9uIG9wZW4gKG9wdHMpIHtcbiAgICAvLyBDaGVjayBmb3IgdXNhZ2Ugb2YgZGVwcmVjYXRlZCBvcHRpb25zLCBhbmQgbG9nIGEgd2FybmluZ1xuICAgIHZhciB3YXJuRGVwcmVjYXRlZCA9IGZ1bmN0aW9uIHdhcm5EZXByZWNhdGVkIChwcm9wKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1RoZSBcIicgKyBwcm9wICsgJ1wiIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQgaW4gdmV4IDMuIFVzZSBDU1MgY2xhc3NlcyBhbmQgdGhlIGFwcHJvcHJpYXRlIFwiQ2xhc3NOYW1lXCIgb3B0aW9ucywgaW5zdGVhZC4nKVxuICAgICAgY29uc29sZS53YXJuKCdTZWUgaHR0cDovL2dpdGh1Yi5odWJzcG90LmNvbS92ZXgvYXBpL2FkdmFuY2VkLyNvcHRpb25zJylcbiAgICB9XG4gICAgaWYgKG9wdHMuY3NzKSB7XG4gICAgICB3YXJuRGVwcmVjYXRlZCgnY3NzJylcbiAgICB9XG4gICAgaWYgKG9wdHMub3ZlcmxheUNTUykge1xuICAgICAgd2FybkRlcHJlY2F0ZWQoJ292ZXJsYXlDU1MnKVxuICAgIH1cbiAgICBpZiAob3B0cy5jb250ZW50Q1NTKSB7XG4gICAgICB3YXJuRGVwcmVjYXRlZCgnY29udGVudENTUycpXG4gICAgfVxuICAgIGlmIChvcHRzLmNsb3NlQ1NTKSB7XG4gICAgICB3YXJuRGVwcmVjYXRlZCgnY2xvc2VDU1MnKVxuICAgIH1cblxuICAgIC8vIFRoZSBkaWFsb2cgaW5zdGFuY2VcbiAgICB2YXIgdmV4SW5zdGFuY2UgPSB7fVxuXG4gICAgLy8gU2V0IGlkXG4gICAgdmV4SW5zdGFuY2UuaWQgPSBnbG9iYWxJZCsrXG5cbiAgICAvLyBTdG9yZSBpbnRlcm5hbGx5XG4gICAgdmV4ZXNbdmV4SW5zdGFuY2UuaWRdID0gdmV4SW5zdGFuY2VcblxuICAgIC8vIFNldCBzdGF0ZVxuICAgIHZleEluc3RhbmNlLmlzT3BlbiA9IHRydWVcblxuICAgIC8vIENsb3NlIGZ1bmN0aW9uIG9uIHRoZSB2ZXggaW5zdGFuY2VcbiAgICAvLyBUaGlzIGlzIGhvdyBhbGwgQVBJIGZ1bmN0aW9ucyBzaG91bGQgY2xvc2UgaW5kaXZpZHVhbCB2ZXhlc1xuICAgIHZleEluc3RhbmNlLmNsb3NlID0gZnVuY3Rpb24gaW5zdGFuY2VDbG9zZSAoKSB7XG4gICAgICAvLyBDaGVjayBzdGF0ZVxuICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gICAgICAvLyBlc2NhcGVCdXR0b25DbG9zZXMgaXMgY2hlY2tlZCBmaXJzdFxuICAgICAgaWYgKGlzRXNjYXBlQWN0aXZlICYmICFvcHRpb25zLmVzY2FwZUJ1dHRvbkNsb3Nlcykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgLy8gQWxsb3cgdGhlIHVzZXIgdG8gdmFsaWRhdGUgYW55IGluZm8gb3IgYWJvcnQgdGhlIGNsb3NlIHdpdGggdGhlIGJlZm9yZUNsb3NlIGNhbGxiYWNrXG4gICAgICB2YXIgc2hvdWxkQ2xvc2UgPSAoZnVuY3Rpb24gc2hvdWxkQ2xvc2UgKCkge1xuICAgICAgICAvLyBDYWxsIGJlZm9yZSBjbG9zZSBjYWxsYmFja1xuICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVDbG9zZSkge1xuICAgICAgICAgIHJldHVybiBvcHRpb25zLmJlZm9yZUNsb3NlLmNhbGwodGhpcylcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UgaW5kaWNhdGUgdGhhdCBpdCdzIG9rIHRvIGNvbnRpbnVlIHdpdGggY2xvc2VcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0uYmluZCh0aGlzKSgpKVxuXG4gICAgICAvLyBJZiBiZWZvcmVDbG9zZSgpIGZhaWxzLCBhYm9ydCB0aGUgY2xvc2VcbiAgICAgIGlmIChzaG91bGRDbG9zZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZVxuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZVxuXG4gICAgICAvLyBEZXRlY3QgaWYgdGhlIGNvbnRlbnQgZWwgaGFzIGFueSBDU1MgYW5pbWF0aW9ucyBkZWZpbmVkXG4gICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRlbnRFbClcbiAgICAgIGZ1bmN0aW9uIGhhc0FuaW1hdGlvblByZSAocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHByZWZpeCArICdhbmltYXRpb24tbmFtZScpICE9PSAnbm9uZScgJiYgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcmVmaXggKyAnYW5pbWF0aW9uLWR1cmF0aW9uJykgIT09ICcwcydcbiAgICAgIH1cbiAgICAgIHZhciBoYXNBbmltYXRpb24gPSBoYXNBbmltYXRpb25QcmUoJycpIHx8IGhhc0FuaW1hdGlvblByZSgnLXdlYmtpdC0nKSB8fCBoYXNBbmltYXRpb25QcmUoJy1tb3otJykgfHwgaGFzQW5pbWF0aW9uUHJlKCctby0nKVxuXG4gICAgICAvLyBEZWZpbmUgdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBhY3R1YWxseSBjbG9zZSB0aGUgaW5zdGFuY2VcbiAgICAgIHZhciBjbG9zZSA9IGZ1bmN0aW9uIGNsb3NlICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJvb3RFbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gUnVuIG9uY2VcbiAgICAgICAgdGhpcy5yb290RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihhbmltYXRpb25FbmRFdmVudCwgY2xvc2UpXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGxvb2t1cCB0YWJsZSAocHJldmVudCBtZW1vcnkgbGVha3MpXG4gICAgICAgIGRlbGV0ZSB2ZXhlc1t0aGlzLmlkXVxuICAgICAgICAvLyBSZW1vdmUgdGhlIGRpYWxvZyBmcm9tIHRoZSBET01cbiAgICAgICAgdGhpcy5yb290RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnJvb3RFbClcbiAgICAgICAgLy8gQ2FsbCBhZnRlciBjbG9zZSBjYWxsYmFja1xuICAgICAgICBpZiAob3B0aW9ucy5hZnRlckNsb3NlKSB7XG4gICAgICAgICAgb3B0aW9ucy5hZnRlckNsb3NlLmNhbGwodGhpcylcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgc3R5bGluZyBmcm9tIHRoZSBib2R5LCBpZiBubyBtb3JlIHZleGVzIGFyZSBvcGVuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh2ZXhlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKGJhc2VDbGFzc05hbWVzLm9wZW4pXG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKVxuXG4gICAgICAvLyBDbG9zZSB0aGUgdmV4XG4gICAgICBpZiAoYW5pbWF0aW9uRW5kRXZlbnQgJiYgaGFzQW5pbWF0aW9uKSB7XG4gICAgICAgIC8vIFNldHVwIHRoZSBlbmQgZXZlbnQgbGlzdGVuZXIsIHRvIHJlbW92ZSB0aGUgZWwgZnJvbSB0aGUgRE9NXG4gICAgICAgIHRoaXMucm9vdEVsLmFkZEV2ZW50TGlzdGVuZXIoYW5pbWF0aW9uRW5kRXZlbnQsIGNsb3NlKVxuICAgICAgICAvLyBBZGQgdGhlIGNsb3NpbmcgY2xhc3MgdG8gdGhlIGRpYWxvZywgc2hvd2luZyB0aGUgY2xvc2UgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMucm9vdEVsLmNsYXNzTGlzdC5hZGQoYmFzZUNsYXNzTmFtZXMuY2xvc2luZylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb3NlKClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvLyBBbGxvdyBzdHJpbmdzIGFzIGNvbnRlbnRcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRzID0ge1xuICAgICAgICBjb250ZW50OiBvcHRzXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYGNvbnRlbnRgIGlzIHVuc2FmZSBpbnRlcm5hbGx5LCBzbyB0cmFuc2xhdGVcbiAgICAvLyBzYWZlIGRlZmF1bHQ6IEhUTUwtZXNjYXBlIHRoZSBjb250ZW50IGJlZm9yZSBwYXNzaW5nIGl0IHRocm91Z2hcbiAgICBpZiAob3B0cy51bnNhZmVDb250ZW50ICYmICFvcHRzLmNvbnRlbnQpIHtcbiAgICAgIG9wdHMuY29udGVudCA9IG9wdHMudW5zYWZlQ29udGVudFxuICAgIH0gZWxzZSBpZiAob3B0cy5jb250ZW50KSB7XG4gICAgICBvcHRzLmNvbnRlbnQgPSBlc2NhcGVIdG1sKG9wdHMuY29udGVudClcbiAgICB9XG5cbiAgICAvLyBTdG9yZSBvcHRpb25zIG9uIGluc3RhbmNlIGZvciBmdXR1cmUgcmVmZXJlbmNlXG4gICAgdmFyIG9wdGlvbnMgPSB2ZXhJbnN0YW5jZS5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdmV4LmRlZmF1bHRPcHRpb25zLCBvcHRzKVxuXG4gICAgLy8gdmV4IHJvb3RcbiAgICB2YXIgcm9vdEVsID0gdmV4SW5zdGFuY2Uucm9vdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICByb290RWwuY2xhc3NMaXN0LmFkZChiYXNlQ2xhc3NOYW1lcy52ZXgpXG4gICAgYWRkQ2xhc3Nlcyhyb290RWwsIG9wdGlvbnMuY2xhc3NOYW1lKVxuXG4gICAgLy8gT3ZlcmxheVxuICAgIHZhciBvdmVybGF5RWwgPSB2ZXhJbnN0YW5jZS5vdmVybGF5RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG92ZXJsYXlFbC5jbGFzc0xpc3QuYWRkKGJhc2VDbGFzc05hbWVzLm92ZXJsYXkpXG4gICAgYWRkQ2xhc3NlcyhvdmVybGF5RWwsIG9wdGlvbnMub3ZlcmxheUNsYXNzTmFtZSlcbiAgICBpZiAob3B0aW9ucy5vdmVybGF5Q2xvc2VzT25DbGljaykge1xuICAgICAgb3ZlcmxheUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gb3ZlcmxheUNsaWNrTGlzdGVuZXIgKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBvdmVybGF5RWwpIHtcbiAgICAgICAgICB2ZXhJbnN0YW5jZS5jbG9zZSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIHJvb3RFbC5hcHBlbmRDaGlsZChvdmVybGF5RWwpXG5cbiAgICAvLyBDb250ZW50XG4gICAgdmFyIGNvbnRlbnRFbCA9IHZleEluc3RhbmNlLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgY29udGVudEVsLmNsYXNzTGlzdC5hZGQoYmFzZUNsYXNzTmFtZXMuY29udGVudClcbiAgICBhZGRDbGFzc2VzKGNvbnRlbnRFbCwgb3B0aW9ucy5jb250ZW50Q2xhc3NOYW1lKVxuICAgIGNvbnRlbnRFbC5hcHBlbmRDaGlsZChvcHRpb25zLmNvbnRlbnQgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSA/IG9wdGlvbnMuY29udGVudCA6IGRvbWlmeShvcHRpb25zLmNvbnRlbnQpKVxuICAgIHJvb3RFbC5hcHBlbmRDaGlsZChjb250ZW50RWwpXG5cbiAgICAvLyBDbG9zZSBidXR0b25cbiAgICBpZiAob3B0aW9ucy5zaG93Q2xvc2VCdXR0b24pIHtcbiAgICAgIHZhciBjbG9zZUVsID0gdmV4SW5zdGFuY2UuY2xvc2VFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICBjbG9zZUVsLmNsYXNzTGlzdC5hZGQoYmFzZUNsYXNzTmFtZXMuY2xvc2UpXG4gICAgICBhZGRDbGFzc2VzKGNsb3NlRWwsIG9wdGlvbnMuY2xvc2VDbGFzc05hbWUpXG4gICAgICBjbG9zZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdmV4SW5zdGFuY2UuY2xvc2UuYmluZCh2ZXhJbnN0YW5jZSkpXG4gICAgICBjb250ZW50RWwuYXBwZW5kQ2hpbGQoY2xvc2VFbClcbiAgICB9XG5cbiAgICAvLyBBZGQgdG8gRE9NXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmFwcGVuZExvY2F0aW9uKS5hcHBlbmRDaGlsZChyb290RWwpXG5cbiAgICAvLyBDYWxsIGFmdGVyIG9wZW4gY2FsbGJhY2tcbiAgICBpZiAob3B0aW9ucy5hZnRlck9wZW4pIHtcbiAgICAgIG9wdGlvbnMuYWZ0ZXJPcGVuLmNhbGwodmV4SW5zdGFuY2UpXG4gICAgfVxuXG4gICAgLy8gQXBwbHkgc3R5bGluZyB0byB0aGUgYm9keVxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChiYXNlQ2xhc3NOYW1lcy5vcGVuKVxuXG4gICAgLy8gUmV0dXJuIHRoZSBjcmVhdGVkIHZleCBpbnN0YW5jZVxuICAgIHJldHVybiB2ZXhJbnN0YW5jZVxuICB9LFxuXG4gIC8vIEEgdG9wLWxldmVsIHZleC5jbG9zZSBmdW5jdGlvbiB0byBjbG9zZSBkaWFsb2dzIGJ5IHJlZmVyZW5jZSBvciBpZFxuICBjbG9zZTogZnVuY3Rpb24gY2xvc2UgKHZleE9ySWQpIHtcbiAgICB2YXIgaWRcbiAgICBpZiAodmV4T3JJZC5pZCkge1xuICAgICAgaWQgPSB2ZXhPcklkLmlkXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmV4T3JJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlkID0gdmV4T3JJZFxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjbG9zZSByZXF1aXJlcyBhIHZleCBvYmplY3Qgb3IgaWQgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKCF2ZXhlc1tpZF0pIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdmV4ZXNbaWRdLmNsb3NlKClcbiAgfSxcblxuICAvLyBDbG9zZSB0aGUgbW9zdCByZWNlbnRseSBjcmVhdGVkL29wZW5lZCB2ZXhcbiAgY2xvc2VUb3A6IGZ1bmN0aW9uIGNsb3NlVG9wICgpIHtcbiAgICB2YXIgaWRzID0gT2JqZWN0LmtleXModmV4ZXMpXG4gICAgaWYgKCFpZHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHZleGVzW2lkc1tpZHMubGVuZ3RoIC0gMV1dLmNsb3NlKClcbiAgfSxcblxuICAvLyBDbG9zZSBldmVyeSB2ZXghXG4gIGNsb3NlQWxsOiBmdW5jdGlvbiBjbG9zZUFsbCAoKSB7XG4gICAgZm9yICh2YXIgaWQgaW4gdmV4ZXMpIHtcbiAgICAgIHRoaXMuY2xvc2UoaWQpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH0sXG5cbiAgLy8gQSBnZXR0ZXIgZm9yIHRoZSBpbnRlcm5hbCBsb29rdXAgdGFibGVcbiAgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwgKCkge1xuICAgIHJldHVybiB2ZXhlc1xuICB9LFxuXG4gIC8vIEEgZ2V0dGVyIGZvciB0aGUgaW50ZXJuYWwgbG9va3VwIHRhYmxlXG4gIGdldEJ5SWQ6IGZ1bmN0aW9uIGdldEJ5SWQgKGlkKSB7XG4gICAgcmV0dXJuIHZleGVzW2lkXVxuICB9XG59XG5cbi8vIENsb3NlIHRvcCB2ZXggb24gZXNjYXBlXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiB2ZXhLZXl1cExpc3RlbmVyIChlKSB7XG4gIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgaXNFc2NhcGVBY3RpdmUgPSB0cnVlXG4gICAgdmV4LmNsb3NlVG9wKClcbiAgICBpc0VzY2FwZUFjdGl2ZSA9IGZhbHNlXG4gIH1cbn0pXG4vLyBDbG9zZSBhbGwgdmV4ZXMgb24gaGlzdG9yeSBwb3Agc3RhdGUgKHVzZWZ1bCBpbiBzaW5nbGUgcGFnZSBhcHBzKVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdmV4LmNsb3NlQWxsKVxuXG52ZXguZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGNvbnRlbnQ6ICcnLFxuICBzaG93Q2xvc2VCdXR0b246IHRydWUsXG4gIGVzY2FwZUJ1dHRvbkNsb3NlczogdHJ1ZSxcbiAgb3ZlcmxheUNsb3Nlc09uQ2xpY2s6IHRydWUsXG4gIGFwcGVuZExvY2F0aW9uOiAnYm9keScsXG4gIGNsYXNzTmFtZTogJycsXG4gIG92ZXJsYXlDbGFzc05hbWU6ICcnLFxuICBjb250ZW50Q2xhc3NOYW1lOiAnJyxcbiAgY2xvc2VDbGFzc05hbWU6ICcnXG59XG5cbi8vIFRPRE8gTG9hZGluZyBzeW1ib2xzP1xuXG4vLyBJbmNsdWRlIGVzY2FwZUh0bWwgZnVuY3Rpb24gb24gdGhlIGxpYnJhcnkgb2JqZWN0XG5PYmplY3QuZGVmaW5lUHJvcGVydHkodmV4LCAnX2VzY2FwZUh0bWwnLCB7XG4gIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICB3cml0YWJsZTogZmFsc2UsXG4gIHZhbHVlOiBlc2NhcGVIdG1sXG59KVxuXG4vLyBQbHVnaW4gc3lzdGVtIVxudmV4LnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4gKHBsdWdpbkZuLCBuYW1lKSB7XG4gIHZhciBwbHVnaW4gPSBwbHVnaW5Gbih2ZXgpXG4gIHZhciBwbHVnaW5OYW1lID0gbmFtZSB8fCBwbHVnaW4ubmFtZVxuICBpZiAodmV4W3BsdWdpbk5hbWVdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gJyArIG5hbWUgKyAnIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKVxuICB9XG4gIHZleFtwbHVnaW5OYW1lXSA9IHBsdWdpblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHZleFxuXG59LHtcImNsYXNzbGlzdC1wb2x5ZmlsbFwiOjEsXCJkb21pZnlcIjoyLFwiZXM2LW9iamVjdC1hc3NpZ25cIjozfV19LHt9LFs0XSkoNClcbn0pOyJdfQ=="}